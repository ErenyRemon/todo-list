(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function zv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var dd={exports:{}},ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function x1(){if(t_)return ll;t_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return ll.Fragment=t,ll.jsx=n,ll.jsxs=n,ll}var e_;function k1(){return e_||(e_=1,dd.exports=x1()),dd.exports}var st=k1(),md={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function P1(){if(n_)return St;n_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function D(O){return O===null||typeof O!="object"?null:(O=I&&O[I]||O["@@iterator"],typeof O=="function"?O:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,W={};function $(O,X,at){this.props=O,this.context=X,this.refs=W,this.updater=at||z}$.prototype.isReactComponent={},$.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},$.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Tt(){}Tt.prototype=$.prototype;function ot(O,X,at){this.props=O,this.context=X,this.refs=W,this.updater=at||z}var mt=ot.prototype=new Tt;mt.constructor=ot,F(mt,$.prototype),mt.isPureReactComponent=!0;var Ut=Array.isArray,_t={H:null,A:null,T:null,S:null},Dt=Object.prototype.hasOwnProperty;function x(O,X,at,tt,et,bt){return at=bt.ref,{$$typeof:r,type:O,key:X,ref:at!==void 0?at:null,props:bt}}function w(O,X){return x(O.type,X,void 0,void 0,void 0,O.props)}function S(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function C(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(at){return X[at]})}var M=/\/+/g;function U(O,X){return typeof O=="object"&&O!==null&&O.key!=null?C(""+O.key):X.toString(36)}function R(){}function pe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(R,R):(O.status="pending",O.then(function(X){O.status==="pending"&&(O.status="fulfilled",O.value=X)},function(X){O.status==="pending"&&(O.status="rejected",O.reason=X)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ce(O,X,at,tt,et){var bt=typeof O;(bt==="undefined"||bt==="boolean")&&(O=null);var At=!1;if(O===null)At=!0;else switch(bt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(O.$$typeof){case r:case t:At=!0;break;case A:return At=O._init,ce(At(O._payload),X,at,tt,et)}}if(At)return et=et(O),At=tt===""?"."+U(O,0):tt,Ut(et)?(at="",At!=null&&(at=At.replace(M,"$&/")+"/"),ce(et,X,at,"",function(ne){return ne})):et!=null&&(S(et)&&(et=w(et,at+(et.key==null||O&&O.key===et.key?"":(""+et.key).replace(M,"$&/")+"/")+At)),X.push(et)),1;At=0;var he=tt===""?".":tt+":";if(Ut(O))for(var Lt=0;Lt<O.length;Lt++)tt=O[Lt],bt=he+U(tt,Lt),At+=ce(tt,X,at,bt,et);else if(Lt=D(O),typeof Lt=="function")for(O=Lt.call(O),Lt=0;!(tt=O.next()).done;)tt=tt.value,bt=he+U(tt,Lt++),At+=ce(tt,X,at,bt,et);else if(bt==="object"){if(typeof O.then=="function")return ce(pe(O),X,at,tt,et);throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return At}function J(O,X,at){if(O==null)return O;var tt=[],et=0;return ce(O,tt,"","",function(bt){return X.call(at,bt,et++)}),tt}function gt(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(at){(O._status===0||O._status===-1)&&(O._status=1,O._result=at)},function(at){(O._status===0||O._status===-1)&&(O._status=2,O._result=at)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var ct=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Ht(){}return St.Children={map:J,forEach:function(O,X,at){J(O,function(){X.apply(this,arguments)},at)},count:function(O){var X=0;return J(O,function(){X++}),X},toArray:function(O){return J(O,function(X){return X})||[]},only:function(O){if(!S(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},St.Component=$,St.Fragment=n,St.Profiler=l,St.PureComponent=ot,St.StrictMode=s,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,St.act=function(){throw Error("act(...) is not supported in production builds of React.")},St.cache=function(O){return function(){return O.apply(null,arguments)}},St.cloneElement=function(O,X,at){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var tt=F({},O.props),et=O.key,bt=void 0;if(X!=null)for(At in X.ref!==void 0&&(bt=void 0),X.key!==void 0&&(et=""+X.key),X)!Dt.call(X,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&X.ref===void 0||(tt[At]=X[At]);var At=arguments.length-2;if(At===1)tt.children=at;else if(1<At){for(var he=Array(At),Lt=0;Lt<At;Lt++)he[Lt]=arguments[Lt+2];tt.children=he}return x(O.type,et,void 0,void 0,bt,tt)},St.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},St.createElement=function(O,X,at){var tt,et={},bt=null;if(X!=null)for(tt in X.key!==void 0&&(bt=""+X.key),X)Dt.call(X,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(et[tt]=X[tt]);var At=arguments.length-2;if(At===1)et.children=at;else if(1<At){for(var he=Array(At),Lt=0;Lt<At;Lt++)he[Lt]=arguments[Lt+2];et.children=he}if(O&&O.defaultProps)for(tt in At=O.defaultProps,At)et[tt]===void 0&&(et[tt]=At[tt]);return x(O,bt,void 0,void 0,null,et)},St.createRef=function(){return{current:null}},St.forwardRef=function(O){return{$$typeof:g,render:O}},St.isValidElement=S,St.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:gt}},St.memo=function(O,X){return{$$typeof:v,type:O,compare:X===void 0?null:X}},St.startTransition=function(O){var X=_t.T,at={};_t.T=at;try{var tt=O(),et=_t.S;et!==null&&et(at,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(Ht,ct)}catch(bt){ct(bt)}finally{_t.T=X}},St.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},St.use=function(O){return _t.H.use(O)},St.useActionState=function(O,X,at){return _t.H.useActionState(O,X,at)},St.useCallback=function(O,X){return _t.H.useCallback(O,X)},St.useContext=function(O){return _t.H.useContext(O)},St.useDebugValue=function(){},St.useDeferredValue=function(O,X){return _t.H.useDeferredValue(O,X)},St.useEffect=function(O,X){return _t.H.useEffect(O,X)},St.useId=function(){return _t.H.useId()},St.useImperativeHandle=function(O,X,at){return _t.H.useImperativeHandle(O,X,at)},St.useInsertionEffect=function(O,X){return _t.H.useInsertionEffect(O,X)},St.useLayoutEffect=function(O,X){return _t.H.useLayoutEffect(O,X)},St.useMemo=function(O,X){return _t.H.useMemo(O,X)},St.useOptimistic=function(O,X){return _t.H.useOptimistic(O,X)},St.useReducer=function(O,X,at){return _t.H.useReducer(O,X,at)},St.useRef=function(O){return _t.H.useRef(O)},St.useState=function(O){return _t.H.useState(O)},St.useSyncExternalStore=function(O,X,at){return _t.H.useSyncExternalStore(O,X,at)},St.useTransition=function(){return _t.H.useTransition()},St.version="19.0.0",St}var i_;function sm(){return i_||(i_=1,md.exports=P1()),md.exports}var tn=sm();const Vs=zv(tn);var gd={exports:{}},ul={},pd={exports:{}},yd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function U1(){return r_||(r_=1,function(r){function t(J,gt){var ct=J.length;J.push(gt);t:for(;0<ct;){var Ht=ct-1>>>1,O=J[Ht];if(0<l(O,gt))J[Ht]=gt,J[ct]=O,ct=Ht;else break t}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var gt=J[0],ct=J.pop();if(ct!==gt){J[0]=ct;t:for(var Ht=0,O=J.length,X=O>>>1;Ht<X;){var at=2*(Ht+1)-1,tt=J[at],et=at+1,bt=J[et];if(0>l(tt,ct))et<O&&0>l(bt,tt)?(J[Ht]=bt,J[et]=ct,Ht=et):(J[Ht]=tt,J[at]=ct,Ht=at);else if(et<O&&0>l(bt,ct))J[Ht]=bt,J[et]=ct,Ht=et;else break t}}return gt}function l(J,gt){var ct=J.sortIndex-gt.sortIndex;return ct!==0?ct:J.id-gt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],v=[],A=1,I=null,D=3,z=!1,F=!1,W=!1,$=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function mt(J){for(var gt=n(v);gt!==null;){if(gt.callback===null)s(v);else if(gt.startTime<=J)s(v),gt.sortIndex=gt.expirationTime,t(p,gt);else break;gt=n(v)}}function Ut(J){if(W=!1,mt(J),!F)if(n(p)!==null)F=!0,pe();else{var gt=n(v);gt!==null&&ce(Ut,gt.startTime-J)}}var _t=!1,Dt=-1,x=5,w=-1;function S(){return!(r.unstable_now()-w<x)}function C(){if(_t){var J=r.unstable_now();w=J;var gt=!0;try{t:{F=!1,W&&(W=!1,Tt(Dt),Dt=-1),z=!0;var ct=D;try{e:{for(mt(J),I=n(p);I!==null&&!(I.expirationTime>J&&S());){var Ht=I.callback;if(typeof Ht=="function"){I.callback=null,D=I.priorityLevel;var O=Ht(I.expirationTime<=J);if(J=r.unstable_now(),typeof O=="function"){I.callback=O,mt(J),gt=!0;break e}I===n(p)&&s(p),mt(J)}else s(p);I=n(p)}if(I!==null)gt=!0;else{var X=n(v);X!==null&&ce(Ut,X.startTime-J),gt=!1}}break t}finally{I=null,D=ct,z=!1}gt=void 0}}finally{gt?M():_t=!1}}}var M;if(typeof ot=="function")M=function(){ot(C)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,R=U.port2;U.port1.onmessage=C,M=function(){R.postMessage(null)}}else M=function(){$(C,0)};function pe(){_t||(_t=!0,M())}function ce(J,gt){Dt=$(function(){J(r.unstable_now())},gt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_continueExecution=function(){F||z||(F=!0,pe())},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(J){switch(D){case 1:case 2:case 3:var gt=3;break;default:gt=D}var ct=D;D=gt;try{return J()}finally{D=ct}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(J,gt){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ct=D;D=J;try{return gt()}finally{D=ct}},r.unstable_scheduleCallback=function(J,gt,ct){var Ht=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Ht+ct:Ht):ct=Ht,J){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ct+O,J={id:A++,callback:gt,priorityLevel:J,startTime:ct,expirationTime:O,sortIndex:-1},ct>Ht?(J.sortIndex=ct,t(v,J),n(p)===null&&J===n(v)&&(W?(Tt(Dt),Dt=-1):W=!0,ce(Ut,ct-Ht))):(J.sortIndex=O,t(p,J),F||z||(F=!0,pe())),J},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(J){var gt=D;return function(){var ct=D;D=gt;try{return J.apply(this,arguments)}finally{D=ct}}}}(yd)),yd}var s_;function L1(){return s_||(s_=1,pd.exports=U1()),pd.exports}var _d={exports:{}},qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function z1(){if(a_)return qe;a_=1;var r=sm();function t(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,v,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:p,containerInfo:v,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,qe.createPortal=function(p,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(p,v,null,A)},qe.flushSync=function(p){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=v,s.p=A,s.d.f()}},qe.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(p,v))},qe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},qe.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var A=v.as,I=g(A,v.crossOrigin),D=typeof v.integrity=="string"?v.integrity:void 0,z=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:I,integrity:D,fetchPriority:z}):A==="script"&&s.d.X(p,{crossOrigin:I,integrity:D,fetchPriority:z,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},qe.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(p,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(p)},qe.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,I=g(A,v.crossOrigin);s.d.L(p,A,{crossOrigin:I,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},qe.preloadModule=function(p,v){if(typeof p=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(p)},qe.requestFormReset=function(p){s.d.r(p)},qe.unstable_batchedUpdates=function(p,v){return p(v)},qe.useFormState=function(p,v,A){return d.H.useFormState(p,v,A)},qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},qe.version="19.0.0",qe}var o_;function B1(){if(o_)return _d.exports;o_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),_d.exports=z1(),_d.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function j1(){if(l_)return ul;l_=1;var r=L1(),t=sm(),n=B1();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),z=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),Tt=Symbol.for("react.memo"),ot=Symbol.for("react.lazy"),mt=Symbol.for("react.offscreen"),Ut=Symbol.for("react.memo_cache_sentinel"),_t=Symbol.iterator;function Dt(e){return e===null||typeof e!="object"?null:(e=_t&&e[_t]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function w(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case g:return"Portal";case A:return"Profiler";case v:return"StrictMode";case W:return"Suspense";case $:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case z:return(e.displayName||"Context")+".Provider";case D:return(e._context.displayName||"Context")+".Consumer";case F:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tt:return i=e.displayName||null,i!==null?i:w(e.type)||"Memo";case ot:i=e._payload,e=e._init;try{return w(e(i))}catch{}}return null}var S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,M,U;function R(e){if(M===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||"",U=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+e+U}var pe=!1;function ce(e,i){if(!e||pe)return"";pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var B=H}Reflect.construct(e,[],K)}else{try{K.call()}catch(H){B=H}e.call(K.prototype)}}else{try{throw Error()}catch(H){B=H}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var b=_.split(`
`),V=E.split(`
`);for(h=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;h<V.length&&!V[h].includes("DetermineComponentFrameRoot");)h++;if(o===b.length||h===V.length)for(o=b.length-1,h=V.length-1;1<=o&&0<=h&&b[o]!==V[h];)h--;for(;1<=o&&0<=h;o--,h--)if(b[o]!==V[h]){if(o!==1||h!==1)do if(o--,h--,0>h||b[o]!==V[h]){var q=`
`+b[o].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=o&&0<=h);break}}}finally{pe=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?R(a):""}function J(e){switch(e.tag){case 26:case 27:case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 15:return e=ce(e.type,!1),e;case 11:return e=ce(e.type.render,!1),e;case 1:return e=ce(e.type,!0),e;default:return""}}function gt(e){try{var i="";do i+=J(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ct(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function Ht(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function O(e){if(ct(e)!==e)throw Error(s(188))}function X(e){var i=e.alternate;if(!i){if(i=ct(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return O(h),e;if(f===o)return O(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,o=f;break}if(E===o){_=!0,o=h,a=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===a){_=!0,a=f,o=h;break}if(E===o){_=!0,o=f,a=h;break}E=E.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function at(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=at(e),i!==null)return i;e=e.sibling}return null}var tt=Array.isArray,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bt={pending:!1,data:null,method:null,action:null},At=[],he=-1;function Lt(e){return{current:e}}function ne(e){0>he||(e.current=At[he],At[he]=null,he--)}function Gt(e,i){he++,At[he]=e.current,e.current=i}var Ye=Lt(null),di=Lt(null),pn=Lt(null),Yi=Lt(null);function Xi(e,i){switch(Gt(pn,i),Gt(di,e),Gt(Ye,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Dy(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=Dy(e),i=Oy(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(Ye),Gt(Ye,i)}function mi(){ne(Ye),ne(di),ne(pn)}function no(e){e.memoizedState!==null&&Gt(Yi,e);var i=Ye.current,a=Oy(i,e.type);i!==a&&(Gt(di,e),Gt(Ye,a))}function Hs(e){di.current===e&&(ne(Ye),ne(di)),Yi.current===e&&(ne(Yi),il._currentValue=bt)}var qs=Object.prototype.hasOwnProperty,$r=r.unstable_scheduleCallback,Fs=r.unstable_cancelCallback,mh=r.unstable_shouldYield,io=r.unstable_requestPaint,nn=r.unstable_now,Ll=r.unstable_getCurrentPriorityLevel,ye=r.unstable_ImmediatePriority,Re=r.unstable_UserBlockingPriority,gi=r.unstable_NormalPriority,zl=r.unstable_LowPriority,ro=r.unstable_IdlePriority,gh=r.log,Zr=r.unstable_setDisableYieldValue,$i=null,je=null;function so(e){if(je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot($i,e,void 0,(e.current.flags&128)===128)}catch{}}function Fn(e){if(typeof gh=="function"&&Zr(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode($i,e)}catch{}}var Xe=Math.clz32?Math.clz32:jl,ao=Math.log,Bl=Math.LN2;function jl(e){return e>>>=0,e===0?32:31-(ao(e)/Bl|0)|0}var Gn=128,Zi=4194304;function xn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yn(e,i){var a=e.pendingLanes;if(a===0)return 0;var o=0,h=e.suspendedLanes,f=e.pingedLanes,_=e.warmLanes;e=e.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~h,a!==0?o=xn(a):(f&=E,f!==0?o=xn(f):e||(_=E&~_,_!==0&&(o=xn(_))))):(E=a&~h,E!==0?o=xn(E):f!==0?o=xn(f):e||(_=a&~_,_!==0&&(o=xn(_)))),o===0?0:i!==0&&i!==o&&(i&h)===0&&(h=o&-o,_=i&-i,h>=_||h===32&&(_&4194176)!==0)?i:o}function Wi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Gs(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oo(){var e=Gn;return Gn<<=1,(Gn&4194176)===0&&(Gn=128),e}function Ji(){var e=Zi;return Zi<<=1,(Zi&62914560)===0&&(Zi=4194304),e}function Qs(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function oe(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hl(e,i,a,o,h,f){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,V=e.hiddenUpdates;for(a=_&~a;0<a;){var q=31-Xe(a),K=1<<q;E[q]=0,b[q]=-1;var B=V[q];if(B!==null)for(V[q]=null,q=0;q<B.length;q++){var H=B[q];H!==null&&(H.lane&=-536870913)}a&=~K}o!==0&&tr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~i))}function tr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-Xe(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194218}function er(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-Xe(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function ql(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Fl(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:Yy(e.type))}function nr(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var Qn=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Qn,_e="__reactProps$"+Qn,pi="__reactContainer$"+Qn,Wr="__reactEvents$"+Qn,Ks="__reactListeners$"+Qn,Kn="__reactHandles$"+Qn,lo="__reactResources$"+Qn,ir="__reactMarker$"+Qn;function Jr(e){delete e[Ie],delete e[_e],delete e[Wr],delete e[Ks],delete e[Kn]}function kn(e){var i=e[Ie];if(i)return i;for(var a=e.parentNode;a;){if(i=a[pi]||a[Ie]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=My(e);e!==null;){if(a=e[Ie])return a;e=My(e)}return i}e=a,a=e.parentNode}return null}function yi(e){if(e=e[Ie]||e[pi]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function rr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function sr(e){var i=e[lo];return i||(i=e[lo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Wt(e){e[ir]=!0}var uo=new Set,Ys={};function ln(e,i){rn(e,i),rn(e+"Capture",i)}function rn(e,i){for(Ys[e]=i,e=0;e<i.length;e++)uo.add(i[e])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ph=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),co={},ho={};function Gl(e){return qs.call(ho,e)?!0:qs.call(co,e)?!1:ph.test(e)?ho[e]=!0:(co[e]=!0,!1)}function ar(e,i,a){if(Gl(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function or(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function _n(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function $e(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ql(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function yh(e){var i=Ql(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){o=""+_,f.call(this,_)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ts(e){e._valueTracker||(e._valueTracker=yh(e))}function fo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=Ql(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function Xs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _i=/[\n"\\]/g;function ie(e){return e.replace(_i,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function lr(e,i,a,o,h,f,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+$e(i)):e.value!==""+$e(i)&&(e.value=""+$e(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?$s(e,_,$e(i)):a!=null?$s(e,_,$e(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+$e(E):e.removeAttribute("name")}function es(e,i,a,o,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+$e(a):"",i=i!=null?""+$e(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function $s(e,i,a){i==="number"&&Xs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function zt(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+$e(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function ns(e,i,a){if(i!=null&&(i=""+$e(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+$e(a):""}function ur(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(tt(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=$e(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function vn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var _h=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mo(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||_h.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Kl(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&mo(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&mo(e,f,i[f])}function go(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Eh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yn(e){return Eh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var En=null;function Zs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vi=null,Ei=null;function Ti(e){var i=yi(e);if(i&&(e=i.stateNode)){var a=e[_e]||null;t:switch(e=i.stateNode,i.type){case"input":if(lr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ie(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[_e]||null;if(!h)throw Error(s(90));lr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&fo(o)}break t;case"textarea":ns(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&zt(e,!!a.multiple,i,!1)}}}var po=!1;function Yl(e,i,a){if(po)return e(i,a);po=!0;try{var o=e(i);return o}finally{if(po=!1,(vi!==null||Ei!==null)&&(zu(),vi&&(i=vi,e=Ei,Ei=vi=null,Ti(i),e)))for(i=0;i<e.length;i++)Ti(e[i])}}function is(e,i){var a=e.stateNode;if(a===null)return null;var o=a[_e]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Tn=!1;if(un)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){Tn=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{Tn=!1}var Xn=null,cr=null,Ai=null;function yo(){if(Ai)return Ai;var e,i=cr,a=i.length,o,h="value"in Xn?Xn.value:Xn.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(o=1;o<=_&&i[a-o]===h[f-o];o++);return Ai=h.slice(e,1<o?1-o:void 0)}function $n(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Zn(){return!0}function _o(){return!1}function Ce(e){function i(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Zn:_o,this.isPropagationStopped=_o,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),i}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=Ce(qt),ss=C({},qt,{view:0,detail:0}),Xl=Ce(ss),Js,ta,Wn,as=C({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:us,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wn&&(Wn&&e.type==="mousemove"?(Js=e.screenX-Wn.screenX,ta=e.screenY-Wn.screenY):ta=Js=0,Wn=e),Js)},movementY:function(e){return"movementY"in e?e.movementY:ta}}),An=Ce(as),$l=C({},as,{dataTransfer:0}),Th=Ce($l),os=C({},ss,{relatedTarget:0}),ea=Ce(os),vo=C({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),na=Ce(vo),Zl=C({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ia=Ce(Zl),Ah=C({},qt,{data:0}),Eo=Ce(Ah),ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function To(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Jl[e])?!!i[e]:!1}function us(){return To}var tu=C({},ss,{key:function(e){if(e.key){var i=ls[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=$n(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:us,charCode:function(e){return e.type==="keypress"?$n(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$n(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ra=Ce(tu),eu=C({},as,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ao=Ce(eu),Si=C({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:us}),nu=Ce(Si),iu=C({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),ru=Ce(iu),su=C({},as,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sa=Ce(su),Ze=C({},qt,{newState:0,oldState:0}),au=Ce(Ze),ou=[9,13,27,32],Jn=un&&"CompositionEvent"in window,u=null;un&&"documentMode"in document&&(u=document.documentMode);var m=un&&"TextEvent"in window&&!u,y=un&&(!Jn||u&&8<u&&11>=u),T=" ",P=!1;function j(e,i){switch(e){case"keyup":return ou.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function ve(e,i){switch(e){case"compositionend":return Z(i);case"keypress":return i.which!==32?null:(P=!0,T);case"textInput":return e=i.data,e===T&&P?null:e;default:return null}}function xt(e,i){if(Mt)return e==="compositionend"||!Jn&&j(e,i)?(e=yo(),Ai=cr=Xn=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!De[e.type]:i==="textarea"}function bi(e,i,a,o){vi?Ei?Ei.push(o):Ei=[o]:vi=o,i=Fu(i,"onChange"),0<i.length&&(a=new Ws("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var xe=null,ti=null;function So(e){by(e,0)}function lu(e){var i=rr(e);if(fo(i))return e}function Jm(e,i){if(e==="change")return i}var tg=!1;if(un){var Sh;if(un){var bh="oninput"in document;if(!bh){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),bh=typeof eg.oninput=="function"}Sh=bh}else Sh=!1;tg=Sh&&(!document.documentMode||9<document.documentMode)}function ng(){xe&&(xe.detachEvent("onpropertychange",ig),ti=xe=null)}function ig(e){if(e.propertyName==="value"&&lu(ti)){var i=[];bi(i,ti,e,Zs(e)),Yl(So,i)}}function cT(e,i,a){e==="focusin"?(ng(),xe=i,ti=a,xe.attachEvent("onpropertychange",ig)):e==="focusout"&&ng()}function hT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lu(ti)}function fT(e,i){if(e==="click")return lu(i)}function dT(e,i){if(e==="input"||e==="change")return lu(i)}function mT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var cn=typeof Object.is=="function"?Object.is:mT;function bo(e,i){if(cn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!qs.call(i,h)||!cn(e[h],i[h]))return!1}return!0}function rg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sg(e,i){var a=rg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=rg(a)}}function ag(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?ag(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function og(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Xs(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Xs(e.document)}return i}function wh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function gT(e,i){var a=og(i);i=e.focusedElem;var o=e.selectionRange;if(a!==i&&i&&i.ownerDocument&&ag(i.ownerDocument.documentElement,i)){if(o!==null&&wh(i)){if(e=o.start,a=o.end,a===void 0&&(a=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(a,i.value.length);else if(a=(e=i.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,f=Math.min(o.start,h);o=o.end===void 0?f:Math.min(o.end,h),!a.extend&&f>o&&(h=o,o=f,f=h),h=sg(i,f);var _=sg(i,o);h&&_&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),f>o?(a.addRange(e),a.extend(_.node,_.offset)):(e.setEnd(_.node,_.offset),a.addRange(e)))}}for(e=[],a=i;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)a=e[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var pT=un&&"documentMode"in document&&11>=document.documentMode,aa=null,Rh=null,wo=null,Ih=!1;function lg(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ih||aa==null||aa!==Xs(o)||(o=aa,"selectionStart"in o&&wh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),wo&&bo(wo,o)||(wo=o,o=Fu(Rh,"onSelect"),0<o.length&&(i=new Ws("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=aa)))}function cs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var oa={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionrun:cs("Transition","TransitionRun"),transitionstart:cs("Transition","TransitionStart"),transitioncancel:cs("Transition","TransitionCancel"),transitionend:cs("Transition","TransitionEnd")},Ch={},ug={};un&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function hs(e){if(Ch[e])return Ch[e];if(!oa[e])return e;var i=oa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in ug)return Ch[e]=i[a];return e}var cg=hs("animationend"),hg=hs("animationiteration"),fg=hs("animationstart"),yT=hs("transitionrun"),_T=hs("transitionstart"),vT=hs("transitioncancel"),dg=hs("transitionend"),mg=new Map,gg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Pn(e,i){mg.set(e,i),ln(i,[e])}var Sn=[],la=0,Dh=0;function uu(){for(var e=la,i=Dh=la=0;i<e;){var a=Sn[i];Sn[i++]=null;var o=Sn[i];Sn[i++]=null;var h=Sn[i];Sn[i++]=null;var f=Sn[i];if(Sn[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&pg(a,h,f)}}function cu(e,i,a,o){Sn[la++]=e,Sn[la++]=i,Sn[la++]=a,Sn[la++]=o,Dh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Oh(e,i,a,o){return cu(e,i,a,o),hu(e)}function hr(e,i){return cu(e,null,null,i),hu(e)}function pg(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;h&&i!==null&&e.tag===3&&(f=e.stateNode,h=31-Xe(a),f=f.hiddenUpdates,e=f[h],e===null?f[h]=[i]:e.push(i),i.lane=a|536870912)}function hu(e){if(50<$o)throw $o=0,Uf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ua={},yg=new WeakMap;function bn(e,i){if(typeof e=="object"&&e!==null){var a=yg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:gt(i)},yg.set(e,i),i)}return{value:e,source:i,stack:gt(i)}}var ca=[],ha=0,fu=null,du=0,wn=[],Rn=0,fs=null,wi=1,Ri="";function ds(e,i){ca[ha++]=du,ca[ha++]=fu,fu=e,du=i}function _g(e,i,a){wn[Rn++]=wi,wn[Rn++]=Ri,wn[Rn++]=fs,fs=e;var o=wi;e=Ri;var h=32-Xe(o)-1;o&=~(1<<h),a+=1;var f=32-Xe(i)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,wi=1<<32-Xe(i)+h|a<<h|o,Ri=f+e}else wi=1<<f|a<<h|o,Ri=e}function Nh(e){e.return!==null&&(ds(e,1),_g(e,1,0))}function Vh(e){for(;e===fu;)fu=ca[--ha],ca[ha]=null,du=ca[--ha],ca[ha]=null;for(;e===fs;)fs=wn[--Rn],wn[Rn]=null,Ri=wn[--Rn],wn[Rn]=null,wi=wn[--Rn],wn[Rn]=null}var We=null,ke=null,Bt=!1,Un=null,ei=!1,Mh=Error(s(519));function ms(e){var i=Error(s(418,""));throw Co(bn(i,e)),Mh}function vg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Ie]=e,i[_e]=o,a){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(a=0;a<Wo.length;a++)Vt(Wo[a],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Vt("invalid",i),es(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ts(i);break;case"select":Vt("invalid",i);break;case"textarea":Vt("invalid",i),ur(i,o.value,o.defaultValue,o.children),ts(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Cy(i.textContent,a)?(o.popover!=null&&(Vt("beforetoggle",i),Vt("toggle",i)),o.onScroll!=null&&Vt("scroll",i),o.onScrollEnd!=null&&Vt("scrollend",i),o.onClick!=null&&(i.onclick=Gu),i=!0):i=!1,i||ms(e)}function Eg(e){for(We=e.return;We;)switch(We.tag){case 3:case 27:ei=!0;return;case 5:case 13:ei=!1;return;default:We=We.return}}function Ro(e){if(e!==We)return!1;if(!Bt)return Eg(e),Bt=!0,!1;var i=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||td(e.type,e.memoizedProps)),a=!a),a&&(i=!0),i&&ke&&ms(e),Eg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ke=zn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ke=null}}else ke=We?zn(e.stateNode.nextSibling):null;return!0}function Io(){ke=We=null,Bt=!1}function Co(e){Un===null?Un=[e]:Un.push(e)}var Do=Error(s(460)),Tg=Error(s(474)),xh={then:function(){}};function Ag(e){return e=e.status,e==="fulfilled"||e==="rejected"}function mu(){}function Sg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(mu,mu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Do?Error(s(483)):e;default:if(typeof i.status=="string")i.then(mu,mu);else{if(e=Xt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Do?Error(s(483)):e}throw Oo=i,Do}}var Oo=null;function bg(){if(Oo===null)throw Error(s(459));var e=Oo;return Oo=null,e}var fa=null,No=0;function gu(e){var i=No;return No+=1,fa===null&&(fa=[]),Sg(fa,e,i)}function Vo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function pu(e,i){throw i.$$typeof===c?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function wg(e){var i=e._init;return i(e._payload)}function Rg(e){function i(k,N){if(e){var L=k.deletions;L===null?(k.deletions=[N],k.flags|=16):L.push(N)}}function a(k,N){if(!e)return null;for(;N!==null;)i(k,N),N=N.sibling;return null}function o(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=Sr(k,N),k.index=0,k.sibling=null,k}function f(k,N,L){return k.index=L,e?(L=k.alternate,L!==null?(L=L.index,L<N?(k.flags|=33554434,N):L):(k.flags|=33554434,N)):(k.flags|=1048576,N)}function _(k){return e&&k.alternate===null&&(k.flags|=33554434),k}function E(k,N,L,G){return N===null||N.tag!==6?(N=Df(L,k.mode,G),N.return=k,N):(N=h(N,L),N.return=k,N)}function b(k,N,L,G){var it=L.type;return it===p?q(k,N,L.props.children,G,L.key):N!==null&&(N.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===ot&&wg(it)===N.type)?(N=h(N,L.props),Vo(N,L),N.return=k,N):(N=xu(L.type,L.key,L.props,null,k.mode,G),Vo(N,L),N.return=k,N)}function V(k,N,L,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Of(L,k.mode,G),N.return=k,N):(N=h(N,L.children||[]),N.return=k,N)}function q(k,N,L,G,it){return N===null||N.tag!==7?(N=bs(L,k.mode,G,it),N.return=k,N):(N=h(N,L),N.return=k,N)}function K(k,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Df(""+N,k.mode,L),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case d:return L=xu(N.type,N.key,N.props,null,k.mode,L),Vo(L,N),L.return=k,L;case g:return N=Of(N,k.mode,L),N.return=k,N;case ot:var G=N._init;return N=G(N._payload),K(k,N,L)}if(tt(N)||Dt(N))return N=bs(N,k.mode,L,null),N.return=k,N;if(typeof N.then=="function")return K(k,gu(N),L);if(N.$$typeof===z)return K(k,Nu(k,N),L);pu(k,N)}return null}function B(k,N,L,G){var it=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return it!==null?null:E(k,N,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case d:return L.key===it?b(k,N,L,G):null;case g:return L.key===it?V(k,N,L,G):null;case ot:return it=L._init,L=it(L._payload),B(k,N,L,G)}if(tt(L)||Dt(L))return it!==null?null:q(k,N,L,G,null);if(typeof L.then=="function")return B(k,N,gu(L),G);if(L.$$typeof===z)return B(k,N,Nu(k,L),G);pu(k,L)}return null}function H(k,N,L,G,it){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return k=k.get(L)||null,E(N,k,""+G,it);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return k=k.get(G.key===null?L:G.key)||null,b(N,k,G,it);case g:return k=k.get(G.key===null?L:G.key)||null,V(N,k,G,it);case ot:var It=G._init;return G=It(G._payload),H(k,N,L,G,it)}if(tt(G)||Dt(G))return k=k.get(L)||null,q(N,k,G,it,null);if(typeof G.then=="function")return H(k,N,L,gu(G),it);if(G.$$typeof===z)return H(k,N,L,Nu(N,G),it);pu(N,G)}return null}function rt(k,N,L,G){for(var it=null,It=null,lt=N,ft=N=0,Ve=null;lt!==null&&ft<L.length;ft++){lt.index>ft?(Ve=lt,lt=null):Ve=lt.sibling;var jt=B(k,lt,L[ft],G);if(jt===null){lt===null&&(lt=Ve);break}e&&lt&&jt.alternate===null&&i(k,lt),N=f(jt,N,ft),It===null?it=jt:It.sibling=jt,It=jt,lt=Ve}if(ft===L.length)return a(k,lt),Bt&&ds(k,ft),it;if(lt===null){for(;ft<L.length;ft++)lt=K(k,L[ft],G),lt!==null&&(N=f(lt,N,ft),It===null?it=lt:It.sibling=lt,It=lt);return Bt&&ds(k,ft),it}for(lt=o(lt);ft<L.length;ft++)Ve=H(lt,k,ft,L[ft],G),Ve!==null&&(e&&Ve.alternate!==null&&lt.delete(Ve.key===null?ft:Ve.key),N=f(Ve,N,ft),It===null?it=Ve:It.sibling=Ve,It=Ve);return e&&lt.forEach(function(Or){return i(k,Or)}),Bt&&ds(k,ft),it}function vt(k,N,L,G){if(L==null)throw Error(s(151));for(var it=null,It=null,lt=N,ft=N=0,Ve=null,jt=L.next();lt!==null&&!jt.done;ft++,jt=L.next()){lt.index>ft?(Ve=lt,lt=null):Ve=lt.sibling;var Or=B(k,lt,jt.value,G);if(Or===null){lt===null&&(lt=Ve);break}e&&lt&&Or.alternate===null&&i(k,lt),N=f(Or,N,ft),It===null?it=Or:It.sibling=Or,It=Or,lt=Ve}if(jt.done)return a(k,lt),Bt&&ds(k,ft),it;if(lt===null){for(;!jt.done;ft++,jt=L.next())jt=K(k,jt.value,G),jt!==null&&(N=f(jt,N,ft),It===null?it=jt:It.sibling=jt,It=jt);return Bt&&ds(k,ft),it}for(lt=o(lt);!jt.done;ft++,jt=L.next())jt=H(lt,k,ft,jt.value,G),jt!==null&&(e&&jt.alternate!==null&&lt.delete(jt.key===null?ft:jt.key),N=f(jt,N,ft),It===null?it=jt:It.sibling=jt,It=jt);return e&&lt.forEach(function(M1){return i(k,M1)}),Bt&&ds(k,ft),it}function ae(k,N,L,G){if(typeof L=="object"&&L!==null&&L.type===p&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case d:t:{for(var it=L.key;N!==null;){if(N.key===it){if(it=L.type,it===p){if(N.tag===7){a(k,N.sibling),G=h(N,L.props.children),G.return=k,k=G;break t}}else if(N.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===ot&&wg(it)===N.type){a(k,N.sibling),G=h(N,L.props),Vo(G,L),G.return=k,k=G;break t}a(k,N);break}else i(k,N);N=N.sibling}L.type===p?(G=bs(L.props.children,k.mode,G,L.key),G.return=k,k=G):(G=xu(L.type,L.key,L.props,null,k.mode,G),Vo(G,L),G.return=k,k=G)}return _(k);case g:t:{for(it=L.key;N!==null;){if(N.key===it)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){a(k,N.sibling),G=h(N,L.children||[]),G.return=k,k=G;break t}else{a(k,N);break}else i(k,N);N=N.sibling}G=Of(L,k.mode,G),G.return=k,k=G}return _(k);case ot:return it=L._init,L=it(L._payload),ae(k,N,L,G)}if(tt(L))return rt(k,N,L,G);if(Dt(L)){if(it=Dt(L),typeof it!="function")throw Error(s(150));return L=it.call(L),vt(k,N,L,G)}if(typeof L.then=="function")return ae(k,N,gu(L),G);if(L.$$typeof===z)return ae(k,N,Nu(k,L),G);pu(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(a(k,N.sibling),G=h(N,L),G.return=k,k=G):(a(k,N),G=Df(L,k.mode,G),G.return=k,k=G),_(k)):a(k,N)}return function(k,N,L,G){try{No=0;var it=ae(k,N,L,G);return fa=null,it}catch(lt){if(lt===Do)throw lt;var It=On(29,lt,null,k.mode);return It.lanes=G,It.return=k,It}finally{}}}var gs=Rg(!0),Ig=Rg(!1),da=Lt(null),yu=Lt(0);function Cg(e,i){e=Ui,Gt(yu,e),Gt(da,i),Ui=e|i.baseLanes}function kh(){Gt(yu,Ui),Gt(da,da.current)}function Ph(){Ui=yu.current,ne(da),ne(yu)}var In=Lt(null),ni=null;function fr(e){var i=e.alternate;Gt(Te,Te.current&1),Gt(In,e),ni===null&&(i===null||da.current!==null||i.memoizedState!==null)&&(ni=e)}function Dg(e){if(e.tag===22){if(Gt(Te,Te.current),Gt(In,e),ni===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ni=e)}}else dr()}function dr(){Gt(Te,Te.current),Gt(In,In.current)}function Ii(e){ne(In),ni===e&&(ni=null),ne(Te)}var Te=Lt(0);function _u(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ET=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},TT=r.unstable_scheduleCallback,AT=r.unstable_NormalPriority,Ae={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uh(){return{controller:new ET,data:new Map,refCount:0}}function Mo(e){e.refCount--,e.refCount===0&&TT(AT,function(){e.controller.abort()})}var xo=null,Lh=0,ma=0,ga=null;function ST(e,i){if(xo===null){var a=xo=[];Lh=0,ma=Gf(),ga={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Lh++,i.then(Og,Og),i}function Og(){if(--Lh===0&&xo!==null){ga!==null&&(ga.status="fulfilled");var e=xo;xo=null,ma=0,ga=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function bT(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Ng=S.S;S.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&ST(e,i),Ng!==null&&Ng(e,i)};var ps=Lt(null);function zh(){var e=ps.current;return e!==null?e:Xt.pooledCache}function vu(e,i){i===null?Gt(ps,ps.current):Gt(ps,i.pool)}function Vg(){var e=zh();return e===null?null:{parent:Ae._currentValue,pool:e}}var mr=0,wt=null,Qt=null,fe=null,Eu=!1,pa=!1,ys=!1,Tu=0,ko=0,ya=null,wT=0;function le(){throw Error(s(321))}function Bh(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!cn(e[a],i[a]))return!1;return!0}function jh(e,i,a,o,h,f){return mr=f,wt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=e===null||e.memoizedState===null?_s:gr,ys=!1,f=a(o,h),ys=!1,pa&&(f=xg(i,a,o,h)),Mg(e),f}function Mg(e){S.H=ii;var i=Qt!==null&&Qt.next!==null;if(mr=0,fe=Qt=wt=null,Eu=!1,ko=0,ya=null,i)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&Ou(e)&&(Oe=!0))}function xg(e,i,a,o){wt=e;var h=0;do{if(pa&&(ya=null),ko=0,pa=!1,25<=h)throw Error(s(301));if(h+=1,fe=Qt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}S.H=vs,f=i(a,o)}while(pa);return f}function RT(){var e=S.H,i=e.useState()[0];return i=typeof i.then=="function"?Po(i):i,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(wt.flags|=1024),i}function Hh(){var e=Tu!==0;return Tu=0,e}function qh(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Fh(e){if(Eu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Eu=!1}mr=0,fe=Qt=wt=null,pa=!1,ko=Tu=0,ya=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?wt.memoizedState=fe=e:fe=fe.next=e,fe}function de(){if(Qt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var i=fe===null?wt.memoizedState:fe.next;if(i!==null)fe=i,Qt=e;else{if(e===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},fe===null?wt.memoizedState=fe=e:fe=fe.next=e}return fe}var Au;Au=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Po(e){var i=ko;return ko+=1,ya===null&&(ya=[]),e=Sg(ya,e,i),i=wt,(fe===null?i.memoizedState:fe.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?_s:gr),e}function Su(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Po(e);if(e.$$typeof===z)return He(e)}throw Error(s(438,String(e)))}function Gh(e){var i=null,a=wt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=wt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Au(),wt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=Ut;return i.index++,a}function Ci(e,i){return typeof i=="function"?i(e):i}function bu(e){var i=de();return Qh(i,Qt,e)}function Qh(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=_=null,b=null,V=i,q=!1;do{var K=V.lane&-536870913;if(K!==V.lane?(kt&K)===K:(mr&K)===K){var B=V.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),K===ma&&(q=!0);else if((mr&B)===B){V=V.next,B===ma&&(q=!0);continue}else K={lane:0,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},b===null?(E=b=K,_=f):b=b.next=K,wt.lanes|=B,br|=B;K=V.action,ys&&a(f,K),f=V.hasEagerState?V.eagerState:a(f,K)}else B={lane:K,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},b===null?(E=b=B,_=f):b=b.next=B,wt.lanes|=K,br|=K;V=V.next}while(V!==null&&V!==i);if(b===null?_=f:b.next=E,!cn(f,e.memoizedState)&&(Oe=!0,q&&(a=ga,a!==null)))throw a;e.memoizedState=f,e.baseState=_,e.baseQueue=b,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Kh(e){var i=de(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);cn(f,i.memoizedState)||(Oe=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function kg(e,i,a){var o=wt,h=de(),f=Bt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!cn((Qt||h).memoizedState,a);if(_&&(h.memoizedState=a,Oe=!0),h=h.queue,$h(Lg.bind(null,o,h,e),[e]),h.getSnapshot!==i||_||fe!==null&&fe.memoizedState.tag&1){if(o.flags|=2048,_a(9,Ug.bind(null,o,h,a,i),{destroy:void 0},null),Xt===null)throw Error(s(349));f||(mr&60)!==0||Pg(o,i,a)}return a}function Pg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=wt.updateQueue,i===null?(i=Au(),wt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Ug(e,i,a,o){i.value=a,i.getSnapshot=o,zg(i)&&Bg(e)}function Lg(e,i,a){return a(function(){zg(i)&&Bg(e)})}function zg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!cn(e,a)}catch{return!0}}function Bg(e){var i=hr(e,2);i!==null&&Je(i,e,2)}function Yh(e){var i=sn();if(typeof e=="function"){var a=e;if(e=a(),ys){Fn(!0);try{a()}finally{Fn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:e},i}function jg(e,i,a,o){return e.baseState=a,Qh(e,Qt,typeof o=="function"?o:Ci)}function IT(e,i,a,o,h){if(Iu(e))throw Error(s(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};S.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Hg(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Hg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=S.T,_={};S.T=_;try{var E=a(h,o),b=S.S;b!==null&&b(_,E),qg(e,i,E)}catch(V){Xh(e,i,V)}finally{S.T=f}}else try{f=a(h,o),qg(e,i,f)}catch(V){Xh(e,i,V)}}function qg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Fg(e,i,o)},function(o){return Xh(e,i,o)}):Fg(e,i,a)}function Fg(e,i,a){i.status="fulfilled",i.value=a,Gg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Hg(e,a)))}function Xh(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Gg(i),i=i.next;while(i!==o)}e.action=null}function Gg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Qg(e,i){return i}function Kg(e,i){if(Bt){var a=Xt.formState;if(a!==null){t:{var o=wt;if(Bt){if(ke){e:{for(var h=ke,f=ei;h.nodeType!==8;){if(!f){h=null;break e}if(h=zn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ke=zn(h.nextSibling),o=h.data==="F!";break t}}ms(o)}o=!1}o&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qg,lastRenderedState:i},a.queue=o,a=hp.bind(null,wt,o),o.dispatch=a,o=Yh(!1),f=ef.bind(null,wt,!1,o.queue),o=sn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=IT.bind(null,wt,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Yg(e){var i=de();return Xg(i,Qt,e)}function Xg(e,i,a){i=Qh(e,i,Qg)[0],e=bu(Ci)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Po(i):i;var o=de(),h=o.queue,f=h.dispatch;return a!==o.memoizedState&&(wt.flags|=2048,_a(9,CT.bind(null,h,a),{destroy:void 0},null)),[i,f,e]}function CT(e,i){e.action=i}function $g(e){var i=de(),a=Qt;if(a!==null)return Xg(i,a,e);de(),i=i.memoizedState,a=de();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function _a(e,i,a,o){return e={tag:e,create:i,inst:a,deps:o,next:null},i=wt.updateQueue,i===null&&(i=Au(),wt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Zg(){return de().memoizedState}function wu(e,i,a,o){var h=sn();wt.flags|=e,h.memoizedState=_a(1|i,a,{destroy:void 0},o===void 0?null:o)}function Ru(e,i,a,o){var h=de();o=o===void 0?null:o;var f=h.memoizedState.inst;Qt!==null&&o!==null&&Bh(o,Qt.memoizedState.deps)?h.memoizedState=_a(i,a,f,o):(wt.flags|=e,h.memoizedState=_a(1|i,a,f,o))}function Wg(e,i){wu(8390656,8,e,i)}function $h(e,i){Ru(2048,8,e,i)}function Jg(e,i){return Ru(4,2,e,i)}function tp(e,i){return Ru(4,4,e,i)}function ep(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function np(e,i,a){a=a!=null?a.concat([e]):null,Ru(4,4,ep.bind(null,i,e),a)}function Zh(){}function ip(e,i){var a=de();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Bh(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function rp(e,i){var a=de();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Bh(i,o[1]))return o[0];if(o=e(),ys){Fn(!0);try{e()}finally{Fn(!1)}}return a.memoizedState=[o,i],o}function Wh(e,i,a){return a===void 0||(mr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=ay(),wt.lanes|=e,br|=e,a)}function sp(e,i,a,o){return cn(a,i)?a:da.current!==null?(e=Wh(e,a,o),cn(e,i)||(Oe=!0),e):(mr&42)===0?(Oe=!0,e.memoizedState=a):(e=ay(),wt.lanes|=e,br|=e,i)}function ap(e,i,a,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var _=S.T,E={};S.T=E,ef(e,!1,i,a);try{var b=h(),V=S.S;if(V!==null&&V(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var q=bT(b,o);Uo(e,i,q,mn(e))}else Uo(e,i,o,mn(e))}catch(K){Uo(e,i,{then:function(){},status:"rejected",reason:K},mn())}finally{et.p=f,S.T=_}}function DT(){}function Jh(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=op(e).queue;ap(e,h,i,bt,a===null?DT:function(){return lp(e),a(o)})}function op(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:bt,baseState:bt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:bt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function lp(e){var i=op(e).next.queue;Uo(e,i,{},mn())}function tf(){return He(il)}function up(){return de().memoizedState}function cp(){return de().memoizedState}function OT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=mn();e=_r(a);var o=vr(i,e,a);o!==null&&(Je(o,i,a),Bo(o,i,a)),i={cache:Uh()},e.payload=i;return}i=i.return}}function NT(e,i,a){var o=mn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Iu(e)?fp(i,a):(a=Oh(e,i,a,o),a!==null&&(Je(a,e,o),dp(a,i,o)))}function hp(e,i,a){var o=mn();Uo(e,i,a,o)}function Uo(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Iu(e))fp(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,E=f(_,a);if(h.hasEagerState=!0,h.eagerState=E,cn(E,_))return cu(e,i,h,0),Xt===null&&uu(),!1}catch{}finally{}if(a=Oh(e,i,h,o),a!==null)return Je(a,e,o),dp(a,i,o),!0}return!1}function ef(e,i,a,o){if(o={lane:2,revertLane:Gf(),action:o,hasEagerState:!1,eagerState:null,next:null},Iu(e)){if(i)throw Error(s(479))}else i=Oh(e,a,o,2),i!==null&&Je(i,e,2)}function Iu(e){var i=e.alternate;return e===wt||i!==null&&i===wt}function fp(e,i){pa=Eu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function dp(e,i,a){if((a&4194176)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,er(e,a)}}var ii={readContext:He,use:Su,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le};ii.useCacheRefresh=le,ii.useMemoCache=le,ii.useHostTransitionStatus=le,ii.useFormState=le,ii.useActionState=le,ii.useOptimistic=le;var _s={readContext:He,use:Su,useCallback:function(e,i){return sn().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:Wg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,wu(4194308,4,ep.bind(null,i,e),a)},useLayoutEffect:function(e,i){return wu(4194308,4,e,i)},useInsertionEffect:function(e,i){wu(4,2,e,i)},useMemo:function(e,i){var a=sn();i=i===void 0?null:i;var o=e();if(ys){Fn(!0);try{e()}finally{Fn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=sn();if(a!==void 0){var h=a(i);if(ys){Fn(!0);try{a(i)}finally{Fn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=NT.bind(null,wt,e),[o.memoizedState,e]},useRef:function(e){var i=sn();return e={current:e},i.memoizedState=e},useState:function(e){e=Yh(e);var i=e.queue,a=hp.bind(null,wt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Zh,useDeferredValue:function(e,i){var a=sn();return Wh(a,e,i)},useTransition:function(){var e=Yh(!1);return e=ap.bind(null,wt,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=wt,h=sn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Xt===null)throw Error(s(349));(kt&60)!==0||Pg(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Wg(Lg.bind(null,o,f,e),[e]),o.flags|=2048,_a(9,Ug.bind(null,o,f,a,i),{destroy:void 0},null),a},useId:function(){var e=sn(),i=Xt.identifierPrefix;if(Bt){var a=Ri,o=wi;a=(o&~(1<<32-Xe(o)-1)).toString(32)+a,i=":"+i+"R"+a,a=Tu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=wT++,i=":"+i+"r"+a.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return sn().memoizedState=OT.bind(null,wt)}};_s.useMemoCache=Gh,_s.useHostTransitionStatus=tf,_s.useFormState=Kg,_s.useActionState=Kg,_s.useOptimistic=function(e){var i=sn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ef.bind(null,wt,!0,a),a.dispatch=i,[e,i]};var gr={readContext:He,use:Su,useCallback:ip,useContext:He,useEffect:$h,useImperativeHandle:np,useInsertionEffect:Jg,useLayoutEffect:tp,useMemo:rp,useReducer:bu,useRef:Zg,useState:function(){return bu(Ci)},useDebugValue:Zh,useDeferredValue:function(e,i){var a=de();return sp(a,Qt.memoizedState,e,i)},useTransition:function(){var e=bu(Ci)[0],i=de().memoizedState;return[typeof e=="boolean"?e:Po(e),i]},useSyncExternalStore:kg,useId:up};gr.useCacheRefresh=cp,gr.useMemoCache=Gh,gr.useHostTransitionStatus=tf,gr.useFormState=Yg,gr.useActionState=Yg,gr.useOptimistic=function(e,i){var a=de();return jg(a,Qt,e,i)};var vs={readContext:He,use:Su,useCallback:ip,useContext:He,useEffect:$h,useImperativeHandle:np,useInsertionEffect:Jg,useLayoutEffect:tp,useMemo:rp,useReducer:Kh,useRef:Zg,useState:function(){return Kh(Ci)},useDebugValue:Zh,useDeferredValue:function(e,i){var a=de();return Qt===null?Wh(a,e,i):sp(a,Qt.memoizedState,e,i)},useTransition:function(){var e=Kh(Ci)[0],i=de().memoizedState;return[typeof e=="boolean"?e:Po(e),i]},useSyncExternalStore:kg,useId:up};vs.useCacheRefresh=cp,vs.useMemoCache=Gh,vs.useHostTransitionStatus=tf,vs.useFormState=$g,vs.useActionState=$g,vs.useOptimistic=function(e,i){var a=de();return Qt!==null?jg(a,Qt,e,i):(a.baseState=e,[e,a.queue.dispatch])};function nf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:C({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var rf={isMounted:function(e){return(e=e._reactInternals)?ct(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var o=mn(),h=_r(o);h.payload=i,a!=null&&(h.callback=a),i=vr(e,h,o),i!==null&&(Je(i,e,o),Bo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=mn(),h=_r(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=vr(e,h,o),i!==null&&(Je(i,e,o),Bo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=mn(),o=_r(a);o.tag=2,i!=null&&(o.callback=i),i=vr(e,o,a),i!==null&&(Je(i,e,a),Bo(i,e,a))}};function mp(e,i,a,o,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,_):i.prototype&&i.prototype.isPureReactComponent?!bo(a,o)||!bo(h,f):!0}function gp(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&rf.enqueueReplaceState(i,i.state,null)}function Es(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=C({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function pp(e){Cu(e)}function yp(e){console.error(e)}function _p(e){Cu(e)}function Du(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function vp(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sf(e,i,a){return a=_r(a),a.tag=3,a.payload={element:null},a.callback=function(){Du(e,i)},a}function Ep(e){return e=_r(e),e.tag=3,e}function Tp(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){vp(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){vp(i,a,o),typeof h!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function VT(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&zo(i,a,h,!0),a=In.current,a!==null){switch(a.tag){case 13:return ni===null?Bf():a.alternate===null&&se===0&&(se=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===xh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Hf(e,o,h)),!1;case 22:return a.flags|=65536,o===xh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Hf(e,o,h)),!1}throw Error(s(435,a.tag))}return Hf(e,o,h),Bf(),!1}if(Bt)return i=In.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Mh&&(e=Error(s(422),{cause:o}),Co(bn(e,a)))):(o!==Mh&&(i=Error(s(423),{cause:o}),Co(bn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=bn(o,a),h=sf(e.stateNode,o,h),Ef(e,h),se!==4&&(se=2)),!1;var f=Error(s(520),{cause:o});if(f=bn(f,a),Yo===null?Yo=[f]:Yo.push(f),se!==4&&(se=2),i===null)return!0;o=bn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=sf(a.stateNode,o,e),Ef(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(wr===null||!wr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ep(h),Tp(h,e,a,o),Ef(a,h),!1}a=a.return}while(a!==null);return!1}var Ap=Error(s(461)),Oe=!1;function Pe(e,i,a,o){i.child=e===null?Ig(i,null,a,o):gs(i,e.child,a,o)}function Sp(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return As(i),o=jh(e,i,a,_,f,h),E=Hh(),e!==null&&!Oe?(qh(e,i,h),Di(e,i,h)):(Bt&&E&&Nh(i),i.flags|=1,Pe(e,i,o,h),i.child)}function bp(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Cf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,wp(e,i,f,o,h)):(e=xu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!mf(e,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:bo,a(_,o)&&e.ref===i.ref)return Di(e,i,h)}return i.flags|=1,e=Sr(f,o),e.ref=i.ref,e.return=i,i.child=e}function wp(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(bo(f,o)&&e.ref===i.ref)if(Oe=!1,i.pendingProps=o=f,mf(e,h))(e.flags&131072)!==0&&(Oe=!0);else return i.lanes=e.lanes,Di(e,i,h)}return af(e,i,a,o,h)}function Rp(e,i,a){var o=i.pendingProps,h=o.children,f=(i.stateNode._pendingVisibility&2)!==0,_=e!==null?e.memoizedState:null;if(Lo(e,i),o.mode==="hidden"||f){if((i.flags&128)!==0){if(o=_!==null?_.baseLanes|a:a,e!==null){for(h=i.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~o}else i.childLanes=0,i.child=null;return Ip(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&vu(i,_!==null?_.cachePool:null),_!==null?Cg(i,_):kh(),Dg(i);else return i.lanes=i.childLanes=536870912,Ip(e,i,_!==null?_.baseLanes|a:a,a)}else _!==null?(vu(i,_.cachePool),Cg(i,_),dr(),i.memoizedState=null):(e!==null&&vu(i,null),kh(),dr());return Pe(e,i,h,a),i.child}function Ip(e,i,a,o){var h=zh();return h=h===null?null:{parent:Ae._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&vu(i,null),kh(),Dg(i),e!==null&&zo(e,i,o,!0),null}function Lo(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=2097664)}}function af(e,i,a,o,h){return As(i),a=jh(e,i,a,o,void 0,h),o=Hh(),e!==null&&!Oe?(qh(e,i,h),Di(e,i,h)):(Bt&&o&&Nh(i),i.flags|=1,Pe(e,i,a,h),i.child)}function Cp(e,i,a,o,h,f){return As(i),i.updateQueue=null,a=xg(i,o,a,h),Mg(e),o=Hh(),e!==null&&!Oe?(qh(e,i,f),Di(e,i,f)):(Bt&&o&&Nh(i),i.flags|=1,Pe(e,i,a,f),i.child)}function Dp(e,i,a,o,h){if(As(i),i.stateNode===null){var f=ua,_=a.contextType;typeof _=="object"&&_!==null&&(f=He(_)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=rf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},_f(i),_=a.contextType,f.context=typeof _=="object"&&_!==null?He(_):ua,f.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(nf(i,a,_,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&rf.enqueueReplaceState(f,f.state,null),Ho(i,o,f,h),jo(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,b=Es(a,E);f.props=b;var V=f.context,q=a.contextType;_=ua,typeof q=="object"&&q!==null&&(_=He(q));var K=a.getDerivedStateFromProps;q=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||V!==_)&&gp(i,f,o,_),yr=!1;var B=i.memoizedState;f.state=B,Ho(i,o,f,h),jo(),V=i.memoizedState,E||B!==V||yr?(typeof K=="function"&&(nf(i,a,K,o),V=i.memoizedState),(b=yr||mp(i,a,b,o,B,V,_))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=V),f.props=o,f.state=V,f.context=_,o=b):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,vf(e,i),_=i.memoizedProps,q=Es(a,_),f.props=q,K=i.pendingProps,B=f.context,V=a.contextType,b=ua,typeof V=="object"&&V!==null&&(b=He(V)),E=a.getDerivedStateFromProps,(V=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==K||B!==b)&&gp(i,f,o,b),yr=!1,B=i.memoizedState,f.state=B,Ho(i,o,f,h),jo();var H=i.memoizedState;_!==K||B!==H||yr||e!==null&&e.dependencies!==null&&Ou(e.dependencies)?(typeof E=="function"&&(nf(i,a,E,o),H=i.memoizedState),(q=yr||mp(i,a,q,o,B,H,b)||e!==null&&e.dependencies!==null&&Ou(e.dependencies))?(V||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,b)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=H),f.props=o,f.state=H,f.context=b,o=q):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,Lo(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=gs(i,e.child,null,h),i.child=gs(i,null,a,h)):Pe(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Di(e,i,h),e}function Op(e,i,a,o){return Io(),i.flags|=256,Pe(e,i,a,o),i.child}var of={dehydrated:null,treeContext:null,retryLane:0};function lf(e){return{baseLanes:e,cachePool:Vg()}}function uf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Nn),e}function Np(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?fr(i):dr(),Bt){var E=ke,b;if(b=E){t:{for(b=E,E=ei;b.nodeType!==8;){if(!E){E=null;break t}if(b=zn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(i.memoizedState={dehydrated:E,treeContext:fs!==null?{id:wi,overflow:Ri}:null,retryLane:536870912},b=On(18,null,null,0),b.stateNode=E,b.return=i,i.child=b,We=i,ke=null,b=!0):b=!1}b||ms(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?i.lanes=16:i.lanes=536870912,null;Ii(i)}return E=o.children,o=o.fallback,h?(dr(),h=i.mode,E=hf({mode:"hidden",children:E},h),o=bs(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=lf(a),h.childLanes=uf(e,_,a),i.memoizedState=of,o):(fr(i),cf(i,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)i.flags&256?(fr(i),i.flags&=-257,i=ff(e,i,a)):i.memoizedState!==null?(dr(),i.child=e.child,i.flags|=128,i=null):(dr(),h=o.fallback,E=i.mode,o=hf({mode:"visible",children:o.children},E),h=bs(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,gs(i,e.child,null,a),o=i.child,o.memoizedState=lf(a),o.childLanes=uf(e,_,a),i.memoizedState=of,i=h);else if(fr(i),E.data==="$!"){if(_=E.nextSibling&&E.nextSibling.dataset,_)var V=_.dgst;_=V,o=Error(s(419)),o.stack="",o.digest=_,Co({value:o,source:null,stack:null}),i=ff(e,i,a)}else if(Oe||zo(e,i,a,!1),_=(a&e.childLanes)!==0,Oe||_){if(_=Xt,_!==null){if(o=a&-a,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(_.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane)throw b.retryLane=o,hr(e,o),Je(_,e,o),Ap}E.data==="$?"||Bf(),i=ff(e,i,a)}else E.data==="$?"?(i.flags|=128,i.child=e.child,i=KT.bind(null,e),E._reactRetry=i,i=null):(e=b.treeContext,ke=zn(E.nextSibling),We=i,Bt=!0,Un=null,ei=!1,e!==null&&(wn[Rn++]=wi,wn[Rn++]=Ri,wn[Rn++]=fs,wi=e.id,Ri=e.overflow,fs=i),i=cf(i,o.children),i.flags|=4096);return i}return h?(dr(),h=o.fallback,E=i.mode,b=e.child,V=b.sibling,o=Sr(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&31457280,V!==null?h=Sr(V,h):(h=bs(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=lf(a):(b=E.cachePool,b!==null?(V=Ae._currentValue,b=b.parent!==V?{parent:V,pool:V}:b):b=Vg(),E={baseLanes:E.baseLanes|a,cachePool:b}),h.memoizedState=E,h.childLanes=uf(e,_,a),i.memoizedState=of,o):(fr(i),a=e.child,e=a.sibling,a=Sr(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function cf(e,i){return i=hf({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function hf(e,i){return iy(e,i,0,null)}function ff(e,i,a){return gs(i,e.child,null,a),e=cf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Vp(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),pf(e.return,i,a)}function df(e,i,a,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=h)}function Mp(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;if(Pe(e,i,o.children,a),o=Te.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vp(e,a,i);else if(e.tag===19)Vp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Gt(Te,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&_u(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),df(i,!1,h,a,f);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&_u(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}df(i,!0,a,null,f);break;case"together":df(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Di(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),br|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(zo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Sr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Sr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function mf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Ou(e)))}function MT(e,i,a){switch(i.tag){case 3:Xi(i,i.stateNode.containerInfo),pr(i,Ae,e.memoizedState.cache),Io();break;case 27:case 5:no(i);break;case 4:Xi(i,i.stateNode.containerInfo);break;case 10:pr(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(fr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Np(e,i,a):(fr(i),e=Di(e,i,a),e!==null?e.sibling:null);fr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(zo(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Mp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Gt(Te,Te.current),o)break;return null;case 22:case 23:return i.lanes=0,Rp(e,i,a);case 24:pr(i,Ae,e.memoizedState.cache)}return Di(e,i,a)}function xp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Oe=!0;else{if(!mf(e,a)&&(i.flags&128)===0)return Oe=!1,MT(e,i,a);Oe=(e.flags&131072)!==0}else Oe=!1,Bt&&(i.flags&1048576)!==0&&_g(i,du,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")Cf(o)?(e=Es(o,e),i.tag=1,i=Dp(null,i,o,e,a)):(i.tag=0,i=af(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===F){i.tag=11,i=Sp(null,i,o,e,a);break t}else if(h===Tt){i.tag=14,i=bp(null,i,o,e,a);break t}}throw i=w(o)||o,Error(s(306,i,""))}}return i;case 0:return af(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Es(o,i.pendingProps),Dp(e,i,o,h,a);case 3:t:{if(Xi(i,i.stateNode.containerInfo),e===null)throw Error(s(387));var f=i.pendingProps;h=i.memoizedState,o=h.element,vf(e,i),Ho(i,f,null,a);var _=i.memoizedState;if(f=_.cache,pr(i,Ae,f),f!==h.cache&&yf(i,[Ae],a,!0),jo(),f=_.element,h.isDehydrated)if(h={element:f,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Op(e,i,f,a);break t}else if(f!==o){o=bn(Error(s(424)),i),Co(o),i=Op(e,i,f,a);break t}else for(ke=zn(i.stateNode.containerInfo.firstChild),We=i,Bt=!0,Un=null,ei=!0,a=Ig(i,null,f,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Io(),f===o){i=Di(e,i,a);break t}Pe(e,i,f,a)}i=i.child}return i;case 26:return Lo(e,i),e===null?(a=Uy(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,o=Qu(pn.current).createElement(a),o[Ie]=i,o[_e]=e,Ue(o,a,e),Wt(o),i.stateNode=o):i.memoizedState=Uy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return no(i),e===null&&Bt&&(o=i.stateNode=xy(i.type,i.pendingProps,pn.current),We=i,ei=!0,ke=zn(o.firstChild)),o=i.pendingProps.children,e!==null||Bt?Pe(e,i,o,a):i.child=gs(i,null,o,a),Lo(e,i),i.child;case 5:return e===null&&Bt&&((h=o=ke)&&(o=u1(o,i.type,i.pendingProps,ei),o!==null?(i.stateNode=o,We=i,ke=zn(o.firstChild),ei=!1,h=!0):h=!1),h||ms(i)),no(i),h=i.type,f=i.pendingProps,_=e!==null?e.memoizedProps:null,o=f.children,td(h,f)?o=null:_!==null&&td(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=jh(e,i,RT,null,null,a),il._currentValue=h),Lo(e,i),Pe(e,i,o,a),i.child;case 6:return e===null&&Bt&&((e=a=ke)&&(a=c1(a,i.pendingProps,ei),a!==null?(i.stateNode=a,We=i,ke=null,e=!0):e=!1),e||ms(i)),null;case 13:return Np(e,i,a);case 4:return Xi(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=gs(i,null,o,a):Pe(e,i,o,a),i.child;case 11:return Sp(e,i,i.type,i.pendingProps,a);case 7:return Pe(e,i,i.pendingProps,a),i.child;case 8:return Pe(e,i,i.pendingProps.children,a),i.child;case 12:return Pe(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,pr(i,i.type,o.value),Pe(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,As(i),h=He(h),o=o(h),i.flags|=1,Pe(e,i,o,a),i.child;case 14:return bp(e,i,i.type,i.pendingProps,a);case 15:return wp(e,i,i.type,i.pendingProps,a);case 19:return Mp(e,i,a);case 22:return Rp(e,i,a);case 24:return As(i),o=He(Ae),e===null?(h=zh(),h===null&&(h=Xt,f=Uh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},_f(i),pr(i,Ae,h)):((e.lanes&a)!==0&&(vf(e,i),Ho(i,null,null,a),jo()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),pr(i,Ae,o)):(o=f.cache,pr(i,Ae,o),o!==h.cache&&yf(i,[Ae],a,!0))),Pe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var gf=Lt(null),Ts=null,Oi=null;function pr(e,i,a){Gt(gf,i._currentValue),i._currentValue=a}function Ni(e){e._currentValue=gf.current,ne(gf)}function pf(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function yf(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var b=0;b<i.length;b++)if(E.context===i[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),pf(f.return,a,e),o||(_=null);break t}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),pf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function zo(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var E=h.type;cn(h.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(h===Yi.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(il):e=[il])}h=h.return}e!==null&&yf(i,e,a,o),i.flags|=262144}function Ou(e){for(e=e.firstContext;e!==null;){if(!cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function As(e){Ts=e,Oi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return kp(Ts,e)}function Nu(e,i){return Ts===null&&As(e),kp(e,i)}function kp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Oi===null){if(e===null)throw Error(s(308));Oi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Oi=Oi.next=i;return a}var yr=!1;function _f(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _r(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(te&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=hu(e),pg(e,null,a),i}return cu(e,o,i,a),hu(e)}function Bo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,er(e,a)}}function Ef(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Tf=!1;function jo(){if(Tf){var e=ga;if(e!==null)throw e}}function Ho(e,i,a,o){Tf=!1;var h=e.updateQueue;yr=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,V=b.next;b.next=null,_===null?f=V:_.next=V,_=b;var q=e.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==_&&(E===null?q.firstBaseUpdate=V:E.next=V,q.lastBaseUpdate=b))}if(f!==null){var K=h.baseState;_=0,q=V=b=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(kt&B)===B:(o&B)===B){B!==0&&B===ma&&(Tf=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,vt=E;B=i;var ae=a;switch(vt.tag){case 1:if(rt=vt.payload,typeof rt=="function"){K=rt.call(ae,K,B);break t}K=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=vt.payload,B=typeof rt=="function"?rt.call(ae,K,B):rt,B==null)break t;K=C({},K,B);break t;case 2:yr=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(V=q=H,b=K):q=q.next=H,_|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);q===null&&(b=K),h.baseState=b,h.firstBaseUpdate=V,h.lastBaseUpdate=q,f===null&&(h.shared.lanes=0),br|=_,e.lanes=_,e.memoizedState=K}}function Pp(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Up(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Pp(a[e],i)}function qo(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(E){Yt(i,i.return,E)}}function Er(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=i;var b=a;try{E()}catch(V){Yt(h,b,V)}}}o=o.next}while(o!==f)}}catch(V){Yt(i,i.return,V)}}function Lp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Up(i,a)}catch(o){Yt(e,e.return,o)}}}function zp(e,i,a){a.props=Es(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Yt(e,i,o)}}function Ss(e,i){try{var a=e.ref;if(a!==null){var o=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=o;break;default:h=o}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(f){Yt(e,i,f)}}function hn(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,i,h)}else a.current=null}function Bp(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function jp(e,i,a){try{var o=e.stateNode;r1(o,e.type,a,i),o[_e]=i}catch(h){Yt(e,e.return,h)}}function Hp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Af(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Hp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Gu));else if(o!==4&&o!==27&&(e=e.child,e!==null))for(Sf(e,i,a),e=e.sibling;e!==null;)Sf(e,i,a),e=e.sibling}function Vu(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&o!==27&&(e=e.child,e!==null))for(Vu(e,i,a),e=e.sibling;e!==null;)Vu(e,i,a),e=e.sibling}var Vi=!1,re=!1,bf=!1,qp=typeof WeakSet=="function"?WeakSet:Set,Ne=null,Fp=!1;function xT(e,i){if(e=e.containerInfo,Wf=Wu,e=og(e),wh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var _=0,E=-1,b=-1,V=0,q=0,K=e,B=null;e:for(;;){for(var H;K!==a||h!==0&&K.nodeType!==3||(E=_+h),K!==f||o!==0&&K.nodeType!==3||(b=_+o),K.nodeType===3&&(_+=K.nodeValue.length),(H=K.firstChild)!==null;)B=K,K=H;for(;;){if(K===e)break e;if(B===a&&++V===h&&(E=_),B===f&&++q===o&&(b=_),(H=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=H}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jf={focusedElem:e,selectionRange:a},Wu=!1,Ne=i;Ne!==null;)if(i=Ne,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Ne=e;else for(;Ne!==null;){switch(i=Ne,f=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var rt=Es(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(rt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(vt){Yt(a,a.return,vt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)id(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":id(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ne=e;break}Ne=i.return}return rt=Fp,Fp=!1,rt}function Gp(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:xi(e,a),o&4&&qo(5,a);break;case 1:if(xi(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(E){Yt(a,a.return,E)}else{var h=Es(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Yt(a,a.return,E)}}o&64&&Lp(a),o&512&&Ss(a,a.return);break;case 3:if(xi(e,a),o&64&&(o=a.updateQueue,o!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Up(o,e)}catch(E){Yt(a,a.return,E)}}break;case 26:xi(e,a),o&512&&Ss(a,a.return);break;case 27:case 5:xi(e,a),i===null&&o&4&&Bp(a),o&512&&Ss(a,a.return);break;case 12:xi(e,a);break;case 13:xi(e,a),o&4&&Yp(e,a);break;case 22:if(h=a.memoizedState!==null||Vi,!h){i=i!==null&&i.memoizedState!==null||re;var f=Vi,_=re;Vi=h,(re=i)&&!_?Tr(e,a,(a.subtreeFlags&8772)!==0):xi(e,a),Vi=f,re=_}o&512&&(a.memoizedProps.mode==="manual"?Ss(a,a.return):hn(a,a.return));break;default:xi(e,a)}}function Qp(e){var i=e.alternate;i!==null&&(e.alternate=null,Qp(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Jr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var me=null,fn=!1;function Mi(e,i,a){for(a=a.child;a!==null;)Kp(e,i,a),a=a.sibling}function Kp(e,i,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount($i,a)}catch{}switch(a.tag){case 26:re||hn(a,i),Mi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:re||hn(a,i);var o=me,h=fn;for(me=a.stateNode,Mi(e,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Jr(a),me=o,fn=h;break;case 5:re||hn(a,i);case 6:h=me;var f=fn;if(me=null,Mi(e,i,a),me=h,fn=f,me!==null)if(fn)try{e=me,o=a.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)}catch(_){Yt(a,i,_)}else try{me.removeChild(a.stateNode)}catch(_){Yt(a,i,_)}break;case 18:me!==null&&(fn?(i=me,a=a.stateNode,i.nodeType===8?nd(i.parentNode,a):i.nodeType===1&&nd(i,a),ol(i)):nd(me,a.stateNode));break;case 4:o=me,h=fn,me=a.stateNode.containerInfo,fn=!0,Mi(e,i,a),me=o,fn=h;break;case 0:case 11:case 14:case 15:re||Er(2,a,i),re||Er(4,a,i),Mi(e,i,a);break;case 1:re||(hn(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&zp(a,i,o)),Mi(e,i,a);break;case 21:Mi(e,i,a);break;case 22:re||hn(a,i),re=(o=re)||a.memoizedState!==null,Mi(e,i,a),re=o;break;default:Mi(e,i,a)}}function Yp(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ol(e)}catch(a){Yt(i,i.return,a)}}function kT(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new qp),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new qp),i;default:throw Error(s(435,e.tag))}}function wf(e,i){var a=kT(e);i.forEach(function(o){var h=YT.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function Cn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,_=i,E=_;t:for(;E!==null;){switch(E.tag){case 27:case 5:me=E.stateNode,fn=!1;break t;case 3:me=E.stateNode.containerInfo,fn=!0;break t;case 4:me=E.stateNode.containerInfo,fn=!0;break t}E=E.return}if(me===null)throw Error(s(160));Kp(f,_,h),me=null,fn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Xp(i,e),i=i.sibling}var Ln=null;function Xp(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Cn(i,e),Dn(e),o&4&&(Er(3,e,e.return),qo(3,e),Er(5,e,e.return));break;case 1:Cn(i,e),Dn(e),o&512&&(re||a===null||hn(a,a.return)),o&64&&Vi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Ln;if(Cn(i,e),Dn(e),o&512&&(re||a===null||hn(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ir]||f[Ie]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ue(f,o,a),f[Ie]=e,Wt(f),o=f;break t;case"link":var _=By("link","href",h).get(o+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(a.href==null?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break e}}f=h.createElement(o),Ue(f,o,a),h.head.appendChild(f);break;case"meta":if(_=By("meta","content",h).get(o+(a.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break e}}f=h.createElement(o),Ue(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Ie]=e,Wt(f),o=f}e.stateNode=o}else jy(h,e.type,e.stateNode);else e.stateNode=zy(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?jy(h,e.type,e.stateNode):zy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&jp(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(o&4&&e.alternate===null){h=e.stateNode,f=e.memoizedProps;try{for(var b=h.firstChild;b;){var V=b.nextSibling,q=b.nodeName;b[ir]||q==="HEAD"||q==="BODY"||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&b.rel.toLowerCase()==="stylesheet"||h.removeChild(b),b=V}for(var K=e.type,B=h.attributes;B.length;)h.removeAttributeNode(B[0]);Ue(h,K,f),h[Ie]=e,h[_e]=f}catch(rt){Yt(e,e.return,rt)}}case 5:if(Cn(i,e),Dn(e),o&512&&(re||a===null||hn(a,a.return)),e.flags&32){h=e.stateNode;try{vn(h,"")}catch(rt){Yt(e,e.return,rt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,jp(e,h,a!==null?a.memoizedProps:h)),o&1024&&(bf=!0);break;case 6:if(Cn(i,e),Dn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(rt){Yt(e,e.return,rt)}}break;case 3:if(Xu=null,h=Ln,Ln=Ku(i.containerInfo),Cn(i,e),Ln=h,Dn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ol(i.containerInfo)}catch(rt){Yt(e,e.return,rt)}bf&&(bf=!1,$p(e));break;case 4:o=Ln,Ln=Ku(e.stateNode.containerInfo),Cn(i,e),Dn(e),Ln=o;break;case 12:Cn(i,e),Dn(e);break;case 13:Cn(i,e),Dn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xf=nn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,wf(e,o)));break;case 22:if(o&512&&(re||a===null||hn(a,a.return)),b=e.memoizedState!==null,V=a!==null&&a.memoizedState!==null,q=Vi,K=re,Vi=q||b,re=K||V,Cn(i,e),re=K,Vi=q,Dn(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,o&8192&&(i._visibility=b?i._visibility&-2:i._visibility|1,b&&(i=Vi||re,a===null||V||i||va(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){V=a=i;try{if(h=V.stateNode,b)f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{_=V.stateNode,E=V.memoizedProps.style;var H=E!=null&&E.hasOwnProperty("display")?E.display:null;_.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(rt){Yt(V,V.return,rt)}}}else if(i.tag===6){if(a===null){V=i;try{V.stateNode.nodeValue=b?"":V.memoizedProps}catch(rt){Yt(V,V.return,rt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,wf(e,a))));break;case 19:Cn(i,e),Dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,wf(e,o)));break;case 21:break;default:Cn(i,e),Dn(e)}}function Dn(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(Hp(a)){var o=a;break t}a=a.return}throw Error(s(160))}switch(o.tag){case 27:var h=o.stateNode,f=Af(e);Vu(e,f,h);break;case 5:var _=o.stateNode;o.flags&32&&(vn(_,""),o.flags&=-33);var E=Af(e);Vu(e,E,_);break;case 3:case 4:var b=o.stateNode.containerInfo,V=Af(e);Sf(e,V,b);break;default:throw Error(s(161))}}}catch(q){Yt(e,e.return,q)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function $p(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;$p(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function xi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Gp(e,i.alternate,i),i=i.sibling}function va(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Er(4,i,i.return),va(i);break;case 1:hn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&zp(i,i.return,a),va(i);break;case 26:case 27:case 5:hn(i,i.return),va(i);break;case 22:hn(i,i.return),i.memoizedState===null&&va(i);break;default:va(i)}e=e.sibling}}function Tr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:Tr(h,f,a),qo(4,f);break;case 1:if(Tr(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(V){Yt(o,o.return,V)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)Pp(b[h],E)}catch(V){Yt(o,o.return,V)}}a&&_&64&&Lp(f),Ss(f,f.return);break;case 26:case 27:case 5:Tr(h,f,a),a&&o===null&&_&4&&Bp(f),Ss(f,f.return);break;case 12:Tr(h,f,a);break;case 13:Tr(h,f,a),a&&_&4&&Yp(h,f);break;case 22:f.memoizedState===null&&Tr(h,f,a),Ss(f,f.return);break;default:Tr(h,f,a)}i=i.sibling}}function Rf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Mo(a))}function If(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Mo(e))}function Ar(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Zp(e,i,a,o),i=i.sibling}function Zp(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ar(e,i,a,o),h&2048&&qo(9,i);break;case 3:Ar(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Mo(e)));break;case 12:if(h&2048){Ar(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Yt(i,i.return,b)}}else Ar(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,i.memoizedState!==null?f._visibility&4?Ar(e,i,a,o):Fo(e,i):f._visibility&4?Ar(e,i,a,o):(f._visibility|=4,Ea(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&Rf(i.alternate,i);break;case 24:Ar(e,i,a,o),h&2048&&If(i.alternate,i);break;default:Ar(e,i,a,o)}}function Ea(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=e,_=i,E=a,b=o,V=_.flags;switch(_.tag){case 0:case 11:case 15:Ea(f,_,E,b,h),qo(8,_);break;case 23:break;case 22:var q=_.stateNode;_.memoizedState!==null?q._visibility&4?Ea(f,_,E,b,h):Fo(f,_):(q._visibility|=4,Ea(f,_,E,b,h)),h&&V&2048&&Rf(_.alternate,_);break;case 24:Ea(f,_,E,b,h),h&&V&2048&&If(_.alternate,_);break;default:Ea(f,_,E,b,h)}i=i.sibling}}function Fo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:Fo(a,o),h&2048&&Rf(o.alternate,o);break;case 24:Fo(a,o),h&2048&&If(o.alternate,o);break;default:Fo(a,o)}i=i.sibling}}var Go=8192;function Ta(e){if(e.subtreeFlags&Go)for(e=e.child;e!==null;)Wp(e),e=e.sibling}function Wp(e){switch(e.tag){case 26:Ta(e),e.flags&Go&&e.memoizedState!==null&&S1(Ln,e.memoizedState,e.memoizedProps);break;case 5:Ta(e);break;case 3:case 4:var i=Ln;Ln=Ku(e.stateNode.containerInfo),Ta(e),Ln=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Go,Go=16777216,Ta(e),Go=i):Ta(e));break;default:Ta(e)}}function Jp(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Qo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ne=o,ey(o,e)}Jp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ty(e),e=e.sibling}function ty(e){switch(e.tag){case 0:case 11:case 15:Qo(e),e.flags&2048&&Er(9,e,e.return);break;case 3:Qo(e);break;case 12:Qo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,Mu(e)):Qo(e);break;default:Qo(e)}}function Mu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ne=o,ey(o,e)}Jp(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Er(8,i,i.return),Mu(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Mu(i));break;default:Mu(i)}e=e.sibling}}function ey(e,i){for(;Ne!==null;){var a=Ne;switch(a.tag){case 0:case 11:case 15:Er(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Mo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ne=o;else t:for(a=e;Ne!==null;){o=Ne;var h=o.sibling,f=o.return;if(Qp(o),o===a){Ne=null;break t}if(h!==null){h.return=f,Ne=h;break t}Ne=f}}}function PT(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(e,i,a,o){return new PT(e,i,a,o)}function Cf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sr(e,i){var a=e.alternate;return a===null?(a=On(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ny(e,i){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function xu(e,i,a,o,h,f){var _=0;if(o=e,typeof e=="function")Cf(e)&&(_=1);else if(typeof e=="string")_=T1(e,a,Ye.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return bs(a.children,h,f,i);case v:_=8,h|=24;break;case A:return e=On(12,a,i,h|2),e.elementType=A,e.lanes=f,e;case W:return e=On(13,a,i,h),e.elementType=W,e.lanes=f,e;case $:return e=On(19,a,i,h),e.elementType=$,e.lanes=f,e;case mt:return iy(a,h,f,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I:case z:_=10;break t;case D:_=9;break t;case F:_=11;break t;case Tt:_=14;break t;case ot:_=16,o=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=On(_,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function bs(e,i,a,o){return e=On(7,e,o,i),e.lanes=a,e}function iy(e,i,a,o){e=On(22,e,o,i),e.elementType=mt,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var _=hr(f,2);_!==null&&(h._pendingVisibility|=2,Je(_,f,2))}},attach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var _=hr(f,2);_!==null&&(h._pendingVisibility&=-3,Je(_,f,2))}}};return e.stateNode=h,e}function Df(e,i,a){return e=On(6,e,null,i),e.lanes=a,e}function Of(e,i,a){return i=On(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function ki(e){e.flags|=4}function ry(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Hy(i)){if(i=In.current,i!==null&&((kt&4194176)===kt?ni!==null:(kt&62914560)!==kt&&(kt&536870912)===0||i!==ni))throw Oo=xh,Tg;e.flags|=8192}}function ku(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Ji():536870912,e.lanes|=i,Sa|=i)}function Ko(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Jt(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&31457280,o|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function UT(e,i,a){var o=i.pendingProps;switch(Vh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(i),null;case 1:return Jt(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ni(Ae),mi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ro(i)?ki(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Un!==null&&(Lf(Un),Un=null))),Jt(i),null;case 26:return a=i.memoizedState,e===null?(ki(i),a!==null?(Jt(i),ry(i,a)):(Jt(i),i.flags&=-16777217)):a?a!==e.memoizedState?(ki(i),Jt(i),ry(i,a)):(Jt(i),i.flags&=-16777217):(e.memoizedProps!==o&&ki(i),Jt(i),i.flags&=-16777217),null;case 27:Hs(i),a=pn.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&ki(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return Jt(i),null}e=Ye.current,Ro(i)?vg(i):(e=xy(h,o,a),i.stateNode=e,ki(i))}return Jt(i),null;case 5:if(Hs(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&ki(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return Jt(i),null}if(e=Ye.current,Ro(i))vg(i);else{switch(h=Qu(pn.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[Ie]=i,e[_e]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Ue(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ki(i)}}return Jt(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&ki(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=pn.current,Ro(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=We,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ie]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Cy(e.nodeValue,a)),e||ms(i)}else e=Qu(e).createTextNode(o),e[Ie]=i,i.stateNode=e}return Jt(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ro(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ie]=i}else Io(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Jt(i),h=!1}else Un!==null&&(Lf(Un),Un=null),h=!0;if(!h)return i.flags&256?(Ii(i),i):(Ii(i),null)}if(Ii(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),ku(i,i.updateQueue),Jt(i),null;case 4:return mi(),e===null&&Xf(i.stateNode.containerInfo),Jt(i),null;case 10:return Ni(i.type),Jt(i),null;case 19:if(ne(Te),h=i.memoizedState,h===null)return Jt(i),null;if(o=(i.flags&128)!==0,f=h.rendering,f===null)if(o)Ko(h,!1);else{if(se!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=_u(e),f!==null){for(i.flags|=128,Ko(h,!1),e=f.updateQueue,i.updateQueue=e,ku(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)ny(a,e),a=a.sibling;return Gt(Te,Te.current&1|2),i.child}e=e.sibling}h.tail!==null&&nn()>Pu&&(i.flags|=128,o=!0,Ko(h,!1),i.lanes=4194304)}else{if(!o)if(e=_u(f),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,ku(i,e),Ko(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Bt)return Jt(i),null}else 2*nn()-h.renderingStartTime>Pu&&a!==536870912&&(i.flags|=128,o=!0,Ko(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(e=h.last,e!==null?e.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=nn(),i.sibling=null,e=Te.current,Gt(Te,o?e&1|2:e&1),i):(Jt(i),null);case 22:case 23:return Ii(i),Ph(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(Jt(i),i.subtreeFlags&6&&(i.flags|=8192)):Jt(i),a=i.updateQueue,a!==null&&ku(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&ne(ps),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ni(Ae),Jt(i),null;case 25:return null}throw Error(s(156,i.tag))}function LT(e,i){switch(Vh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ni(Ae),mi(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Hs(i),null;case 13:if(Ii(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Io()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return ne(Te),null;case 4:return mi(),null;case 10:return Ni(i.type),null;case 22:case 23:return Ii(i),Ph(),e!==null&&ne(ps),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ni(Ae),null;case 25:return null;default:return null}}function sy(e,i){switch(Vh(i),i.tag){case 3:Ni(Ae),mi();break;case 26:case 27:case 5:Hs(i);break;case 4:mi();break;case 13:Ii(i);break;case 19:ne(Te);break;case 10:Ni(i.type);break;case 22:case 23:Ii(i),Ph(),e!==null&&ne(ps);break;case 24:Ni(Ae)}}var zT={getCacheForType:function(e){var i=He(Ae),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},BT=typeof WeakMap=="function"?WeakMap:Map,te=0,Xt=null,Ct=null,kt=0,$t=0,dn=null,Pi=!1,Aa=!1,Nf=!1,Ui=0,se=0,br=0,ws=0,Vf=0,Nn=0,Sa=0,Yo=null,ri=null,Mf=!1,xf=0,Pu=1/0,Uu=null,wr=null,Lu=!1,Rs=null,Xo=0,kf=0,Pf=null,$o=0,Uf=null;function mn(){if((te&2)!==0&&kt!==0)return kt&-kt;if(S.T!==null){var e=ma;return e!==0?e:Gf()}return Fl()}function ay(){Nn===0&&(Nn=(kt&536870912)===0||Bt?oo():536870912);var e=In.current;return e!==null&&(e.flags|=32),Nn}function Je(e,i,a){(e===Xt&&$t===2||e.cancelPendingCommit!==null)&&(ba(e,0),Li(e,kt,Nn,!1)),oe(e,a),((te&2)===0||e!==Xt)&&(e===Xt&&((te&2)===0&&(ws|=a),se===4&&Li(e,kt,Nn,!1)),si(e))}function oy(e,i,a){if((te&6)!==0)throw Error(s(327));var o=!a&&(i&60)===0&&(i&e.expiredLanes)===0||Wi(e,i),h=o?qT(e,i):jf(e,i,!0),f=o;do{if(h===0){Aa&&!o&&Li(e,i,0,!1);break}else if(h===6)Li(e,i,0,!Pi);else{if(a=e.current.alternate,f&&!jT(a)){h=jf(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var E=e;h=Yo;var b=E.current.memoizedState.isDehydrated;if(b&&(ba(E,_).flags|=256),_=jf(E,_,!1),_!==2){if(Nf&&!b){E.errorRecoveryDisabledLanes|=f,ws|=f,h=4;break t}f=ri,ri=h,f!==null&&Lf(f)}h=_}if(f=!1,h!==2)continue}}if(h===1){ba(e,0),Li(e,i,0,!0);break}t:{switch(o=e,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Li(o,i,Nn,!Pi);break t}break;case 2:ri=null;break;case 3:case 5:break;default:throw Error(s(329))}if(o.finishedWork=a,o.finishedLanes=i,(i&62914560)===i&&(f=xf+300-nn(),10<f)){if(Li(o,i,Nn,!Pi),yn(o,0)!==0)break t;o.timeoutHandle=Ny(ly.bind(null,o,a,ri,Uu,Mf,i,Nn,ws,Sa,Pi,2,-0,0),f);break t}ly(o,a,ri,Uu,Mf,i,Nn,ws,Sa,Pi,0,-0,0)}}break}while(!0);si(e)}function Lf(e){ri===null?ri=e:ri.push.apply(ri,e)}function ly(e,i,a,o,h,f,_,E,b,V,q,K,B){var H=i.subtreeFlags;if((H&8192||(H&16785408)===16785408)&&(nl={stylesheets:null,count:0,unsuspend:A1},Wp(i),i=b1(),i!==null)){e.cancelPendingCommit=i(gy.bind(null,e,a,o,h,_,E,b,1,K,B)),Li(e,f,_,!V);return}gy(e,a,o,h,_,E,b,q,K,B)}function jT(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!cn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Li(e,i,a,o){i&=~Vf,i&=~ws,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-Xe(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&tr(e,a,i)}function zu(){return(te&6)===0?(Zo(0),!1):!0}function zf(){if(Ct!==null){if($t===0)var e=Ct.return;else e=Ct,Oi=Ts=null,Fh(e),fa=null,No=0,e=Ct;for(;e!==null;)sy(e.alternate,e),e=e.return;Ct=null}}function ba(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,a1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),zf(),Xt=e,Ct=a=Sr(e.current,null),kt=i,$t=0,dn=null,Pi=!1,Aa=Wi(e,i),Nf=!1,Sa=Nn=Vf=ws=br=se=0,ri=Yo=null,Mf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-Xe(o),f=1<<h;i|=e[h],o&=~f}return Ui=i,uu(),a}function uy(e,i){wt=null,S.H=ii,i===Do?(i=bg(),$t=3):i===Tg?(i=bg(),$t=4):$t=i===Ap?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,dn=i,Ct===null&&(se=1,Du(e,bn(i,e.current)))}function cy(){var e=S.H;return S.H=ii,e===null?ii:e}function hy(){var e=S.A;return S.A=zT,e}function Bf(){se=4,Pi||(kt&4194176)!==kt&&In.current!==null||(Aa=!0),(br&134217727)===0&&(ws&134217727)===0||Xt===null||Li(Xt,kt,Nn,!1)}function jf(e,i,a){var o=te;te|=2;var h=cy(),f=hy();(Xt!==e||kt!==i)&&(Uu=null,ba(e,i)),i=!1;var _=se;t:do try{if($t!==0&&Ct!==null){var E=Ct,b=dn;switch($t){case 8:zf(),_=6;break t;case 3:case 2:case 6:In.current===null&&(i=!0);var V=$t;if($t=0,dn=null,wa(e,E,b,V),a&&Aa){_=0;break t}break;default:V=$t,$t=0,dn=null,wa(e,E,b,V)}}HT(),_=se;break}catch(q){uy(e,q)}while(!0);return i&&e.shellSuspendCounter++,Oi=Ts=null,te=o,S.H=h,S.A=f,Ct===null&&(Xt=null,kt=0,uu()),_}function HT(){for(;Ct!==null;)fy(Ct)}function qT(e,i){var a=te;te|=2;var o=cy(),h=hy();Xt!==e||kt!==i?(Uu=null,Pu=nn()+500,ba(e,i)):Aa=Wi(e,i);t:do try{if($t!==0&&Ct!==null){i=Ct;var f=dn;e:switch($t){case 1:$t=0,dn=null,wa(e,i,f,1);break;case 2:if(Ag(f)){$t=0,dn=null,dy(i);break}i=function(){$t===2&&Xt===e&&($t=7),si(e)},f.then(i,i);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Ag(f)?($t=0,dn=null,dy(i)):($t=0,dn=null,wa(e,i,f,7));break;case 5:var _=null;switch(Ct.tag){case 26:_=Ct.memoizedState;case 5:case 27:var E=Ct;if(!_||Hy(_)){$t=0,dn=null;var b=E.sibling;if(b!==null)Ct=b;else{var V=E.return;V!==null?(Ct=V,Bu(V)):Ct=null}break e}}$t=0,dn=null,wa(e,i,f,5);break;case 6:$t=0,dn=null,wa(e,i,f,6);break;case 8:zf(),se=6;break t;default:throw Error(s(462))}}FT();break}catch(q){uy(e,q)}while(!0);return Oi=Ts=null,S.H=o,S.A=h,te=a,Ct!==null?0:(Xt=null,kt=0,uu(),se)}function FT(){for(;Ct!==null&&!mh();)fy(Ct)}function fy(e){var i=xp(e.alternate,e,Ui);e.memoizedProps=e.pendingProps,i===null?Bu(e):Ct=i}function dy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Cp(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=Cp(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:Fh(i);default:sy(a,i),i=Ct=ny(i,Ui),i=xp(a,i,Ui)}e.memoizedProps=e.pendingProps,i===null?Bu(e):Ct=i}function wa(e,i,a,o){Oi=Ts=null,Fh(i),fa=null,No=0;var h=i.return;try{if(VT(e,h,i,a,kt)){se=1,Du(e,bn(a,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;se=1,Du(e,bn(a,e.current)),Ct=null;return}i.flags&32768?(Bt||o===1?e=!0:Aa||(kt&536870912)!==0?e=!1:(Pi=e=!0,(o===2||o===3||o===6)&&(o=In.current,o!==null&&o.tag===13&&(o.flags|=16384))),my(i,e)):Bu(i)}function Bu(e){var i=e;do{if((i.flags&32768)!==0){my(i,Pi);return}e=i.return;var a=UT(i.alternate,i,Ui);if(a!==null){Ct=a;return}if(i=i.sibling,i!==null){Ct=i;return}Ct=i=e}while(i!==null);se===0&&(se=5)}function my(e,i){do{var a=LT(e.alternate,e);if(a!==null){a.flags&=32767,Ct=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=a}while(e!==null);se=6,Ct=null}function gy(e,i,a,o,h,f,_,E,b,V){var q=S.T,K=et.p;try{et.p=2,S.T=null,GT(e,i,a,o,K,h,f,_,E,b,V)}finally{S.T=q,et.p=K}}function GT(e,i,a,o,h,f,_,E){do Ra();while(Rs!==null);if((te&6)!==0)throw Error(s(327));var b=e.finishedWork;if(o=e.finishedLanes,b===null)return null;if(e.finishedWork=null,e.finishedLanes=0,b===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var V=b.lanes|b.childLanes;if(V|=Dh,Hl(e,o,V,f,_,E),e===Xt&&(Ct=Xt=null,kt=0),(b.subtreeFlags&10256)===0&&(b.flags&10256)===0||Lu||(Lu=!0,kf=V,Pf=a,XT(gi,function(){return Ra(),null})),a=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,f=et.p,et.p=2,_=te,te|=4,xT(e,b),Xp(b,e),gT(Jf,e.containerInfo),Wu=!!Wf,Jf=Wf=null,e.current=b,Gp(e,b.alternate,b),io(),te=_,et.p=f,S.T=a):e.current=b,Lu?(Lu=!1,Rs=e,Xo=o):py(e,V),V=e.pendingLanes,V===0&&(wr=null),so(b.stateNode),si(e),i!==null)for(h=e.onRecoverableError,b=0;b<i.length;b++)V=i[b],h(V.value,{componentStack:V.stack});return(Xo&3)!==0&&Ra(),V=e.pendingLanes,(o&4194218)!==0&&(V&42)!==0?e===Uf?$o++:($o=0,Uf=e):$o=0,Zo(0),null}function py(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Mo(i)))}function Ra(){if(Rs!==null){var e=Rs,i=kf;kf=0;var a=ql(Xo),o=S.T,h=et.p;try{if(et.p=32>a?32:a,S.T=null,Rs===null)var f=!1;else{a=Pf,Pf=null;var _=Rs,E=Xo;if(Rs=null,Xo=0,(te&6)!==0)throw Error(s(331));var b=te;if(te|=4,ty(_.current),Zp(_,_.current,E,a),te=b,Zo(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot($i,_)}catch{}f=!0}return f}finally{et.p=h,S.T=o,py(e,i)}}return!1}function yy(e,i,a){i=bn(a,i),i=sf(e.stateNode,i,2),e=vr(e,i,2),e!==null&&(oe(e,2),si(e))}function Yt(e,i,a){if(e.tag===3)yy(e,e,a);else for(;i!==null;){if(i.tag===3){yy(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(wr===null||!wr.has(o))){e=bn(a,e),a=Ep(2),o=vr(i,a,2),o!==null&&(Tp(a,o,i,e),oe(o,2),si(o));break}}i=i.return}}function Hf(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new BT;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Nf=!0,h.add(a),e=QT.bind(null,e,i,a),i.then(e,e))}function QT(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Xt===e&&(kt&a)===a&&(se===4||se===3&&(kt&62914560)===kt&&300>nn()-xf?(te&2)===0&&ba(e,0):Vf|=a,Sa===kt&&(Sa=0)),si(e)}function _y(e,i){i===0&&(i=Ji()),e=hr(e,i),e!==null&&(oe(e,i),si(e))}function KT(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),_y(e,a)}function YT(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),_y(e,a)}function XT(e,i){return $r(e,i)}var ju=null,Ia=null,qf=!1,Hu=!1,Ff=!1,Is=0;function si(e){e!==Ia&&e.next===null&&(Ia===null?ju=Ia=e:Ia=Ia.next=e),Hu=!0,qf||(qf=!0,ZT($T))}function Zo(e,i){if(!Ff&&Hu){Ff=!0;do for(var a=!1,o=ju;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Xe(42|e)+1)-1,f&=h&~(_&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(a=!0,Ty(o,f))}else f=kt,f=yn(o,o===Xt?f:0),(f&3)===0||Wi(o,f)||(a=!0,Ty(o,f));o=o.next}while(a);Ff=!1}}function $T(){Hu=qf=!1;var e=0;Is!==0&&(s1()&&(e=Is),Is=0);for(var i=nn(),a=null,o=ju;o!==null;){var h=o.next,f=vy(o,i);f===0?(o.next=null,a===null?ju=h:a.next=h,h===null&&(Ia=a)):(a=o,(e!==0||(f&3)!==0)&&(Hu=!0)),o=h}Zo(e)}function vy(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-Xe(f),E=1<<_,b=h[_];b===-1?((E&a)===0||(E&o)!==0)&&(h[_]=Gs(E,i)):b<=i&&(e.expiredLanes|=E),f&=~E}if(i=Xt,a=kt,a=yn(e,e===i?a:0),o=e.callbackNode,a===0||e===i&&$t===2||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Fs(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Wi(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&Fs(o),ql(a)){case 2:case 8:a=Re;break;case 32:a=gi;break;case 268435456:a=ro;break;default:a=gi}return o=Ey.bind(null,e),a=$r(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&Fs(o),e.callbackPriority=2,e.callbackNode=null,2}function Ey(e,i){var a=e.callbackNode;if(Ra()&&e.callbackNode!==a)return null;var o=kt;return o=yn(e,e===Xt?o:0),o===0?null:(oy(e,o,i),vy(e,nn()),e.callbackNode!=null&&e.callbackNode===a?Ey.bind(null,e):null)}function Ty(e,i){if(Ra())return null;oy(e,i,!0)}function ZT(e){o1(function(){(te&6)!==0?$r(ye,e):e()})}function Gf(){return Is===0&&(Is=oo()),Is}function Ay(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Yn(""+e)}function Sy(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function WT(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=Ay((h[_e]||null).action),_=o.submitter;_&&(i=(i=_[_e]||null)?Ay(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var E=new Ws("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Is!==0){var b=_?Sy(h,_):new FormData(h);Jh(a,{pending:!0,data:b,method:h.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=_?Sy(h,_):new FormData(h),Jh(a,{pending:!0,data:b,method:h.method,action:f},f,b))},currentTarget:h}]})}}for(var Qf=0;Qf<gg.length;Qf++){var Kf=gg[Qf],JT=Kf.toLowerCase(),t1=Kf[0].toUpperCase()+Kf.slice(1);Pn(JT,"on"+t1)}Pn(cg,"onAnimationEnd"),Pn(hg,"onAnimationIteration"),Pn(fg,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(yT,"onTransitionRun"),Pn(_T,"onTransitionStart"),Pn(vT,"onTransitionCancel"),Pn(dg,"onTransitionEnd"),rn("onMouseEnter",["mouseout","mouseover"]),rn("onMouseLeave",["mouseout","mouseover"]),rn("onPointerEnter",["pointerout","pointerover"]),rn("onPointerLeave",["pointerout","pointerover"]),ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wo));function by(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var _=o.length-1;0<=_;_--){var E=o[_],b=E.instance,V=E.currentTarget;if(E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=V;try{f(h)}catch(q){Cu(q)}h.currentTarget=null,f=b}else for(_=0;_<o.length;_++){if(E=o[_],b=E.instance,V=E.currentTarget,E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=V;try{f(h)}catch(q){Cu(q)}h.currentTarget=null,f=b}}}}function Vt(e,i){var a=i[Wr];a===void 0&&(a=i[Wr]=new Set);var o=e+"__bubble";a.has(o)||(wy(i,e,2,!1),a.add(o))}function Yf(e,i,a){var o=0;i&&(o|=4),wy(a,e,o,i)}var qu="_reactListening"+Math.random().toString(36).slice(2);function Xf(e){if(!e[qu]){e[qu]=!0,uo.forEach(function(a){a!=="selectionchange"&&(e1.has(a)||Yf(a,!1,e),Yf(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[qu]||(i[qu]=!0,Yf("selectionchange",!1,i))}}function wy(e,i,a,o){switch(Yy(i)){case 2:var h=I1;break;case 8:h=C1;break;default:h=ld}a=h.bind(null,i,a,e),h=void 0,!Tn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function $f(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(_===4)for(_=o.return;_!==null;){var b=_.tag;if((b===3||b===4)&&(b=_.stateNode.containerInfo,b===h||b.nodeType===8&&b.parentNode===h))return;_=_.return}for(;E!==null;){if(_=kn(E),_===null)return;if(b=_.tag,b===5||b===6||b===26||b===27){o=f=_;continue t}E=E.parentNode}}o=o.return}Yl(function(){var V=f,q=Zs(a),K=[];t:{var B=mg.get(e);if(B!==void 0){var H=Ws,rt=e;switch(e){case"keypress":if($n(a)===0)break t;case"keydown":case"keyup":H=ra;break;case"focusin":rt="focus",H=ea;break;case"focusout":rt="blur",H=ea;break;case"beforeblur":case"afterblur":H=ea;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Th;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=nu;break;case cg:case hg:case fg:H=na;break;case dg:H=ru;break;case"scroll":case"scrollend":H=Xl;break;case"wheel":H=sa;break;case"copy":case"cut":case"paste":H=ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ao;break;case"toggle":case"beforetoggle":H=au}var vt=(i&4)!==0,ae=!vt&&(e==="scroll"||e==="scrollend"),k=vt?B!==null?B+"Capture":null:B;vt=[];for(var N=V,L;N!==null;){var G=N;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||k===null||(G=is(N,k),G!=null&&vt.push(Jo(N,G,L))),ae)break;N=N.return}0<vt.length&&(B=new H(B,rt,null,a,q),K.push({event:B,listeners:vt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==En&&(rt=a.relatedTarget||a.fromElement)&&(kn(rt)||rt[pi]))break t;if((H||B)&&(B=q.window===q?q:(B=q.ownerDocument)?B.defaultView||B.parentWindow:window,H?(rt=a.relatedTarget||a.toElement,H=V,rt=rt?kn(rt):null,rt!==null&&(ae=ct(rt),vt=rt.tag,rt!==ae||vt!==5&&vt!==27&&vt!==6)&&(rt=null)):(H=null,rt=V),H!==rt)){if(vt=An,G="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(vt=Ao,G="onPointerLeave",k="onPointerEnter",N="pointer"),ae=H==null?B:rr(H),L=rt==null?B:rr(rt),B=new vt(G,N+"leave",H,a,q),B.target=ae,B.relatedTarget=L,G=null,kn(q)===V&&(vt=new vt(k,N+"enter",rt,a,q),vt.target=L,vt.relatedTarget=ae,G=vt),ae=G,H&&rt)e:{for(vt=H,k=rt,N=0,L=vt;L;L=Ca(L))N++;for(L=0,G=k;G;G=Ca(G))L++;for(;0<N-L;)vt=Ca(vt),N--;for(;0<L-N;)k=Ca(k),L--;for(;N--;){if(vt===k||k!==null&&vt===k.alternate)break e;vt=Ca(vt),k=Ca(k)}vt=null}else vt=null;H!==null&&Ry(K,B,H,vt,!1),rt!==null&&ae!==null&&Ry(K,ae,rt,vt,!0)}}t:{if(B=V?rr(V):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var it=Jm;else if(Ee(B))if(tg)it=dT;else{it=hT;var It=cT}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?V&&go(V.elementType)&&(it=Jm):it=fT;if(it&&(it=it(e,V))){bi(K,it,a,q);break t}It&&It(e,B,V),e==="focusout"&&V&&B.type==="number"&&V.memoizedProps.value!=null&&$s(B,"number",B.value)}switch(It=V?rr(V):window,e){case"focusin":(Ee(It)||It.contentEditable==="true")&&(aa=It,Rh=V,wo=null);break;case"focusout":wo=Rh=aa=null;break;case"mousedown":Ih=!0;break;case"contextmenu":case"mouseup":case"dragend":Ih=!1,lg(K,a,q);break;case"selectionchange":if(pT)break;case"keydown":case"keyup":lg(K,a,q)}var lt;if(Jn)t:{switch(e){case"compositionstart":var ft="onCompositionStart";break t;case"compositionend":ft="onCompositionEnd";break t;case"compositionupdate":ft="onCompositionUpdate";break t}ft=void 0}else Mt?j(e,a)&&(ft="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ft="onCompositionStart");ft&&(y&&a.locale!=="ko"&&(Mt||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Mt&&(lt=yo()):(Xn=q,cr="value"in Xn?Xn.value:Xn.textContent,Mt=!0)),It=Fu(V,ft),0<It.length&&(ft=new Eo(ft,e,null,a,q),K.push({event:ft,listeners:It}),lt?ft.data=lt:(lt=Z(a),lt!==null&&(ft.data=lt)))),(lt=m?ve(e,a):xt(e,a))&&(ft=Fu(V,"onBeforeInput"),0<ft.length&&(It=new Eo("onBeforeInput","beforeinput",null,a,q),K.push({event:It,listeners:ft}),It.data=lt)),WT(K,e,V,a,q)}by(K,i)})}function Jo(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Fu(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=is(e,a),h!=null&&o.unshift(Jo(e,h,f)),h=is(e,i),h!=null&&o.push(Jo(e,h,f))),e=e.return}return o}function Ca(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ry(e,i,a,o,h){for(var f=i._reactName,_=[];a!==null&&a!==o;){var E=a,b=E.alternate,V=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||V===null||(b=V,h?(V=is(a,f),V!=null&&_.unshift(Jo(a,V,b))):h||(V=is(a,f),V!=null&&_.push(Jo(a,V,b)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var n1=/\r\n?/g,i1=/\u0000|\uFFFD/g;function Iy(e){return(typeof e=="string"?e:""+e).replace(n1,`
`).replace(i1,"")}function Cy(e,i){return i=Iy(i),Iy(e)===i}function Gu(){}function Kt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||vn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&vn(e,""+o);break;case"className":or(e,"class",o);break;case"tabIndex":or(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":or(e,a,o);break;case"style":Kl(e,o,f);break;case"data":if(i!=="object"){or(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Yn(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Kt(e,i,"name",h.name,h,null),Kt(e,i,"formEncType",h.formEncType,h,null),Kt(e,i,"formMethod",h.formMethod,h,null),Kt(e,i,"formTarget",h.formTarget,h,null)):(Kt(e,i,"encType",h.encType,h,null),Kt(e,i,"method",h.method,h,null),Kt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Yn(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Gu);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Yn(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),ar(e,"popover",o);break;case"xlinkActuate":_n(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":_n(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":_n(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":_n(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":_n(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":_n(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":_n(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":_n(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":_n(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ar(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vh.get(a)||a,ar(e,a,o))}}function Zf(e,i,a,o,h,f){switch(a){case"style":Kl(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?vn(e,o):(typeof o=="number"||typeof o=="bigint")&&vn(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Gu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ys.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[_e]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ar(e,a,o)}}}function Ue(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Kt(e,i,f,_,a,null)}}h&&Kt(e,i,"srcSet",a.srcSet,a,null),o&&Kt(e,i,"src",a.src,a,null);return;case"input":Vt("invalid",e);var E=f=_=h=null,b=null,V=null;for(o in a)if(a.hasOwnProperty(o)){var q=a[o];if(q!=null)switch(o){case"name":h=q;break;case"type":_=q;break;case"checked":b=q;break;case"defaultChecked":V=q;break;case"value":f=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Kt(e,i,o,q,a,null)}}es(e,f,E,b,V,_,h,!1),ts(e);return;case"select":Vt("invalid",e),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:Kt(e,i,h,E,a,null)}i=f,a=_,e.multiple=!!o,i!=null?zt(e,!!o,i,!1):a!=null&&zt(e,!!o,a,!0);return;case"textarea":Vt("invalid",e),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Kt(e,i,_,E,a,null)}ur(e,o,h,f),ts(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Kt(e,i,b,o,a,null)}return;case"dialog":Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<Wo.length;o++)Vt(Wo[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in a)if(a.hasOwnProperty(V)&&(o=a[V],o!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Kt(e,i,V,o,a,null)}return;default:if(go(i)){for(q in a)a.hasOwnProperty(q)&&(o=a[q],o!==void 0&&Zf(e,i,q,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Kt(e,i,E,o,a,null))}function r1(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,b=null,V=null,q=null;for(H in a){var K=a[H];if(a.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":b=K;default:o.hasOwnProperty(H)||Kt(e,i,H,null,o,K)}}for(var B in o){var H=o[B];if(K=a[B],o.hasOwnProperty(B)&&(H!=null||K!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":V=H;break;case"defaultChecked":q=H;break;case"value":_=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==K&&Kt(e,i,B,H,o,K)}}lr(e,_,E,b,V,q,f,h);return;case"select":H=_=E=B=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":H=b;default:o.hasOwnProperty(f)||Kt(e,i,f,null,o,b)}for(h in o)if(f=o[h],b=a[h],o.hasOwnProperty(h)&&(f!=null||b!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==b&&Kt(e,i,h,f,o,b)}i=E,a=_,o=H,B!=null?zt(e,!!a,B,!1):!!o!=!!a&&(i!=null?zt(e,!!a,i,!0):zt(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(e,i,E,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Kt(e,i,_,h,o,f)}ns(e,B,H);return;case"option":for(var rt in a)if(B=a[rt],a.hasOwnProperty(rt)&&B!=null&&!o.hasOwnProperty(rt))switch(rt){case"selected":e.selected=!1;break;default:Kt(e,i,rt,null,o,B)}for(b in o)if(B=o[b],H=a[b],o.hasOwnProperty(b)&&B!==H&&(B!=null||H!=null))switch(b){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Kt(e,i,b,B,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)B=a[vt],a.hasOwnProperty(vt)&&B!=null&&!o.hasOwnProperty(vt)&&Kt(e,i,vt,null,o,B);for(V in o)if(B=o[V],H=a[V],o.hasOwnProperty(V)&&B!==H&&(B!=null||H!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Kt(e,i,V,B,o,H)}return;default:if(go(i)){for(var ae in a)B=a[ae],a.hasOwnProperty(ae)&&B!==void 0&&!o.hasOwnProperty(ae)&&Zf(e,i,ae,void 0,o,B);for(q in o)B=o[q],H=a[q],!o.hasOwnProperty(q)||B===H||B===void 0&&H===void 0||Zf(e,i,q,B,o,H);return}}for(var k in a)B=a[k],a.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&Kt(e,i,k,null,o,B);for(K in o)B=o[K],H=a[K],!o.hasOwnProperty(K)||B===H||B==null&&H==null||Kt(e,i,K,B,o,H)}var Wf=null,Jf=null;function Qu(e){return e.nodeType===9?e:e.ownerDocument}function Dy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Oy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function td(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ed=null;function s1(){var e=window.event;return e&&e.type==="popstate"?e===ed?!1:(ed=e,!0):(ed=null,!1)}var Ny=typeof setTimeout=="function"?setTimeout:void 0,a1=typeof clearTimeout=="function"?clearTimeout:void 0,Vy=typeof Promise=="function"?Promise:void 0,o1=typeof queueMicrotask=="function"?queueMicrotask:typeof Vy<"u"?function(e){return Vy.resolve(null).then(e).catch(l1)}:Ny;function l1(e){setTimeout(function(){throw e})}function nd(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(o===0){e.removeChild(h),ol(i);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=h}while(a);ol(i)}function id(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":id(a),Jr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function u1(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ir])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function c1(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=zn(e.nextSibling),e===null))return null;return e}function zn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function My(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function xy(e,i,a){switch(i=Qu(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var Vn=new Map,ky=new Set;function Ku(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var zi=et.d;et.d={f:h1,r:f1,D:d1,C:m1,L:g1,m:p1,X:_1,S:y1,M:v1};function h1(){var e=zi.f(),i=zu();return e||i}function f1(e){var i=yi(e);i!==null&&i.tag===5&&i.type==="form"?lp(i):zi.r(e)}var Da=typeof document>"u"?null:document;function Py(e,i,a){var o=Da;if(o&&typeof i=="string"&&i){var h=ie(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ky.has(h)||(ky.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ue(i,"link",e),Wt(i),o.head.appendChild(i)))}}function d1(e){zi.D(e),Py("dns-prefetch",e,null)}function m1(e,i){zi.C(e,i),Py("preconnect",e,i)}function g1(e,i,a){zi.L(e,i,a);var o=Da;if(o&&e&&i){var h='link[rel="preload"][as="'+ie(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ie(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ie(a.imageSizes)+'"]')):h+='[href="'+ie(e)+'"]';var f=h;switch(i){case"style":f=Oa(e);break;case"script":f=Na(e)}Vn.has(f)||(e=C({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Vn.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(tl(f))||i==="script"&&o.querySelector(el(f))||(i=o.createElement("link"),Ue(i,"link",e),Wt(i),o.head.appendChild(i)))}}function p1(e,i){zi.m(e,i);var a=Da;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ie(o)+'"][href="'+ie(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Na(e)}if(!Vn.has(f)&&(e=C({rel:"modulepreload",href:e},i),Vn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(el(f)))return}o=a.createElement("link"),Ue(o,"link",e),Wt(o),a.head.appendChild(o)}}}function y1(e,i,a){zi.S(e,i,a);var o=Da;if(o&&e){var h=sr(o).hoistableStyles,f=Oa(e);i=i||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(tl(f)))E.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Vn.get(f))&&rd(e,a);var b=_=o.createElement("link");Wt(b),Ue(b,"link",e),b._p=new Promise(function(V,q){b.onload=V,b.onerror=q}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Yu(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function _1(e,i){zi.X(e,i);var a=Da;if(a&&e){var o=sr(a).hoistableScripts,h=Na(e),f=o.get(h);f||(f=a.querySelector(el(h)),f||(e=C({src:e,async:!0},i),(i=Vn.get(h))&&sd(e,i),f=a.createElement("script"),Wt(f),Ue(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function v1(e,i){zi.M(e,i);var a=Da;if(a&&e){var o=sr(a).hoistableScripts,h=Na(e),f=o.get(h);f||(f=a.querySelector(el(h)),f||(e=C({src:e,async:!0,type:"module"},i),(i=Vn.get(h))&&sd(e,i),f=a.createElement("script"),Wt(f),Ue(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Uy(e,i,a,o){var h=(h=pn.current)?Ku(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Oa(a.href),a=sr(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Oa(a.href);var f=sr(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector(tl(e)))&&!f._p&&(_.instance=f,_.state.loading=5),Vn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(e,a),f||E1(h,e,a,_.state))),i&&o===null)throw Error(s(528,""));return _}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Na(a),a=sr(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Oa(e){return'href="'+ie(e)+'"'}function tl(e){return'link[rel="stylesheet"]['+e+"]"}function Ly(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function E1(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ue(i,"link",a),Wt(i),e.head.appendChild(i))}function Na(e){return'[src="'+ie(e)+'"]'}function el(e){return"script[async]"+e}function zy(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+ie(a.href)+'"]');if(o)return i.instance=o,Wt(o),o;var h=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Wt(o),Ue(o,"style",h),Yu(o,a.precedence,e),i.instance=o;case"stylesheet":h=Oa(a.href);var f=e.querySelector(tl(h));if(f)return i.state.loading|=4,i.instance=f,Wt(f),f;o=Ly(a),(h=Vn.get(h))&&rd(o,h),f=(e.ownerDocument||e).createElement("link"),Wt(f);var _=f;return _._p=new Promise(function(E,b){_.onload=E,_.onerror=b}),Ue(f,"link",o),i.state.loading|=4,Yu(f,a.precedence,e),i.instance=f;case"script":return f=Na(a.src),(h=e.querySelector(el(f)))?(i.instance=h,Wt(h),h):(o=a,(h=Vn.get(f))&&(o=C({},a),sd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Wt(h),Ue(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Yu(o,a.precedence,e));return i.instance}function Yu(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function rd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function sd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Xu=null;function By(e,i,a){if(Xu===null){var o=new Map,h=Xu=new Map;h.set(a,o)}else h=Xu,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[ir]||f[Ie]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=e+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function jy(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function T1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Hy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var nl=null;function A1(){}function S1(e,i,a){if(nl===null)throw Error(s(475));var o=nl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Oa(a.href),f=e.querySelector(tl(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=$u.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=f,Wt(f);return}f=e.ownerDocument||e,a=Ly(a),(h=Vn.get(h))&&rd(a,h),f=f.createElement("link"),Wt(f);var _=f;_._p=new Promise(function(E,b){_.onload=E,_.onerror=b}),Ue(f,"link",a),i.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=$u.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function b1(){if(nl===null)throw Error(s(475));var e=nl;return e.stylesheets&&e.count===0&&ad(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&ad(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function $u(){if(this.count--,this.count===0){if(this.stylesheets)ad(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Zu=null;function ad(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Zu=new Map,i.forEach(w1,e),Zu=null,$u.call(e))}function w1(e,i){if(!(i.state.loading&4)){var a=Zu.get(e);if(a)var o=a.get(null);else{a=new Map,Zu.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=$u.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var il={$$typeof:z,Provider:null,Consumer:null,_currentValue:bt,_currentValue2:bt,_threadCount:0};function R1(e,i,a,o,h,f,_,E){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qs(0),this.hiddenUpdates=Qs(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function qy(e,i,a,o,h,f,_,E,b,V,q,K){return e=new R1(e,i,a,_,E,b,V,K),i=1,f===!0&&(i|=24),f=On(3,null,null,i),e.current=f,f.stateNode=e,i=Uh(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},_f(f),e}function Fy(e){return e?(e=ua,e):ua}function Gy(e,i,a,o,h,f){h=Fy(h),o.context===null?o.context=h:o.pendingContext=h,o=_r(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=vr(e,o,i),a!==null&&(Je(a,e,i),Bo(a,e,i))}function Qy(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function od(e,i){Qy(e,i),(e=e.alternate)&&Qy(e,i)}function Ky(e){if(e.tag===13){var i=hr(e,67108864);i!==null&&Je(i,e,67108864),od(e,67108864)}}var Wu=!0;function I1(e,i,a,o){var h=S.T;S.T=null;var f=et.p;try{et.p=2,ld(e,i,a,o)}finally{et.p=f,S.T=h}}function C1(e,i,a,o){var h=S.T;S.T=null;var f=et.p;try{et.p=8,ld(e,i,a,o)}finally{et.p=f,S.T=h}}function ld(e,i,a,o){if(Wu){var h=ud(o);if(h===null)$f(e,i,o,Ju,a),Xy(e,o);else if(O1(h,e,i,a,o))o.stopPropagation();else if(Xy(e,o),i&4&&-1<D1.indexOf(e)){for(;h!==null;){var f=yi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=xn(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var b=1<<31-Xe(_);E.entanglements[1]|=b,_&=~b}si(f),(te&6)===0&&(Pu=nn()+500,Zo(0))}}break;case 13:E=hr(f,2),E!==null&&Je(E,f,2),zu(),od(f,2)}if(f=ud(o),f===null&&$f(e,i,o,Ju,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else $f(e,i,o,null,a)}}function ud(e){return e=Zs(e),cd(e)}var Ju=null;function cd(e){if(Ju=null,e=kn(e),e!==null){var i=ct(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=Ht(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Ju=e,null}function Yy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ll()){case ye:return 2;case Re:return 8;case gi:case zl:return 32;case ro:return 268435456;default:return 32}default:return 32}}var hd=!1,Rr=null,Ir=null,Cr=null,rl=new Map,sl=new Map,Dr=[],D1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xy(e,i){switch(e){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(i.pointerId)}}function al(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=yi(i),i!==null&&Ky(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function O1(e,i,a,o,h){switch(i){case"focusin":return Rr=al(Rr,e,i,a,o,h),!0;case"dragenter":return Ir=al(Ir,e,i,a,o,h),!0;case"mouseover":return Cr=al(Cr,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return rl.set(f,al(rl.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,sl.set(f,al(sl.get(f)||null,e,i,a,o,h)),!0}return!1}function $y(e){var i=kn(e.target);if(i!==null){var a=ct(i);if(a!==null){if(i=a.tag,i===13){if(i=Ht(a),i!==null){e.blockedOn=i,nr(e.priority,function(){if(a.tag===13){var o=mn(),h=hr(a,o);h!==null&&Je(h,a,o),od(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=ud(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);En=o,a.target.dispatchEvent(o),En=null}else return i=yi(a),i!==null&&Ky(i),e.blockedOn=a,!1;i.shift()}return!0}function Zy(e,i,a){tc(e)&&a.delete(i)}function N1(){hd=!1,Rr!==null&&tc(Rr)&&(Rr=null),Ir!==null&&tc(Ir)&&(Ir=null),Cr!==null&&tc(Cr)&&(Cr=null),rl.forEach(Zy),sl.forEach(Zy)}function ec(e,i){e.blockedOn===i&&(e.blockedOn=null,hd||(hd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,N1)))}var nc=null;function Wy(e){nc!==e&&(nc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){nc===e&&(nc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(cd(o||a)===null)continue;break}var f=yi(a);f!==null&&(e.splice(i,3),i-=3,Jh(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ol(e){function i(b){return ec(b,e)}Rr!==null&&ec(Rr,e),Ir!==null&&ec(Ir,e),Cr!==null&&ec(Cr,e),rl.forEach(i),sl.forEach(i);for(var a=0;a<Dr.length;a++){var o=Dr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Dr.length&&(a=Dr[0],a.blockedOn===null);)$y(a),a.blockedOn===null&&Dr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[_e]||null;if(typeof f=="function")_||Wy(a);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[_e]||null)E=_.formAction;else if(cd(h)!==null)continue}else E=_.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),Wy(a)}}}function fd(e){this._internalRoot=e}ic.prototype.render=fd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=mn();Gy(a,o,e,i,null,null)},ic.prototype.unmount=fd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&Ra(),Gy(e.current,2,null,e,null,null),zu(),i[pi]=null}};function ic(e){this._internalRoot=e}ic.prototype.unstable_scheduleHydration=function(e){if(e){var i=Fl();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Dr.length&&i!==0&&i<Dr[a].priority;a++);Dr.splice(a,0,e),a===0&&$y(e)}};var Jy=t.version;if(Jy!=="19.0.0")throw Error(s(527,Jy,"19.0.0"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=X(i),e=e!==null?at(e):null,e=e===null?null:e.stateNode,e};var V1={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:kn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{$i=rc.inject(V1),je=rc}catch{}}return ul.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=pp,f=yp,_=_p,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=qy(e,1,!1,null,null,a,o,h,f,_,E,null),e[pi]=i.current,Xf(e.nodeType===8?e.parentNode:e),new fd(i)},ul.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=pp,_=yp,E=_p,b=null,V=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(V=a.formState)),i=qy(e,1,!0,i,a??null,o,h,f,_,E,b,V),i.context=Fy(null),a=i.current,o=mn(),h=_r(o),h.callback=null,vr(a,h,o),i.current.lanes=o,oe(i,o),si(i),e[pi]=i.current,Xf(e),new ic(i)},ul.version="19.0.0",ul}var u_;function H1(){if(u_)return gd.exports;u_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),gd.exports=j1(),gd.exports}var q1=H1();const F1=()=>{};var c_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},G1=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],d=r[n++],g=r[n++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],d=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},jv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,p=l+2<r.length,v=p?r[l+2]:0,A=c>>2,I=(c&3)<<4|g>>4;let D=(g&15)<<2|v>>6,z=v&63;p||(z=64,d||(D=64)),s.push(n[A],n[I],n[D],n[z])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Bv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):G1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const v=l<r.length?n[r.charAt(l)]:64;++l;const I=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||v==null||I==null)throw new Q1;const D=c<<2|g>>4;if(s.push(D),v!==64){const z=g<<4&240|v>>2;if(s.push(z),I!==64){const F=v<<6&192|I;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Q1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K1=function(r){const t=Bv(r);return jv.encodeByteArray(t,!0)},Sc=function(r){return K1(r).replace(/\./g,"")},Hv=function(r){try{return jv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=()=>Y1().__FIREBASE_DEFAULTS__,$1=()=>{if(typeof process>"u"||typeof c_>"u")return;const r=c_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Z1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Hv(r[1]);return t&&JSON.parse(t)},Gc=()=>{try{return F1()||X1()||$1()||Z1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},qv=r=>{var t,n;return(n=(t=Gc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},W1=r=>{const t=qv(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},Fv=()=>{var r;return(r=Gc())===null||r===void 0?void 0:r.config},Gv=r=>{var t;return(t=Gc())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(r){return r.endsWith(".cloudworkstations.dev")}async function Qv(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Sc(JSON.stringify(n)),Sc(JSON.stringify(d)),""].join(".")}const dl={};function eA(){const r={prod:[],emulator:[]};for(const t of Object.keys(dl))dl[t]?r.emulator.push(t):r.prod.push(t);return r}function nA(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let h_=!1;function Kv(r,t){if(typeof window>"u"||typeof document>"u"||!Xa(window.location.host)||dl[r]===t||dl[r]||h_)return;dl[r]=t;function n(D){return`__firebase__banner__${D}`}const s="__firebase__banner",c=eA().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function p(D,z){D.setAttribute("width","24"),D.setAttribute("id",z),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function v(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{h_=!0,d()},D}function A(D,z){D.setAttribute("id",z),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function I(){const D=nA(s),z=n("text"),F=document.getElementById(z)||document.createElement("span"),W=n("learnmore"),$=document.getElementById(W)||document.createElement("a"),Tt=n("preprendIcon"),ot=document.getElementById(Tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const mt=D.element;g(mt),A($,W);const Ut=v();p(ot,Tt),mt.append(ot,F,$,Ut),document.body.appendChild(mt)}c?(F.innerText="Preview backend disconnected.",ot.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ot.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function rA(){var r;const t=(r=Gc())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function oA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lA(){const r=Ke();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function uA(){return!rA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cA(){try{return typeof indexedDB=="object"}catch{return!1}}function hA(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="FirebaseError";class Ki extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=fA,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Il.prototype.create)}}class Il{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?dA(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Ki(l,g,s)}}function dA(r,t){return r.replace(mA,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const mA=/\{\$([^}]+)}/g;function gA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function xs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(f_(c)&&f_(d)){if(!xs(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function f_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function pA(r,t){const n=new yA(r,t);return n.subscribe.bind(n)}class yA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");_A(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=vd),l.error===void 0&&(l.error=vd),l.complete===void 0&&(l.complete=vd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _A(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function vd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(r){return r&&r._delegate?r._delegate:r}class ks{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vA=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new J1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(TA(t))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Cs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Cs){return this.instances.has(t)}getOptions(t=Cs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,n){var s;const l=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:EA(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Cs){return this.component?this.component.multipleInstances?t:Cs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function EA(r){return r===Cs?void 0:r}function TA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new vA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const SA={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},bA=Ot.INFO,wA={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},RA=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=wA[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class am{constructor(t){this.name=t,this._logLevel=bA,this._logHandler=RA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?SA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const IA=(r,t)=>t.some(n=>r instanceof n);let d_,m_;function CA(){return d_||(d_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DA(){return m_||(m_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yv=new WeakMap,Nd=new WeakMap,Xv=new WeakMap,Ed=new WeakMap,om=new WeakMap;function OA(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{n(Pr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&Yv.set(n,r)}).catch(()=>{}),om.set(t,r),t}function NA(r){if(Nd.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Nd.set(r,t)}let Vd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Nd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Xv.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function VA(r){Vd=r(Vd)}function MA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Td(this),t,...n);return Xv.set(s,t.sort?t.sort():[t]),Pr(s)}:DA().includes(r)?function(...t){return r.apply(Td(this),t),Pr(Yv.get(this))}:function(...t){return Pr(r.apply(Td(this),t))}}function xA(r){return typeof r=="function"?MA(r):(r instanceof IDBTransaction&&NA(r),IA(r,CA())?new Proxy(r,Vd):r)}function Pr(r){if(r instanceof IDBRequest)return OA(r);if(Ed.has(r))return Ed.get(r);const t=xA(r);return t!==r&&(Ed.set(r,t),om.set(t,r)),t}const Td=r=>om.get(r);function kA(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Pr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Pr(d.result),p.oldVersion,p.newVersion,Pr(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const PA=["get","getKey","getAll","getAllKeys","count"],UA=["put","add","delete","clear"],Ad=new Map;function g_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ad.get(t))return Ad.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=UA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||PA.includes(n)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let v=p.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[n](...g),l&&p.done]))[0]};return Ad.set(t,c),c}VA(r=>({...r,get:(t,n,s)=>g_(t,n)||r.get(t,n,s),has:(t,n)=>!!g_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zA(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function zA(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Md="@firebase/app",p_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new am("@firebase/app"),BA="@firebase/app-compat",jA="@firebase/analytics-compat",HA="@firebase/analytics",qA="@firebase/app-check-compat",FA="@firebase/app-check",GA="@firebase/auth",QA="@firebase/auth-compat",KA="@firebase/database",YA="@firebase/data-connect",XA="@firebase/database-compat",$A="@firebase/functions",ZA="@firebase/functions-compat",WA="@firebase/installations",JA="@firebase/installations-compat",tS="@firebase/messaging",eS="@firebase/messaging-compat",nS="@firebase/performance",iS="@firebase/performance-compat",rS="@firebase/remote-config",sS="@firebase/remote-config-compat",aS="@firebase/storage",oS="@firebase/storage-compat",lS="@firebase/firestore",uS="@firebase/ai",cS="@firebase/firestore-compat",hS="firebase",fS="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="[DEFAULT]",dS={[Md]:"fire-core",[BA]:"fire-core-compat",[HA]:"fire-analytics",[jA]:"fire-analytics-compat",[FA]:"fire-app-check",[qA]:"fire-app-check-compat",[GA]:"fire-auth",[QA]:"fire-auth-compat",[KA]:"fire-rtdb",[YA]:"fire-data-connect",[XA]:"fire-rtdb-compat",[$A]:"fire-fn",[ZA]:"fire-fn-compat",[WA]:"fire-iid",[JA]:"fire-iid-compat",[tS]:"fire-fcm",[eS]:"fire-fcm-compat",[nS]:"fire-perf",[iS]:"fire-perf-compat",[rS]:"fire-rc",[sS]:"fire-rc-compat",[aS]:"fire-gcs",[oS]:"fire-gcs-compat",[lS]:"fire-fst",[cS]:"fire-fst-compat",[uS]:"fire-vertex","fire-js":"fire-js",[hS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Map,mS=new Map,kd=new Map;function y_(r,t){try{r.container.addComponent(t)}catch(n){qi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ba(r){const t=r.name;if(kd.has(t))return qi.debug(`There were multiple attempts to register component ${t}.`),!1;kd.set(t,r);for(const n of bc.values())y_(n,r);for(const n of mS.values())y_(n,r);return!0}function lm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Bn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ur=new Il("app","Firebase",gS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=fS;function $v(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:xd,automaticDataCollectionEnabled:!0},t),l=s.name;if(typeof l!="string"||!l)throw Ur.create("bad-app-name",{appName:String(l)});if(n||(n=Fv()),!n)throw Ur.create("no-options");const c=bc.get(l);if(c){if(xs(n,c.options)&&xs(s,c.config))return c;throw Ur.create("duplicate-app",{appName:l})}const d=new AA(l);for(const p of kd.values())d.addComponent(p);const g=new pS(n,s,d);return bc.set(l,g),g}function Zv(r=xd){const t=bc.get(r);if(!t&&r===xd&&Fv())return $v();if(!t)throw Ur.create("no-app",{appName:r});return t}function Lr(r,t,n){var s;let l=(s=dS[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qi.warn(g.join(" "));return}Ba(new ks(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="firebase-heartbeat-database",_S=1,vl="firebase-heartbeat-store";let Sd=null;function Wv(){return Sd||(Sd=kA(yS,_S,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(vl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ur.create("idb-open",{originalErrorMessage:r.message})})),Sd}async function vS(r){try{const n=(await Wv()).transaction(vl),s=await n.objectStore(vl).get(Jv(r));return await n.done,s}catch(t){if(t instanceof Ki)qi.warn(t.message);else{const n=Ur.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});qi.warn(n.message)}}}async function __(r,t){try{const s=(await Wv()).transaction(vl,"readwrite");await s.objectStore(vl).put(t,Jv(r)),await s.done}catch(n){if(n instanceof Ki)qi.warn(n.message);else{const s=Ur.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qi.warn(s.message)}}}function Jv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=1024,TS=30;class AS{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bS(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=v_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>TS){const d=wS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){qi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=v_(),{heartbeatsToSend:s,unsentEntries:l}=SS(this._heartbeatsCache.heartbeats),c=Sc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return qi.warn(n),""}}}function v_(){return new Date().toISOString().substring(0,10)}function SS(r,t=ES){const n=[];let s=r.slice();for(const l of r){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),E_(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),E_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class bS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cA()?hA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return __(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return __(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function E_(r){return Sc(JSON.stringify({version:2,heartbeats:r})).length}function wS(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(r){Ba(new ks("platform-logger",t=>new LA(t),"PRIVATE")),Ba(new ks("heartbeat",t=>new AS(t),"PRIVATE")),Lr(Md,p_,r),Lr(Md,p_,"esm2017"),Lr("fire-js","")}RS("");var T_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zr,t0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,w){function S(){}S.prototype=w.prototype,x.D=w.prototype,x.prototype=new S,x.prototype.constructor=x,x.C=function(C,M,U){for(var R=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)R[pe-2]=arguments[pe];return w.prototype[M].apply(C,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,w,S){S||(S=0);var C=Array(16);if(typeof w=="string")for(var M=0;16>M;++M)C[M]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(M=0;16>M;++M)C[M]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=x.g[0],S=x.g[1],M=x.g[2];var U=x.g[3],R=w+(U^S&(M^U))+C[0]+3614090360&4294967295;w=S+(R<<7&4294967295|R>>>25),R=U+(M^w&(S^M))+C[1]+3905402710&4294967295,U=w+(R<<12&4294967295|R>>>20),R=M+(S^U&(w^S))+C[2]+606105819&4294967295,M=U+(R<<17&4294967295|R>>>15),R=S+(w^M&(U^w))+C[3]+3250441966&4294967295,S=M+(R<<22&4294967295|R>>>10),R=w+(U^S&(M^U))+C[4]+4118548399&4294967295,w=S+(R<<7&4294967295|R>>>25),R=U+(M^w&(S^M))+C[5]+1200080426&4294967295,U=w+(R<<12&4294967295|R>>>20),R=M+(S^U&(w^S))+C[6]+2821735955&4294967295,M=U+(R<<17&4294967295|R>>>15),R=S+(w^M&(U^w))+C[7]+4249261313&4294967295,S=M+(R<<22&4294967295|R>>>10),R=w+(U^S&(M^U))+C[8]+1770035416&4294967295,w=S+(R<<7&4294967295|R>>>25),R=U+(M^w&(S^M))+C[9]+2336552879&4294967295,U=w+(R<<12&4294967295|R>>>20),R=M+(S^U&(w^S))+C[10]+4294925233&4294967295,M=U+(R<<17&4294967295|R>>>15),R=S+(w^M&(U^w))+C[11]+2304563134&4294967295,S=M+(R<<22&4294967295|R>>>10),R=w+(U^S&(M^U))+C[12]+1804603682&4294967295,w=S+(R<<7&4294967295|R>>>25),R=U+(M^w&(S^M))+C[13]+4254626195&4294967295,U=w+(R<<12&4294967295|R>>>20),R=M+(S^U&(w^S))+C[14]+2792965006&4294967295,M=U+(R<<17&4294967295|R>>>15),R=S+(w^M&(U^w))+C[15]+1236535329&4294967295,S=M+(R<<22&4294967295|R>>>10),R=w+(M^U&(S^M))+C[1]+4129170786&4294967295,w=S+(R<<5&4294967295|R>>>27),R=U+(S^M&(w^S))+C[6]+3225465664&4294967295,U=w+(R<<9&4294967295|R>>>23),R=M+(w^S&(U^w))+C[11]+643717713&4294967295,M=U+(R<<14&4294967295|R>>>18),R=S+(U^w&(M^U))+C[0]+3921069994&4294967295,S=M+(R<<20&4294967295|R>>>12),R=w+(M^U&(S^M))+C[5]+3593408605&4294967295,w=S+(R<<5&4294967295|R>>>27),R=U+(S^M&(w^S))+C[10]+38016083&4294967295,U=w+(R<<9&4294967295|R>>>23),R=M+(w^S&(U^w))+C[15]+3634488961&4294967295,M=U+(R<<14&4294967295|R>>>18),R=S+(U^w&(M^U))+C[4]+3889429448&4294967295,S=M+(R<<20&4294967295|R>>>12),R=w+(M^U&(S^M))+C[9]+568446438&4294967295,w=S+(R<<5&4294967295|R>>>27),R=U+(S^M&(w^S))+C[14]+3275163606&4294967295,U=w+(R<<9&4294967295|R>>>23),R=M+(w^S&(U^w))+C[3]+4107603335&4294967295,M=U+(R<<14&4294967295|R>>>18),R=S+(U^w&(M^U))+C[8]+1163531501&4294967295,S=M+(R<<20&4294967295|R>>>12),R=w+(M^U&(S^M))+C[13]+2850285829&4294967295,w=S+(R<<5&4294967295|R>>>27),R=U+(S^M&(w^S))+C[2]+4243563512&4294967295,U=w+(R<<9&4294967295|R>>>23),R=M+(w^S&(U^w))+C[7]+1735328473&4294967295,M=U+(R<<14&4294967295|R>>>18),R=S+(U^w&(M^U))+C[12]+2368359562&4294967295,S=M+(R<<20&4294967295|R>>>12),R=w+(S^M^U)+C[5]+4294588738&4294967295,w=S+(R<<4&4294967295|R>>>28),R=U+(w^S^M)+C[8]+2272392833&4294967295,U=w+(R<<11&4294967295|R>>>21),R=M+(U^w^S)+C[11]+1839030562&4294967295,M=U+(R<<16&4294967295|R>>>16),R=S+(M^U^w)+C[14]+4259657740&4294967295,S=M+(R<<23&4294967295|R>>>9),R=w+(S^M^U)+C[1]+2763975236&4294967295,w=S+(R<<4&4294967295|R>>>28),R=U+(w^S^M)+C[4]+1272893353&4294967295,U=w+(R<<11&4294967295|R>>>21),R=M+(U^w^S)+C[7]+4139469664&4294967295,M=U+(R<<16&4294967295|R>>>16),R=S+(M^U^w)+C[10]+3200236656&4294967295,S=M+(R<<23&4294967295|R>>>9),R=w+(S^M^U)+C[13]+681279174&4294967295,w=S+(R<<4&4294967295|R>>>28),R=U+(w^S^M)+C[0]+3936430074&4294967295,U=w+(R<<11&4294967295|R>>>21),R=M+(U^w^S)+C[3]+3572445317&4294967295,M=U+(R<<16&4294967295|R>>>16),R=S+(M^U^w)+C[6]+76029189&4294967295,S=M+(R<<23&4294967295|R>>>9),R=w+(S^M^U)+C[9]+3654602809&4294967295,w=S+(R<<4&4294967295|R>>>28),R=U+(w^S^M)+C[12]+3873151461&4294967295,U=w+(R<<11&4294967295|R>>>21),R=M+(U^w^S)+C[15]+530742520&4294967295,M=U+(R<<16&4294967295|R>>>16),R=S+(M^U^w)+C[2]+3299628645&4294967295,S=M+(R<<23&4294967295|R>>>9),R=w+(M^(S|~U))+C[0]+4096336452&4294967295,w=S+(R<<6&4294967295|R>>>26),R=U+(S^(w|~M))+C[7]+1126891415&4294967295,U=w+(R<<10&4294967295|R>>>22),R=M+(w^(U|~S))+C[14]+2878612391&4294967295,M=U+(R<<15&4294967295|R>>>17),R=S+(U^(M|~w))+C[5]+4237533241&4294967295,S=M+(R<<21&4294967295|R>>>11),R=w+(M^(S|~U))+C[12]+1700485571&4294967295,w=S+(R<<6&4294967295|R>>>26),R=U+(S^(w|~M))+C[3]+2399980690&4294967295,U=w+(R<<10&4294967295|R>>>22),R=M+(w^(U|~S))+C[10]+4293915773&4294967295,M=U+(R<<15&4294967295|R>>>17),R=S+(U^(M|~w))+C[1]+2240044497&4294967295,S=M+(R<<21&4294967295|R>>>11),R=w+(M^(S|~U))+C[8]+1873313359&4294967295,w=S+(R<<6&4294967295|R>>>26),R=U+(S^(w|~M))+C[15]+4264355552&4294967295,U=w+(R<<10&4294967295|R>>>22),R=M+(w^(U|~S))+C[6]+2734768916&4294967295,M=U+(R<<15&4294967295|R>>>17),R=S+(U^(M|~w))+C[13]+1309151649&4294967295,S=M+(R<<21&4294967295|R>>>11),R=w+(M^(S|~U))+C[4]+4149444226&4294967295,w=S+(R<<6&4294967295|R>>>26),R=U+(S^(w|~M))+C[11]+3174756917&4294967295,U=w+(R<<10&4294967295|R>>>22),R=M+(w^(U|~S))+C[2]+718787259&4294967295,M=U+(R<<15&4294967295|R>>>17),R=S+(U^(M|~w))+C[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+U&4294967295}s.prototype.u=function(x,w){w===void 0&&(w=x.length);for(var S=w-this.blockSize,C=this.B,M=this.h,U=0;U<w;){if(M==0)for(;U<=S;)l(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<w;)if(C[M++]=x.charCodeAt(U++),M==this.blockSize){l(this,C),M=0;break}}else for(;U<w;)if(C[M++]=x[U++],M==this.blockSize){l(this,C),M=0;break}}this.h=M,this.o+=w},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;var S=8*this.o;for(w=x.length-8;w<x.length;++w)x[w]=S&255,S/=256;for(this.u(x),x=Array(16),w=S=0;4>w;++w)for(var C=0;32>C;C+=8)x[S++]=this.g[w]>>>C&255;return x};function c(x,w){var S=g;return Object.prototype.hasOwnProperty.call(S,x)?S[x]:S[x]=w(x)}function d(x,w){this.h=w;for(var S=[],C=!0,M=x.length-1;0<=M;M--){var U=x[M]|0;C&&U==w||(S[M]=U,C=!1)}this.g=S}var g={};function p(x){return-128<=x&&128>x?c(x,function(w){return new d([w|0],0>w?-1:0)}):new d([x|0],0>x?-1:0)}function v(x){if(isNaN(x)||!isFinite(x))return I;if(0>x)return $(v(-x));for(var w=[],S=1,C=0;x>=S;C++)w[C]=x/S|0,S*=4294967296;return new d(w,0)}function A(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return $(A(x.substring(1),w));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=v(Math.pow(w,8)),C=I,M=0;M<x.length;M+=8){var U=Math.min(8,x.length-M),R=parseInt(x.substring(M,M+U),w);8>U?(U=v(Math.pow(w,U)),C=C.j(U).add(v(R))):(C=C.j(S),C=C.add(v(R)))}return C}var I=p(0),D=p(1),z=p(16777216);r=d.prototype,r.m=function(){if(W(this))return-$(this).m();for(var x=0,w=1,S=0;S<this.g.length;S++){var C=this.i(S);x+=(0<=C?C:4294967296+C)*w,w*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(F(this))return"0";if(W(this))return"-"+$(this).toString(x);for(var w=v(Math.pow(x,6)),S=this,C="";;){var M=Ut(S,w).g;S=Tt(S,M.j(w));var U=((0<S.g.length?S.g[0]:S.h)>>>0).toString(x);if(S=M,F(S))return U+C;for(;6>U.length;)U="0"+U;C=U+C}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function F(x){if(x.h!=0)return!1;for(var w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function W(x){return x.h==-1}r.l=function(x){return x=Tt(this,x),W(x)?-1:F(x)?0:1};function $(x){for(var w=x.g.length,S=[],C=0;C<w;C++)S[C]=~x.g[C];return new d(S,~x.h).add(D)}r.abs=function(){return W(this)?$(this):this},r.add=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],C=0,M=0;M<=w;M++){var U=C+(this.i(M)&65535)+(x.i(M)&65535),R=(U>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);C=R>>>16,U&=65535,R&=65535,S[M]=R<<16|U}return new d(S,S[S.length-1]&-2147483648?-1:0)};function Tt(x,w){return x.add($(w))}r.j=function(x){if(F(this)||F(x))return I;if(W(this))return W(x)?$(this).j($(x)):$($(this).j(x));if(W(x))return $(this.j($(x)));if(0>this.l(z)&&0>x.l(z))return v(this.m()*x.m());for(var w=this.g.length+x.g.length,S=[],C=0;C<2*w;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(var M=0;M<x.g.length;M++){var U=this.i(C)>>>16,R=this.i(C)&65535,pe=x.i(M)>>>16,ce=x.i(M)&65535;S[2*C+2*M]+=R*ce,ot(S,2*C+2*M),S[2*C+2*M+1]+=U*ce,ot(S,2*C+2*M+1),S[2*C+2*M+1]+=R*pe,ot(S,2*C+2*M+1),S[2*C+2*M+2]+=U*pe,ot(S,2*C+2*M+2)}for(C=0;C<w;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=w;C<2*w;C++)S[C]=0;return new d(S,0)};function ot(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function mt(x,w){this.g=x,this.h=w}function Ut(x,w){if(F(w))throw Error("division by zero");if(F(x))return new mt(I,I);if(W(x))return w=Ut($(x),w),new mt($(w.g),$(w.h));if(W(w))return w=Ut(x,$(w)),new mt($(w.g),w.h);if(30<x.g.length){if(W(x)||W(w))throw Error("slowDivide_ only works with positive integers.");for(var S=D,C=w;0>=C.l(x);)S=_t(S),C=_t(C);var M=Dt(S,1),U=Dt(C,1);for(C=Dt(C,2),S=Dt(S,2);!F(C);){var R=U.add(C);0>=R.l(x)&&(M=M.add(S),U=R),C=Dt(C,1),S=Dt(S,1)}return w=Tt(x,M.j(w)),new mt(M,w)}for(M=I;0<=x.l(w);){for(S=Math.max(1,Math.floor(x.m()/w.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),U=v(S),R=U.j(w);W(R)||0<R.l(x);)S-=C,U=v(S),R=U.j(w);F(U)&&(U=D),M=M.add(U),x=Tt(x,R)}return new mt(M,x)}r.A=function(x){return Ut(this,x).h},r.and=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],C=0;C<w;C++)S[C]=this.i(C)&x.i(C);return new d(S,this.h&x.h)},r.or=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],C=0;C<w;C++)S[C]=this.i(C)|x.i(C);return new d(S,this.h|x.h)},r.xor=function(x){for(var w=Math.max(this.g.length,x.g.length),S=[],C=0;C<w;C++)S[C]=this.i(C)^x.i(C);return new d(S,this.h^x.h)};function _t(x){for(var w=x.g.length+1,S=[],C=0;C<w;C++)S[C]=x.i(C)<<1|x.i(C-1)>>>31;return new d(S,x.h)}function Dt(x,w){var S=w>>5;w%=32;for(var C=x.g.length-S,M=[],U=0;U<C;U++)M[U]=0<w?x.i(U+S)>>>w|x.i(U+S+1)<<32-w:x.i(U+S);return new d(M,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,t0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,zr=d}).apply(typeof T_<"u"?T_:typeof self<"u"?self:typeof window<"u"?window:{});var sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e0,cl,n0,dc,Pd,i0,r0,s0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof sc=="object"&&sc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)t:{var y=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in y))break t;y=y[P]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,T=!1,P={next:function(){if(!T&&y<u.length){var j=y++;return{value:m(j,u[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,y){return u.call.apply(u.bind,arguments)}function I(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,T),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function D(u,m,y){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:I,D.apply(null,arguments)}function z(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function F(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,P,j){for(var Z=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)Z[Mt-2]=arguments[Mt];return m.prototype[P].apply(T,Z)}}function W(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function $(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(p(T)){const P=u.length||0,j=T.length||0;u.length=P+j;for(let Z=0;Z<j;Z++)u[P+Z]=T[Z]}else u.push(T)}}class Tt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ot(u){return/^[\s\xa0]*$/.test(u)}function mt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Ut(u){return Ut[" "](u),u}Ut[" "]=function(){};var _t=mt().indexOf("Gecko")!=-1&&!(mt().toLowerCase().indexOf("webkit")!=-1&&mt().indexOf("Edge")==-1)&&!(mt().indexOf("Trident")!=-1||mt().indexOf("MSIE")!=-1)&&mt().indexOf("Edge")==-1;function Dt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function x(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function w(u){const m={};for(const y in u)m[y]=u[y];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,m){let y,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(y in T)u[y]=T[y];for(let j=0;j<S.length;j++)y=S[j],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function M(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function U(u){g.setTimeout(()=>{throw u},0)}function R(){var u=Ht;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class pe{constructor(){this.h=this.g=null}add(m,y){const T=ce.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var ce=new Tt(()=>new J,u=>u.reset());class J{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let gt,ct=!1,Ht=new pe,O=()=>{const u=g.Promise.resolve(void 0);gt=()=>{u.then(X)}};var X=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(y){U(y)}var m=ce;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ct=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var et=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function bt(u,m){if(tt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(_t){t:{try{Ut(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:At[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&bt.aa.h.call(this)}}F(bt,tt);var At={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),Lt=0;function ne(u,m,y,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=P,this.key=++Lt,this.da=this.fa=!1}function Gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ye(u){this.src=u,this.g={},this.h=0}Ye.prototype.add=function(u,m,y,T,P){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var Z=pn(u,m,T,P);return-1<Z?(m=u[Z],y||(m.fa=!1)):(m=new ne(m,this.src,j,!!T,P),m.fa=y,u.push(m)),m};function di(u,m){var y=m.type;if(y in u.g){var T=u.g[y],P=Array.prototype.indexOf.call(T,m,void 0),j;(j=0<=P)&&Array.prototype.splice.call(T,P,1),j&&(Gt(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function pn(u,m,y,T){for(var P=0;P<u.length;++P){var j=u[P];if(!j.da&&j.listener==m&&j.capture==!!y&&j.ha==T)return P}return-1}var Yi="closure_lm_"+(1e6*Math.random()|0),Xi={};function mi(u,m,y,T,P){if(Array.isArray(m)){for(var j=0;j<m.length;j++)mi(u,m[j],y,T,P);return null}return y=Ll(y),u&&u[he]?u.K(m,y,v(T)?!!T.capture:!1,P):no(u,m,y,!1,T,P)}function no(u,m,y,T,P,j){if(!m)throw Error("Invalid event type");var Z=v(P)?!!P.capture:!!P,Mt=io(u);if(Mt||(u[Yi]=Mt=new Ye(u)),y=Mt.add(m,y,T,Z,j),y.proxy)return y;if(T=Hs(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)et||(P=Z),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Fs(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Hs(){function u(y){return m.call(u.src,u.listener,y)}const m=mh;return u}function qs(u,m,y,T,P){if(Array.isArray(m))for(var j=0;j<m.length;j++)qs(u,m[j],y,T,P);else T=v(T)?!!T.capture:!!T,y=Ll(y),u&&u[he]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],y=pn(j,y,T,P),-1<y&&(Gt(j[y]),Array.prototype.splice.call(j,y,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=io(u))&&(m=u.g[m.toString()],u=-1,m&&(u=pn(m,y,T,P)),(y=-1<u?m[u]:null)&&$r(y))}function $r(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[he])di(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Fs(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=io(m))?(di(y,u),y.h==0&&(y.src=null,m[Yi]=null)):Gt(u)}}}function Fs(u){return u in Xi?Xi[u]:Xi[u]="on"+u}function mh(u,m){if(u.da)u=!0;else{m=new bt(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&$r(u),u=y.call(T,m)}return u}function io(u){return u=u[Yi],u instanceof Ye?u:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ll(u){return typeof u=="function"?u:(u[nn]||(u[nn]=function(m){return u.handleEvent(m)}),u[nn])}function ye(){at.call(this),this.i=new Ye(this),this.M=this,this.F=null}F(ye,at),ye.prototype[he]=!0,ye.prototype.removeEventListener=function(u,m,y,T){qs(this,u,m,y,T)};function Re(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new tt(m,u);else if(m instanceof tt)m.target=m.target||u;else{var P=m;m=new tt(T,u),C(m,P)}if(P=!0,y)for(var j=y.length-1;0<=j;j--){var Z=m.g=y[j];P=gi(Z,T,!0,m)&&P}if(Z=m.g=u,P=gi(Z,T,!0,m)&&P,P=gi(Z,T,!1,m)&&P,y)for(j=0;j<y.length;j++)Z=m.g=y[j],P=gi(Z,T,!1,m)&&P}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)Gt(y[T]);delete u.g[m],u.h--}}this.F=null},ye.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},ye.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function gi(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,j=0;j<m.length;++j){var Z=m[j];if(Z&&!Z.da&&Z.capture==y){var Mt=Z.listener,ve=Z.ha||Z.src;Z.fa&&di(u.i,Z),P=Mt.call(ve,T)!==!1&&P}}return P&&!T.defaultPrevented}function zl(u,m,y){if(typeof u=="function")y&&(u=D(u,y));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function ro(u){u.g=zl(()=>{u.g=null,u.i&&(u.i=!1,ro(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class gh extends at{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ro(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(u){at.call(this),this.h=u,this.g={}}F(Zr,at);var $i=[];function je(u){Dt(u.g,function(m,y){this.g.hasOwnProperty(y)&&$r(m)},u),u.g={}}Zr.prototype.N=function(){Zr.aa.N.call(this),je(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var so=g.JSON.stringify,Fn=g.JSON.parse,Xe=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function ao(){}ao.prototype.h=null;function Bl(u){return u.h||(u.h=u.i())}function jl(){}var Gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zi(){tt.call(this,"d")}F(Zi,tt);function xn(){tt.call(this,"c")}F(xn,tt);var yn={},Wi=null;function Gs(){return Wi=Wi||new ye}yn.La="serverreachability";function oo(u){tt.call(this,yn.La,u)}F(oo,tt);function Ji(u){const m=Gs();Re(m,new oo(m))}yn.STAT_EVENT="statevent";function Qs(u,m){tt.call(this,yn.STAT_EVENT,u),this.stat=m}F(Qs,tt);function oe(u){const m=Gs();Re(m,new Qs(m,u))}yn.Ma="timingevent";function Hl(u,m){tt.call(this,yn.Ma,u),this.size=m}F(Hl,tt);function tr(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function er(){this.g=!0}er.prototype.xa=function(){this.g=!1};function ql(u,m,y,T,P,j){u.info(function(){if(u.g)if(j)for(var Z="",Mt=j.split("&"),ve=0;ve<Mt.length;ve++){var xt=Mt[ve].split("=");if(1<xt.length){var De=xt[0];xt=xt[1];var Ee=De.split("_");Z=2<=Ee.length&&Ee[1]=="type"?Z+(De+"="+xt+"&"):Z+(De+"=redacted&")}}else Z=null;else Z=j;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+y+`
`+Z})}function Fl(u,m,y,T,P,j,Z){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+y+`
`+j+" "+Z})}function nr(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ie(u,y)+(T?" "+T:"")})}function Qn(u,m){u.info(function(){return"TIMEOUT: "+m})}er.prototype.info=function(){};function Ie(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var P=T[1];if(Array.isArray(P)&&!(1>P.length)){var j=P[0];if(j!="noop"&&j!="stop"&&j!="close")for(var Z=1;Z<P.length;Z++)P[Z]=""}}}}return so(y)}catch{return m}}var _e={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wr;function Ks(){}F(Ks,ao),Ks.prototype.g=function(){return new XMLHttpRequest},Ks.prototype.i=function(){return{}},Wr=new Ks;function Kn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new Zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lo}function lo(){this.i=null,this.g="",this.h=!1}var ir={},Jr={};function kn(u,m,y){u.L=1,u.v=ns(ie(m)),u.m=y,u.P=!0,yi(u,null)}function yi(u,m){u.F=Date.now(),Wt(u),u.A=ie(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ei(y.i,"t",T),u.C=0,y=u.j.J,u.h=new lo,u.g=ru(u.j,y?m:null,!u.m),0<u.O&&(u.M=new gh(D(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var P="readystatechange";Array.isArray(P)||(P&&($i[0]=P.toString()),P=$i);for(var j=0;j<P.length;j++){var Z=mi(y,P[j],T||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Ji(),ql(u.i,u.u,u.A,u.l,u.R,u.m)}Kn.prototype.ca=function(u){u=u.target;const m=this.M;m&&An(u)==3?m.j():this.Y(u)},Kn.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=An(this.g);var m=this.g.Ba();const bi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||$l(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=bi?Ji(3):Ji(2)),Ys(this);var y=this.g.Z();this.X=y;e:if(rr(this)){var T=$l(this.g);u="";var P=T.length,j=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),ln(this);var Z="";break e}this.h.i=new g.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(j&&m==P-1)});T.length=0,this.h.g+=u,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=y==200,Fl(this.i,this.u,this.A,this.l,this.R,Ee,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,ve=this.g;if((Mt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ot(Mt)){var xt=Mt;break e}}xt=null}if(y=xt)nr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,un(this,y);else{this.o=!1,this.s=3,oe(12),rn(this),ln(this);break t}}if(this.P){y=!0;let xe;for(;!this.J&&this.C<Z.length;)if(xe=sr(this,Z),xe==Jr){Ee==4&&(this.s=4,oe(14),y=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(xe==ir){this.s=4,oe(15),nr(this.i,this.l,Z,"[Invalid Chunk]"),y=!1;break}else nr(this.i,this.l,xe,null),un(this,xe);if(rr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||Z.length!=0||this.h.h||(this.s=1,oe(16),y=!1),this.o=this.o&&y,!y)nr(this.i,this.l,Z,"[Invalid Chunked Response]"),rn(this),ln(this);else if(0<Z.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),us(De),De.M=!0,oe(11))}}else nr(this.i,this.l,Z,null),un(this,Z);Ee==4&&rn(this),this.o&&!this.J&&(Ee==4?eu(this.j,this):(this.o=!1,Wt(this)))}else Th(this.g),y==400&&0<Z.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),rn(this),ln(this)}}}catch{}finally{}};function rr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function sr(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Jr:(y=Number(m.substring(y,T)),isNaN(y)?ir:(T+=1,T+y>m.length?Jr:(m=m.slice(T,T+y),u.C=T+y,m)))}Kn.prototype.cancel=function(){this.J=!0,rn(this)};function Wt(u){u.S=Date.now()+u.I,uo(u,u.I)}function uo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=tr(D(u.ba,u),m)}function Ys(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Kn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Qn(this.i,this.A),this.L!=2&&(Ji(),oe(17)),rn(this),this.s=2,ln(this)):uo(this,this.S-u)};function ln(u){u.j.G==0||u.J||eu(u.j,u)}function rn(u){Ys(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,je(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function un(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||ar(y.h,u))){if(!u.K&&ar(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)ra(y),na(y);else break t;To(y),oe(18)}}else y.za=P[1],0<y.za-y.T&&37500>P[2]&&y.F&&y.v==0&&!y.C&&(y.C=tr(D(y.Za,y),6e3));if(1>=Gl(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Si(y,11)}else if((u.K||y.g==u)&&ra(y),!ot(m))for(P=y.Da.g.parse(m),m=0;m<P.length;m++){let xt=P[m];if(y.T=xt[0],xt=xt[1],y.G==2)if(xt[0]=="c"){y.K=xt[1],y.ia=xt[2];const De=xt[3];De!=null&&(y.la=De,y.j.info("VER="+y.la));const Ee=xt[4];Ee!=null&&(y.Aa=Ee,y.j.info("SVER="+y.Aa));const bi=xt[5];bi!=null&&typeof bi=="number"&&0<bi&&(T=1.5*bi,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const xe=u.g;if(xe){const ti=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var j=T.h;j.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(or(j,j.h),j.h=null))}if(T.D){const So=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(T.ya=So,zt(T.I,T.D,So))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var Z=u;if(T.qa=iu(T,T.J?T.ia:null,T.W),Z.K){_n(T.h,Z);var Mt=Z,ve=T.L;ve&&(Mt.I=ve),Mt.B&&(Ys(Mt),Wt(Mt)),T.g=Z}else Jl(T);0<y.i.length&&ia(y)}else xt[0]!="stop"&&xt[0]!="close"||Si(y,7);else y.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Si(y,7):vo(y):xt[0]!="noop"&&y.l&&y.l.ta(xt),y.v=0)}}Ji(4)}catch{}}var ph=class{constructor(u,m){this.g=u,this.map=m}};function co(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ho(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Gl(u){return u.h?1:u.g?u.g.size:0}function ar(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function or(u,m){u.g?u.g.add(m):u.h=m}function _n(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}co.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $e(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return W(u.i)}function Ql(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function yh(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function ts(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=yh(u),T=Ql(u),P=T.length,j=0;j<P;j++)m.call(void 0,T[j],y&&y[j],u)}var fo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xs(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),P=null;if(0<=T){var j=u[y].substring(0,T);P=u[y].substring(T+1)}else j=u[y];m(j,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function _i(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof _i){this.h=u.h,lr(this,u.j),this.o=u.o,this.g=u.g,es(this,u.s),this.l=u.l;var m=u.i,y=new Yn;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),$s(this,y),this.m=u.m}else u&&(m=String(u).match(fo))?(this.h=!1,lr(this,m[1]||"",!0),this.o=ur(m[2]||""),this.g=ur(m[3]||"",!0),es(this,m[4]),this.l=ur(m[5]||"",!0),$s(this,m[6]||"",!0),this.m=ur(m[7]||"")):(this.h=!1,this.i=new Yn(null,this.h))}_i.prototype.toString=function(){var u=[],m=this.j;m&&u.push(vn(m,mo,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(vn(m,mo,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(vn(y,y.charAt(0)=="/"?go:Kl,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",vn(y,Eh)),u.join("")};function ie(u){return new _i(u)}function lr(u,m,y){u.j=y?ur(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function es(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function $s(u,m,y){m instanceof Yn?(u.i=m,po(u.i,u.h)):(y||(m=vn(m,vh)),u.i=new Yn(m,u.h))}function zt(u,m,y){u.i.set(m,y)}function ns(u){return zt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ur(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vn(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,_h),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function _h(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var mo=/[#\/\?@]/g,Kl=/[#\?:]/g,go=/[#\?]/g,vh=/[#\?@]/g,Eh=/#/g;function Yn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function En(u){u.g||(u.g=new Map,u.h=0,u.i&&Xs(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=Yn.prototype,r.add=function(u,m){En(this),this.i=null,u=Ti(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Zs(u,m){En(u),m=Ti(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function vi(u,m){return En(u),m=Ti(u,m),u.g.has(m)}r.forEach=function(u,m){En(this),this.g.forEach(function(y,T){y.forEach(function(P){u.call(m,P,T,this)},this)},this)},r.na=function(){En(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const P=u[T];for(let j=0;j<P.length;j++)y.push(m[T])}return y},r.V=function(u){En(this);let m=[];if(typeof u=="string")vi(this,u)&&(m=m.concat(this.g.get(Ti(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return En(this),this.i=null,u=Ti(this,u),vi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ei(u,m,y){Zs(u,m),0<y.length&&(u.i=null,u.g.set(Ti(u,m),W(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const j=encodeURIComponent(String(T)),Z=this.V(T);for(T=0;T<Z.length;T++){var P=j;Z[T]!==""&&(P+="="+encodeURIComponent(String(Z[T]))),u.push(P)}}return this.i=u.join("&")};function Ti(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function po(u,m){m&&!u.j&&(En(u),u.i=null,u.g.forEach(function(y,T){var P=T.toLowerCase();T!=P&&(Zs(this,T),Ei(this,P,y))},u)),u.j=m}function Yl(u,m){const y=new er;if(g.Image){const T=new Image;T.onload=z(Tn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=z(Tn,y,"TestLoadImage: error",!1,m,T),T.onabort=z(Tn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=z(Tn,y,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function is(u,m){const y=new er,T=new AbortController,P=setTimeout(()=>{T.abort(),Tn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(P),j.ok?Tn(y,"TestPingServer: ok",!0,m):Tn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Tn(y,"TestPingServer: error",!1,m)})}function Tn(u,m,y,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(y)}catch{}}function rs(){this.g=new Xe}function Xn(u,m,y){const T=y||"";try{ts(u,function(P,j){let Z=P;v(P)&&(Z=so(P)),m.push(T+j+"="+encodeURIComponent(Z))})}catch(P){throw m.push(T+"type="+encodeURIComponent("_badmap")),P}}function cr(u){this.l=u.Ub||null,this.j=u.eb||!1}F(cr,ao),cr.prototype.g=function(){return new Ai(this.l,this.j)},cr.prototype.i=function(u){return function(){return u}}({});function Ai(u,m){ye.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(Ai,ye),r=Ai.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Zn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function yo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?$n(this):Zn(this),this.readyState==3&&yo(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,$n(this))},r.Qa=function(u){this.g&&(this.response=u,$n(this))},r.ga=function(){this.g&&$n(this)};function $n(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Zn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function _o(u){let m="";return Dt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function Ce(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=_o(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):zt(u,m,y))}function qt(u){ye.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(qt,ye);var Ws=/^https?$/i,ss=["POST","PUT"];r=qt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wr.g(),this.v=this.o?Bl(this.o):Bl(Wr),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){Xl(this,j);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)y.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())y.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(j=>j.toLowerCase()=="content-type"),P=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ss,m,void 0))||T||P||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Z]of y)this.g.setRequestHeader(j,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{as(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){Xl(this,j)}};function Xl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Js(u),Wn(u)}function Js(u){u.A||(u.A=!0,Re(u,"complete"),Re(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Re(this,"complete"),Re(this,"abort"),Wn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ta(this):this.bb())},r.bb=function(){ta(this)};function ta(u){if(u.h&&typeof d<"u"&&(!u.v[1]||An(u)!=4||u.Z()!=2)){if(u.u&&An(u)==4)zl(u.Ea,0,u);else if(Re(u,"readystatechange"),An(u)==4){u.h=!1;try{const Z=u.Z();t:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=Z===0){var P=String(u.D).match(fo)[1]||null;!P&&g.self&&g.self.location&&(P=g.self.location.protocol.slice(0,-1)),T=!Ws.test(P?P.toLowerCase():"")}y=T}if(y)Re(u,"complete"),Re(u,"success");else{u.m=6;try{var j=2<An(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",Js(u)}}finally{Wn(u)}}}}function Wn(u,m){if(u.g){as(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Re(u,"ready");try{y.onreadystatechange=T}catch{}}}function as(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function An(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Fn(m)}};function $l(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Th(u){const m={};u=(u.g&&2<=An(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ot(u[T]))continue;var y=M(u[T]);const P=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const j=m[P]||[];m[P]=j,j.push(y)}x(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function os(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ea(u){this.Aa=0,this.i=[],this.j=new er,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=os("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=os("baseRetryDelayMs",5e3,u),this.cb=os("retryDelaySeedMs",1e4,u),this.Wa=os("forwardChannelMaxRetries",2,u),this.wa=os("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new co(u&&u.concurrentRequestLimit),this.Da=new rs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ea.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,T){oe(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=iu(this,null,this.W),ia(this)};function vo(u){if(Zl(u),u.G==3){var m=u.U++,y=ie(u.I);if(zt(y,"SID",u.K),zt(y,"RID",m),zt(y,"TYPE","terminate"),ls(u,y),m=new Kn(u,u.j,m),m.L=2,m.v=ns(ie(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=ru(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Wt(m)}nu(u)}function na(u){u.g&&(us(u),u.g.cancel(),u.g=null)}function Zl(u){na(u),u.u&&(g.clearTimeout(u.u),u.u=null),ra(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function ia(u){if(!ho(u.h)&&!u.s){u.s=!0;var m=u.Ga;gt||O(),ct||(gt(),ct=!0),Ht.add(m,u),u.B=0}}function Ah(u,m){return Gl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=tr(D(u.Ga,u,m),Ao(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new Kn(this,this.j,u);let j=this.o;if(this.S&&(j?(j=w(j),C(j,this.S)):j=this.S),this.m!==null||this.O||(P.H=j,j=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Wl(this,P,m),y=ie(this.I),zt(y,"RID",u),zt(y,"CVER",22),this.D&&zt(y,"X-HTTP-Session-Id",this.D),ls(this,y),j&&(this.O?m="headers="+encodeURIComponent(String(_o(j)))+"&"+m:this.m&&Ce(y,this.m,j)),or(this.h,P),this.Ua&&zt(y,"TYPE","init"),this.P?(zt(y,"$req",m),zt(y,"SID","null"),P.T=!0,kn(P,y,null)):kn(P,y,m),this.G=2}}else this.G==3&&(u?Eo(this,u):this.i.length==0||ho(this.h)||Eo(this))};function Eo(u,m){var y;m?y=m.l:y=u.U++;const T=ie(u.I);zt(T,"SID",u.K),zt(T,"RID",y),zt(T,"AID",u.T),ls(u,T),u.m&&u.o&&Ce(T,u.m,u.o),y=new Kn(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Wl(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),or(u.h,y),kn(y,T,m)}function ls(u,m){u.H&&Dt(u.H,function(y,T){zt(m,T,y)}),u.l&&ts({},function(y,T){zt(m,T,y)})}function Wl(u,m,y){y=Math.min(u.i.length,y);var T=u.l?D(u.l.Na,u.l,u):null;t:{var P=u.i;let j=-1;for(;;){const Z=["count="+y];j==-1?0<y?(j=P[0].g,Z.push("ofs="+j)):j=0:Z.push("ofs="+j);let Mt=!0;for(let ve=0;ve<y;ve++){let xt=P[ve].g;const De=P[ve].map;if(xt-=j,0>xt)j=Math.max(0,P[ve].g-100),Mt=!1;else try{Xn(De,Z,"req"+xt+"_")}catch{T&&T(De)}}if(Mt){T=Z.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,T}function Jl(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;gt||O(),ct||(gt(),ct=!0),Ht.add(m,u),u.v=0}}function To(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=tr(D(u.Fa,u),Ao(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=tr(D(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),na(this),tu(this))};function us(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function tu(u){u.g=new Kn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ie(u.qa);zt(m,"RID","rpc"),zt(m,"SID",u.K),zt(m,"AID",u.T),zt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&zt(m,"TO",u.ja),zt(m,"TYPE","xmlhttp"),ls(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=ns(ie(m)),y.m=null,y.P=!0,yi(y,u)}r.Za=function(){this.C!=null&&(this.C=null,na(this),To(this),oe(19))};function ra(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function eu(u,m){var y=null;if(u.g==m){ra(u),us(u),u.g=null;var T=2}else if(ar(u.h,m))y=m.D,_n(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;T=Gs(),Re(T,new Hl(T,y)),ia(u)}else Jl(u);else if(P=m.s,P==3||P==0&&0<m.X||!(T==1&&Ah(u,m)||T==2&&To(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),P){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function Ao(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Si(u,m){if(u.j.info("Error code "+m),m==2){var y=D(u.fb,u),T=u.Xa;const P=!T;T=new _i(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||lr(T,"https"),ns(T),P?Yl(T.toString(),y):is(T.toString(),y)}else oe(2);u.G=0,u.l&&u.l.sa(m),nu(u),Zl(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function nu(u){if(u.G=0,u.ka=[],u.l){const m=$e(u.h);(m.length!=0||u.i.length!=0)&&($(u.ka,m),$(u.ka,u.i),u.h.i.length=0,W(u.i),u.i.length=0),u.l.ra()}}function iu(u,m,y){var T=y instanceof _i?ie(y):new _i(y);if(T.g!="")m&&(T.g=m+"."+T.g),es(T,T.s);else{var P=g.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var j=new _i(null);T&&lr(j,T),m&&(j.g=m),P&&es(j,P),y&&(j.l=y),T=j}return y=u.D,m=u.ya,y&&m&&zt(T,y,m),zt(T,"VER",u.la),ls(u,T),T}function ru(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new cr({eb:y})):new qt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function su(){}r=su.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function sa(){}sa.prototype.g=function(u,m){return new Ze(u,m)};function Ze(u,m){ye.call(this),this.g=new ea(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ot(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ot(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Jn(this)}F(Ze,ye),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){vo(this.g)},Ze.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=so(u),u=y);m.i.push(new ph(m.Ya++,u)),m.G==3&&ia(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,vo(this.g),delete this.g,Ze.aa.N.call(this)};function au(u){Zi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}F(au,Zi);function ou(){xn.call(this),this.status=1}F(ou,xn);function Jn(u){this.g=u}F(Jn,su),Jn.prototype.ua=function(){Re(this.g,"a")},Jn.prototype.ta=function(u){Re(this.g,new au(u))},Jn.prototype.sa=function(u){Re(this.g,new ou)},Jn.prototype.ra=function(){Re(this.g,"b")},sa.prototype.createWebChannel=sa.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,s0=function(){return new sa},r0=function(){return Gs()},i0=yn,Pd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_e.NO_ERROR=0,_e.TIMEOUT=8,_e.HTTP_ERROR=6,dc=_e,pi.COMPLETE="complete",n0=pi,jl.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",ye.prototype.listen=ye.prototype.K,cl=jl,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,e0=qt}).apply(typeof sc<"u"?sc:typeof self<"u"?self:typeof window<"u"?window:{});const A_="@firebase/firestore",S_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new am("@firebase/firestore");function Va(){return Ps.logLevel}function nt(r,...t){if(Ps.logLevel<=Ot.DEBUG){const n=t.map(um);Ps.debug(`Firestore (${Za}): ${r}`,...n)}}function Fi(r,...t){if(Ps.logLevel<=Ot.ERROR){const n=t.map(um);Ps.error(`Firestore (${Za}): ${r}`,...n)}}function ja(r,...t){if(Ps.logLevel<=Ot.WARN){const n=t.map(um);Ps.warn(`Firestore (${Za}): ${r}`,...n)}}function um(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,a0(r,s,n)}function a0(r,t,n){let s=`FIRESTORE (${Za}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Fi(s),new Error(s)}function Ft(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||a0(t,l,s)}function Et(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Ki{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class IS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ge.UNAUTHENTICATED))}shutdown(){}}class CS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class DS{constructor(t){this.t=t,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Br,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Br)}},0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new o0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Ge(t)}}class OS{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class NS{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new OS(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VS{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const s=c=>{c.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new b_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new b_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=MS(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function Rt(r,t){return r<t?-1:r>t?1:0}function Ud(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),l=t.codePointAt(n);if(s!==l){if(s<128&&l<128)return Rt(s,l);{const c=l0(),d=xS(c.encode(w_(r,n)),c.encode(w_(t,n)));return d!==0?d:Rt(s,l)}}n+=s>65535?2:1}return Rt(r.length,t.length)}function w_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function xS(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Rt(r[n],t[n]);return Rt(r.length,t.length)}function Ha(r,t,n){return r.length===t.length&&r.every((s,l)=>n(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=-62135596800,I_=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(t){return be.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*I_);return new be(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ut(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ut(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<R_)throw new ut(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/I_}_compareTo(t){return this.seconds===t.seconds?Rt(this.nanoseconds,t.nanoseconds):Rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-R_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new be(0,0))}static max(){return new yt(new be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="__name__";class ai{constructor(t,n,s){n===void 0?n=0:n>t.length&&dt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&dt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ai.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ai?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=ai.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return Rt(t.length,n.length)}static compareSegments(t,n){const s=ai.isNumericId(t),l=ai.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?ai.extractNumericId(t).compare(ai.extractNumericId(n)):Ud(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return zr.fromString(t.substring(4,t.length-2))}}class Zt extends ai{construct(t,n,s){return new Zt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ut(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new Zt(n)}static emptyPath(){return new Zt([])}}const kS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends ai{construct(t,n,s){return new ze(t,n,s)}static isValidIdentifier(t){return kS.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===C_}static keyField(){return new ze([C_])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new ut(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ut(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ut(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new ut(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ze(n)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.path=t}static fromPath(t){return new ht(Zt.fromString(t))}static fromName(t){return new ht(Zt.fromString(t).popFirst(5))}static empty(){return new ht(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Zt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Zt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new Zt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=-1;function PS(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(s===1e9?new be(n+1,0):new be(n,s));return new Hr(l,ht.empty(),t)}function US(r){return new Hr(r.readTime,r.key,El)}class Hr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Hr(yt.min(),ht.empty(),El)}static max(){return new Hr(yt.max(),ht.empty(),El)}}function LS(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ht.comparator(r.documentKey,t.documentKey),n!==0?n:Rt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==zS)throw r;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Q((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Q.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Q.reject(n)}static resolve(t){return new Q((n,s)=>{n(t)})}static reject(t){return new Q((n,s)=>{s(t)})}static waitFor(t){return new Q((n,s)=>{let l=0,c=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&n()},p=>s(p))}),d=!0,c===l&&n()})}static or(t){let n=Q.resolve(!1);for(const s of t)n=n.next(l=>l?Q.resolve(l):s());return n}static forEach(t,n){const s=[];return t.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(t,n){return new Q((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const v=p;n(t[v]).next(A=>{d[v]=A,++g,g===c&&s(d)},A=>l(A))}})}static doWhile(t,n){return new Q((s,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):s()};c()})}}function jS(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ja(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Qc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm=-1;function Kc(r){return r==null}function wc(r){return r===0&&1/r==-1/0}function HS(r){return typeof r=="number"&&Number.isInteger(r)&&!wc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="";function qS(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=D_(t)),t=FS(r.get(n),t);return D_(t)}function FS(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case c0:n+="";break;default:n+=c}}return n}function D_(r){return r+c0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Yr(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function h0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t,n){this.comparator=t,this.root=n||Le.EMPTY}insert(t,n){return new ee(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(t){return new ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Le.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ac(this.root,t,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ac(this.root,t,this.comparator,!0)}}class ac{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Le{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??Le.RED,this.left=l??Le.EMPTY,this.right=c??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new Le(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Le.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw dt(27949);return t+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(t,n,s,l,c){return this}insert(t,n,s){return new Le(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t){this.comparator=t,this.data=new ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new N_(this.data.getIterator())}getIteratorFrom(t){return new N_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof we)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new we(this.comparator);return n.data=t,n}}class N_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.fields=t,t.sort(ze.comparator)}static empty(){return new gn([])}unionWith(t){let n=new we(ze.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new gn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ha(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new f0("Invalid base64 string: "+c):c}}(t);return new Be(n)}static fromUint8Array(t){const n=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new Be(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const GS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const n=GS.exec(r);if(Ft(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ue(r.seconds),nanos:ue(r.nanos)}}function ue(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Fr(r){return typeof r=="string"?Be.fromBase64String(r):Be.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="server_timestamp",m0="__type__",g0="__previous_value__",p0="__local_write_time__";function hm(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[m0])===null||n===void 0?void 0:n.stringValue)===d0}function Yc(r){const t=r.mapValue.fields[g0];return hm(t)?Yc(t):t}function Tl(r){const t=qr(r.mapValue.fields[p0].timestampValue);return new be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t,n,s,l,c,d,g,p,v,A){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=v,this.isUsingEmulator=A}}const Rc="(default)";class Al{constructor(t,n){this.projectId=t,this.database=n||Rc}static empty(){return new Al("","")}get isDefaultDatabase(){return this.database===Rc}isEqual(t){return t instanceof Al&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="__type__",KS="__max__",oc={mapValue:{}},_0="__vector__",Ic="value";function Gr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?hm(r)?4:XS(r)?9007199254740991:YS(r)?10:11:dt(28295,{value:r})}function ci(r,t){if(r===t)return!0;const n=Gr(r);if(n!==Gr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Tl(r).isEqual(Tl(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=qr(l.timestampValue),g=qr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Fr(l.bytesValue).isEqual(Fr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return ue(l.geoPointValue.latitude)===ue(c.geoPointValue.latitude)&&ue(l.geoPointValue.longitude)===ue(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return ue(l.integerValue)===ue(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ue(l.doubleValue),g=ue(c.doubleValue);return d===g?wc(d)===wc(g):isNaN(d)&&isNaN(g)}return!1}(r,t);case 9:return Ha(r.arrayValue.values||[],t.arrayValue.values||[],ci);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(O_(d)!==O_(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!ci(d[p],g[p])))return!1;return!0}(r,t);default:return dt(52216,{left:r})}}function Sl(r,t){return(r.values||[]).find(n=>ci(n,t))!==void 0}function qa(r,t){if(r===t)return 0;const n=Gr(r),s=Gr(t);if(n!==s)return Rt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Rt(r.booleanValue,t.booleanValue);case 2:return function(c,d){const g=ue(c.integerValue||c.doubleValue),p=ue(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return V_(r.timestampValue,t.timestampValue);case 4:return V_(Tl(r),Tl(t));case 5:return Ud(r.stringValue,t.stringValue);case 6:return function(c,d){const g=Fr(c),p=Fr(d);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let v=0;v<g.length&&v<p.length;v++){const A=Rt(g[v],p[v]);if(A!==0)return A}return Rt(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const g=Rt(ue(c.latitude),ue(d.latitude));return g!==0?g:Rt(ue(c.longitude),ue(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return M_(r.arrayValue,t.arrayValue);case 10:return function(c,d){var g,p,v,A;const I=c.fields||{},D=d.fields||{},z=(g=I[Ic])===null||g===void 0?void 0:g.arrayValue,F=(p=D[Ic])===null||p===void 0?void 0:p.arrayValue,W=Rt(((v=z==null?void 0:z.values)===null||v===void 0?void 0:v.length)||0,((A=F==null?void 0:F.values)===null||A===void 0?void 0:A.length)||0);return W!==0?W:M_(z,F)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===oc.mapValue&&d===oc.mapValue)return 0;if(c===oc.mapValue)return 1;if(d===oc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),v=d.fields||{},A=Object.keys(v);p.sort(),A.sort();for(let I=0;I<p.length&&I<A.length;++I){const D=Ud(p[I],A[I]);if(D!==0)return D;const z=qa(g[p[I]],v[A[I]]);if(z!==0)return z}return Rt(p.length,A.length)}(r.mapValue,t.mapValue);default:throw dt(23264,{Pe:n})}}function V_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Rt(r,t);const n=qr(r),s=qr(t),l=Rt(n.seconds,s.seconds);return l!==0?l:Rt(n.nanos,s.nanos)}function M_(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=qa(n[l],s[l]);if(c)return c}return Rt(n.length,s.length)}function Fa(r){return Ld(r)}function Ld(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=qr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Fr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ht.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=Ld(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${Ld(n.fields[d])}`;return l+"}"}(r.mapValue):dt(61005,{value:r})}function mc(r){switch(Gr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Yc(r);return t?16+mc(t):16;case 5:return 2*r.stringValue.length;case 6:return Fr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+mc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return Yr(s.fields,(c,d)=>{l+=c.length+mc(d)}),l}(r.mapValue);default:throw dt(13486,{value:r})}}function zd(r){return!!r&&"integerValue"in r}function fm(r){return!!r&&"arrayValue"in r}function x_(r){return!!r&&"nullValue"in r}function k_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function gc(r){return!!r&&"mapValue"in r}function YS(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[y0])===null||n===void 0?void 0:n.stringValue)===_0}function ml(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Yr(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=ml(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ml(r.arrayValue.values[n]);return t}return Object.assign({},r)}function XS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===KS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.value=t}static empty(){return new on({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!gc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ml(n)}setAll(t){let n=ze.emptyPath(),s={},l=[];t.forEach((d,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}d?s[g.lastSegment()]=ml(d):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());gc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ci(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];gc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){Yr(n,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new on(ml(this.value))}}function v0(r){const t=[];return Yr(r.fields,(n,s)=>{const l=new ze([n]);if(gc(s)){const c=v0(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new gn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,n,s,l,c,d,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Qe(t,0,yt.min(),yt.min(),yt.min(),on.empty(),0)}static newFoundDocument(t,n,s,l){return new Qe(t,1,n,yt.min(),s,l,0)}static newNoDocument(t,n){return new Qe(t,2,n,yt.min(),yt.min(),on.empty(),0)}static newUnknownDocument(t,n){return new Qe(t,3,n,yt.min(),yt.min(),on.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(t,n){this.position=t,this.inclusive=n}}function P_(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=ht.comparator(ht.fromName(d.referenceValue),n.key):s=qa(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function U_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ci(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t,n="asc"){this.field=t,this.dir=n}}function $S(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{}class Se extends E0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new WS(t,n,s):n==="array-contains"?new eb(t,s):n==="in"?new nb(t,s):n==="not-in"?new ib(t,s):n==="array-contains-any"?new rb(t,s):new Se(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new JS(t,s):new tb(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qa(n,this.value)):n!==null&&Gr(this.value)===Gr(n)&&this.matchesComparison(qa(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends E0{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new hi(t,n)}matches(t){return T0(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function T0(r){return r.op==="and"}function A0(r){return ZS(r)&&T0(r)}function ZS(r){for(const t of r.filters)if(t instanceof hi)return!1;return!0}function Bd(r){if(r instanceof Se)return r.field.canonicalString()+r.op.toString()+Fa(r.value);if(A0(r))return r.filters.map(t=>Bd(t)).join(",");{const t=r.filters.map(n=>Bd(n)).join(",");return`${r.op}(${t})`}}function S0(r,t){return r instanceof Se?function(s,l){return l instanceof Se&&s.op===l.op&&s.field.isEqual(l.field)&&ci(s.value,l.value)}(r,t):r instanceof hi?function(s,l){return l instanceof hi&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,d,g)=>c&&S0(d,l.filters[g]),!0):!1}(r,t):void dt(19439)}function b0(r){return r instanceof Se?function(n){return`${n.field.canonicalString()} ${n.op} ${Fa(n.value)}`}(r):r instanceof hi?function(n){return n.op.toString()+" {"+n.getFilters().map(b0).join(" ,")+"}"}(r):"Filter"}class WS extends Se{constructor(t,n,s){super(t,n,s),this.key=ht.fromName(s.referenceValue)}matches(t){const n=ht.comparator(t.key,this.key);return this.matchesComparison(n)}}class JS extends Se{constructor(t,n){super(t,"in",n),this.keys=w0("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class tb extends Se{constructor(t,n){super(t,"not-in",n),this.keys=w0("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function w0(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ht.fromName(s.referenceValue))}class eb extends Se{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return fm(n)&&Sl(n.arrayValue,this.value)}}class nb extends Se{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Sl(this.value.arrayValue,n)}}class ib extends Se{constructor(t,n){super(t,"not-in",n)}matches(t){if(Sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Sl(this.value.arrayValue,n)}}class rb extends Se{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!fm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Sl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(t,n=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Ie=null}}function L_(r,t=null,n=[],s=[],l=null,c=null,d=null){return new sb(r,t,n,s,l,c,d)}function dm(r){const t=Et(r);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Bd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Kc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Fa(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Fa(s)).join(",")),t.Ie=n}return t.Ie}function mm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!$S(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!S0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!U_(r.startAt,t.startAt)&&U_(r.endAt,t.endAt)}function jd(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,n=null,s=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ab(r,t,n,s,l,c,d,g){return new Xc(r,t,n,s,l,c,d,g)}function R0(r){return new Xc(r)}function z_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ob(r){return r.collectionGroup!==null}function gl(r){const t=Et(r);if(t.Ee===null){t.Ee=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ee.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(ze.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ee.push(new Dc(c,s))}),n.has(ze.keyField().canonicalString())||t.Ee.push(new Dc(ze.keyField(),s))}return t.Ee}function oi(r){const t=Et(r);return t.de||(t.de=lb(t,gl(r))),t.de}function lb(r,t){if(r.limitType==="F")return L_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Dc(l.field,c)});const n=r.endAt?new Cc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Cc(r.startAt.position,r.startAt.inclusive):null;return L_(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Hd(r,t,n){return new Xc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function $c(r,t){return mm(oi(r),oi(t))&&r.limitType===t.limitType}function I0(r){return`${dm(oi(r))}|lt:${r.limitType}`}function Ma(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>b0(l)).join(", ")}]`),Kc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>Fa(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>Fa(l)).join(",")),`Target(${s})`}(oi(r))}; limitType=${r.limitType})`}function Zc(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ht.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of gl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(d,g,p){const v=P_(d,g,p);return d.inclusive?v<=0:v<0}(s.startAt,gl(s),l)||s.endAt&&!function(d,g,p){const v=P_(d,g,p);return d.inclusive?v>=0:v>0}(s.endAt,gl(s),l))}(r,t)}function ub(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function C0(r){return(t,n)=>{let s=!1;for(const l of gl(r)){const c=cb(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function cb(r,t,n){const s=r.field.isKeyField()?ht.comparator(t.key,n.key):function(c,d,g){const p=d.data.field(c),v=g.data.field(c);return p!==null&&v!==null?qa(p,v):dt(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return dt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Yr(this.inner,(n,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return h0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=new ee(ht.comparator);function Gi(){return hb}const D0=new ee(ht.comparator);function hl(...r){let t=D0;for(const n of r)t=t.insert(n.key,n);return t}function O0(r){let t=D0;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Os(){return pl()}function N0(){return pl()}function pl(){return new Bs(r=>r.toString(),(r,t)=>r.isEqual(t))}const fb=new ee(ht.comparator),db=new we(ht.comparator);function Nt(...r){let t=db;for(const n of r)t=t.add(n);return t}const mb=new we(Rt);function gb(){return mb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wc(t)?"-0":t}}function V0(r){return{integerValue:""+r}}function pb(r,t){return HS(t)?V0(t):gm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(){this._=void 0}}function yb(r,t,n){return r instanceof Oc?function(l,c){const d={fields:{[m0]:{stringValue:d0},[p0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&hm(c)&&(c=Yc(c)),c&&(d.fields[g0]=c),{mapValue:d}}(n,t):r instanceof bl?x0(r,t):r instanceof wl?k0(r,t):function(l,c){const d=M0(l,c),g=B_(d)+B_(l.Re);return zd(d)&&zd(l.Re)?V0(g):gm(l.serializer,g)}(r,t)}function _b(r,t,n){return r instanceof bl?x0(r,t):r instanceof wl?k0(r,t):n}function M0(r,t){return r instanceof Nc?function(s){return zd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Oc extends Wc{}class bl extends Wc{constructor(t){super(),this.elements=t}}function x0(r,t){const n=P0(t);for(const s of r.elements)n.some(l=>ci(l,s))||n.push(s);return{arrayValue:{values:n}}}class wl extends Wc{constructor(t){super(),this.elements=t}}function k0(r,t){let n=P0(t);for(const s of r.elements)n=n.filter(l=>!ci(l,s));return{arrayValue:{values:n}}}class Nc extends Wc{constructor(t,n){super(),this.serializer=t,this.Re=n}}function B_(r){return ue(r.integerValue||r.doubleValue)}function P0(r){return fm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function vb(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof bl&&l instanceof bl||s instanceof wl&&l instanceof wl?Ha(s.elements,l.elements,ci):s instanceof Nc&&l instanceof Nc?ci(s.Re,l.Re):s instanceof Oc&&l instanceof Oc}(r.transform,t.transform)}class Eb{constructor(t,n){this.version=t,this.transformResults=n}}class Hn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Hn}static exists(t){return new Hn(void 0,t)}static updateTime(t){return new Hn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function pc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Jc{}function U0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new pm(r.key,Hn.none()):new Dl(r.key,r.data,Hn.none());{const n=r.data,s=on.empty();let l=new we(ze.comparator);for(let c of t.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Xr(r.key,s,new gn(l.toArray()),Hn.none())}}function Tb(r,t,n){r instanceof Dl?function(l,c,d){const g=l.value.clone(),p=H_(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,t,n):r instanceof Xr?function(l,c,d){if(!pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=H_(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(L0(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,t,n):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,n)}function yl(r,t,n,s){return r instanceof Dl?function(c,d,g,p){if(!pc(c.precondition,d))return g;const v=c.value.clone(),A=q_(c.fieldTransforms,p,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(r,t,n,s):r instanceof Xr?function(c,d,g,p){if(!pc(c.precondition,d))return g;const v=q_(c.fieldTransforms,p,d),A=d.data;return A.setAll(L0(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(I=>I.field))}(r,t,n,s):function(c,d,g){return pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,t,n)}function Ab(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=M0(s.transform,l||null);c!=null&&(n===null&&(n=on.empty()),n.set(s.field,c))}return n||null}function j_(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ha(s,l,(c,d)=>vb(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Dl extends Jc{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Xr extends Jc{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function L0(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function H_(r,t,n){const s=new Map;Ft(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let l=0;l<n.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,_b(d,g,n[l]))}return s}function q_(r,t,n){const s=new Map;for(const l of r){const c=l.transform,d=n.data.field(l.field);s.set(l.field,yb(c,d,t))}return s}class pm extends Jc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sb extends Jc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Tb(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=yl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=yl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=N0();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(l.key)?null:g;const p=U0(d,g);p!==null&&s.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(yt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Nt())}isEqual(t){return this.batchId===t.batchId&&Ha(this.mutations,t.mutations,(n,s)=>j_(n,s))&&Ha(this.baseMutations,t.baseMutations,(n,s)=>j_(n,s))}}class ym{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Ft(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let l=function(){return fb}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new ym(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Pt;function Ib(r){switch(r){case Y.OK:return dt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return dt(15467,{code:r})}}function z0(r){if(r===void 0)return Fi("GRPC error has no .code"),Y.UNKNOWN;switch(r){case ge.OK:return Y.OK;case ge.CANCELLED:return Y.CANCELLED;case ge.UNKNOWN:return Y.UNKNOWN;case ge.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case ge.INTERNAL:return Y.INTERNAL;case ge.UNAVAILABLE:return Y.UNAVAILABLE;case ge.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case ge.NOT_FOUND:return Y.NOT_FOUND;case ge.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case ge.ABORTED:return Y.ABORTED;case ge.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case ge.DATA_LOSS:return Y.DATA_LOSS;default:return dt(39323,{code:r})}}(Pt=ge||(ge={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=new zr([4294967295,4294967295],0);function F_(r){const t=l0().encode(r),n=new t0;return n.update(t),new Uint8Array(n.digest())}function G_(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new zr([n,s],0),new zr([l,c],0)]}class _m{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new fl(`Invalid padding: ${n}`);if(s<0)throw new fl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new fl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new fl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=zr.fromNumber(this.pe)}we(t,n,s){let l=t.add(n.multiply(zr.fromNumber(s)));return l.compare(Cb)===1&&(l=new zr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=F_(t),[s,l]=G_(n);for(let c=0;c<this.hashCount;c++){const d=this.we(s,l,c);if(!this.be(d))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new _m(c,l,n);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.pe===0)return;const n=F_(t),[s,l]=G_(n);for(let c=0;c<this.hashCount;c++){const d=this.we(s,l,c);this.Se(d)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,Ol.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new th(yt.min(),l,new ee(Rt),Gi(),Nt())}}class Ol{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Ol(s,n,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(t,n,s,l){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=l}}class B0{constructor(t,n){this.targetId=t,this.Ce=n}}class j0{constructor(t,n,s=Be.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class Q_{constructor(){this.Fe=0,this.Me=K_(),this.xe=Be.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Nt(),n=Nt(),s=Nt();return this.Me.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:dt(38017,{changeType:c})}}),new Ol(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=K_()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ft(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Db{constructor(t){this.ze=t,this.je=new Map,this.He=Gi(),this.Je=lc(),this.Ye=lc(),this.Ze=new ee(Rt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:dt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,l)=>{this.it(l)&&n(l)})}ot(t){const n=t.targetId,s=t.Ce.count,l=this._t(n);if(l){const c=l.target;if(jd(c))if(s===0){const d=new ht(c.path);this.tt(n,d,Qe.newNoDocument(d,yt.min()))}else Ft(s===1,20013,{expectedCount:s});else{const d=this.ut(n);if(d!==s){const g=this.ct(t),p=g?this.lt(g,t,d):1;if(p!==0){this.st(n);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,v)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let d,g;try{d=Fr(s).toUint8Array()}catch(p){if(p instanceof f0)return ja("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new _m(d,l,c)}catch(p){return ja(p instanceof fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.pe===0?null:g}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.tt(n,c,null),l++)}),l}It(t){const n=new Map;this.je.forEach((c,d)=>{const g=this._t(d);if(g){if(c.current&&jd(g.target)){const p=new ht(g.target.path);this.Et(p).has(d)||this.dt(d,p)||this.tt(d,p,Qe.newNoDocument(p,t))}c.Le&&(n.set(d,c.qe()),c.Qe())}});let s=Nt();this.Ye.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const v=this._t(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.He.forEach((c,d)=>d.setReadTime(t));const l=new th(t,n,this.Ze,this.He,s);return this.He=Gi(),this.Je=lc(),this.Ye=lc(),this.Ze=new ee(Rt),l}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const l=this.rt(t);this.dt(t,n)?l.$e(n,1):l.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new Q_,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new we(Rt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new we(Rt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||nt("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new Q_),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function lc(){return new ee(ht.comparator)}function K_(){return new ee(ht.comparator)}const Ob={asc:"ASCENDING",desc:"DESCENDING"},Nb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vb={and:"AND",or:"OR"};class Mb{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function qd(r,t){return r.useProto3Json||Kc(t)?t:{value:t}}function Vc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function H0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function xb(r,t){return Vc(r,t.toTimestamp())}function li(r){return Ft(!!r,49232),yt.fromTimestamp(function(n){const s=qr(n);return new be(s.seconds,s.nanos)}(r))}function vm(r,t){return Fd(r,t).canonicalString()}function Fd(r,t){const n=function(l){return new Zt(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function q0(r){const t=Zt.fromString(r);return Ft(Y0(t),10190,{key:t.toString()}),t}function Gd(r,t){return vm(r.databaseId,t.path)}function bd(r,t){const n=q0(t);if(n.get(1)!==r.databaseId.projectId)throw new ut(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ut(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ht(G0(n))}function F0(r,t){return vm(r.databaseId,t)}function kb(r){const t=q0(r);return t.length===4?Zt.emptyPath():G0(t)}function Qd(r){return new Zt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function G0(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Y_(r,t,n){return{name:Gd(r,t),fields:n.value.mapValue.fields}}function Pb(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:dt(39313,{state:v})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(v,A){return v.useProto3Json?(Ft(A===void 0||typeof A=="string",58123),Be.fromBase64String(A||"")):(Ft(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Be.fromUint8Array(A||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(v){const A=v.code===void 0?Y.UNKNOWN:z0(v.code);return new ut(A,v.message||"")}(d);n=new j0(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=bd(r,s.document.name),c=li(s.document.updateTime),d=s.document.createTime?li(s.document.createTime):yt.min(),g=new on({mapValue:{fields:s.document.fields}}),p=Qe.newFoundDocument(l,c,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];n=new yc(v,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=bd(r,s.document),c=s.readTime?li(s.readTime):yt.min(),d=Qe.newNoDocument(l,c),g=s.removedTargetIds||[];n=new yc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=bd(r,s.document),c=s.removedTargetIds||[];n=new yc([],c,l,null)}else{if(!("filter"in t))return dt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new Rb(l,c),g=s.targetId;n=new B0(g,d)}}return n}function Ub(r,t){let n;if(t instanceof Dl)n={update:Y_(r,t.key,t.value)};else if(t instanceof pm)n={delete:Gd(r,t.key)};else if(t instanceof Xr)n={update:Y_(r,t.key,t.data),updateMask:Qb(t.fieldMask)};else{if(!(t instanceof Sb))return dt(16599,{ft:t.type});n={verify:Gd(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof Oc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof bl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof wl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Nc)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw dt(20930,{transform:d.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:xb(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:dt(27497)}(r,t.precondition)),n}function Lb(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map(n=>function(l,c){let d=l.updateTime?li(l.updateTime):li(c);return d.isEqual(yt.min())&&(d=li(c)),new Eb(d,l.transformResults||[])}(n,t))):[]}function zb(r,t){return{documents:[F0(r,t.path)]}}function Bb(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=F0(r,l);const c=function(v){if(v.length!==0)return K0(hi.create(v,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const d=function(v){if(v.length!==0)return v.map(A=>function(D){return{field:xa(D.field),direction:qb(D.dir)}}(A))}(t.orderBy);d&&(n.structuredQuery.orderBy=d);const g=qd(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{gt:n,parent:l}}function jb(r){let t=kb(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Ft(s===1,65062);const A=n.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];n.where&&(c=function(I){const D=Q0(I);return D instanceof hi&&A0(D)?D.getFilters():[D]}(n.where));let d=[];n.orderBy&&(d=function(I){return I.map(D=>function(F){return new Dc(ka(F.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(D))}(n.orderBy));let g=null;n.limit&&(g=function(I){let D;return D=typeof I=="object"?I.value:I,Kc(D)?null:D}(n.limit));let p=null;n.startAt&&(p=function(I){const D=!!I.before,z=I.values||[];return new Cc(z,D)}(n.startAt));let v=null;return n.endAt&&(v=function(I){const D=!I.before,z=I.values||[];return new Cc(z,D)}(n.endAt)),ab(t,l,d,c,g,"F",p,v)}function Hb(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:l})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Q0(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ka(n.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=ka(n.unaryFilter.field);return Se.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ka(n.unaryFilter.field);return Se.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ka(n.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}}(r):r.fieldFilter!==void 0?function(n){return Se.create(ka(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return hi.create(n.compositeFilter.filters.map(s=>Q0(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return dt(1026)}}(n.compositeFilter.op))}(r):dt(30097,{filter:r})}function qb(r){return Ob[r]}function Fb(r){return Nb[r]}function Gb(r){return Vb[r]}function xa(r){return{fieldPath:r.canonicalString()}}function ka(r){return ze.fromServerFormat(r.fieldPath)}function K0(r){return r instanceof Se?function(n){if(n.op==="=="){if(k_(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NAN"}};if(x_(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(k_(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NOT_NAN"}};if(x_(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xa(n.field),op:Fb(n.op),value:n.value}}}(r):r instanceof hi?function(n){const s=n.getFilters().map(l=>K0(l));return s.length===1?s[0]:{compositeFilter:{op:Gb(n.op),filters:s}}}(r):dt(54877,{filter:r})}function Qb(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Y0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(t,n,s,l,c=yt.min(),d=yt.min(),g=Be.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new kr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(t){this.wt=t}}function Yb(r){const t=jb({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Hd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(){this.Cn=new $b}addToCollectionParentIndex(t,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(t,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return Q.resolve()}deleteFieldIndex(t,n){return Q.resolve()}deleteAllFieldIndexes(t){return Q.resolve()}createTargetIndexes(t,n){return Q.resolve()}getDocumentsMatchingTarget(t,n){return Q.resolve(null)}getIndexType(t,n){return Q.resolve(0)}getFieldIndexes(t,n){return Q.resolve([])}getNextCollectionGroupToUpdate(t){return Q.resolve(null)}getMinOffset(t,n){return Q.resolve(Hr.min())}getMinOffsetFromCollectionGroup(t,n){return Q.resolve(Hr.min())}updateCollectionGroup(t,n,s){return Q.resolve()}updateIndexEntries(t,n){return Q.resolve()}}class $b{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new we(Zt.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new we(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},X0=41943040;class an{static withCacheSize(t){return new an(t,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(X0,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Ga(0)}static lr(){return new Ga(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="LruGarbageCollector",Zb=1048576;function Z_([r,t],[n,s]){const l=Rt(r,n);return l===0?Rt(t,s):l}class Wb{constructor(t){this.Er=t,this.buffer=new we(Z_),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Z_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Jb{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){nt($_,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ja(n)?nt($_,"Ignoring IndexedDB error during garbage collection: ",n):await Wa(n)}await this.mr(3e5)})}}class tw{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return Q.resolve(Qc.le);const s=new Wb(n);return this.gr.forEachTarget(t,l=>s.Rr(l.sequenceNumber)).next(()=>this.gr.yr(t,l=>s.Rr(l))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.gr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(X_)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X_):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let s,l,c,d,g,p,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,d=Date.now(),this.nthSequenceNumber(t,l))).next(I=>(s=I,g=Date.now(),this.removeTargets(t,s,n))).next(I=>(c=I,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(I=>(v=Date.now(),Va()<=Ot.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${I} documents in `+(v-p)+`ms
Total Duration: ${v-A}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:I})))}}function ew(r,t){return new tw(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(){this.changes=new Bs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Qe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Q.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(s!==null&&yl(s.mutation,l,gn.empty(),be.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Nt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Nt()){const l=Os();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,s).next(c=>{let d=hl();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,n){const s=Os();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Nt()))}populateOverlays(t,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,g)=>{n.set(d,g)})})}computeViews(t,n,s,l){let c=Gi();const d=pl(),g=function(){return pl()}();return n.forEach((p,v)=>{const A=s.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof Xr)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),yl(A.mutation,v,A.mutation.getFieldMask(),be.now())):d.set(v.key,gn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((v,A)=>d.set(v,A)),n.forEach((v,A)=>{var I;return g.set(v,new iw(A,(I=d.get(v))!==null&&I!==void 0?I:null))}),g))}recalculateAndSaveOverlays(t,n){const s=pl();let l=new ee((d,g)=>d-g),c=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(d=>{for(const g of d)g.keys().forEach(p=>{const v=n.get(p);if(v===null)return;let A=s.get(p)||gn.empty();A=g.applyToLocalView(v,A),s.set(p,A);const I=(l.get(g.batchId)||Nt()).add(p);l=l.insert(g.batchId,I)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),v=p.key,A=p.value,I=N0();A.forEach(D=>{if(!c.has(D)){const z=U0(n.get(D),s.get(D));z!==null&&I.set(D,z),c=c.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(t,v,I))}return Q.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,l){return function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):ob(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):Q.resolve(Os());let g=El,p=c;return d.next(v=>Q.forEach(v,(A,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),c.get(A)?Q.resolve():this.remoteDocumentCache.getEntry(t,A).next(D=>{p=p.insert(A,D)}))).next(()=>this.populateOverlays(t,v,c)).next(()=>this.computeViews(t,p,v,Nt())).next(A=>({batchId:g,changes:O0(A)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ht(n)).next(s=>{let l=hl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let d=hl();return this.indexManager.getCollectionParents(t,c).next(g=>Q.forEach(g,p=>{const v=function(I,D){return new Xc(D,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,s,l).next(A=>{A.forEach((I,D)=>{d=d.insert(I,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l))).next(d=>{c.forEach((p,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))});let g=hl();return d.forEach((p,v)=>{const A=c.get(p);A!==void 0&&yl(A.mutation,v,gn.empty(),be.now()),Zc(n,v)&&(g=g.insert(p,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return Q.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:li(l.createTime)}}(n)),Q.resolve()}getNamedQuery(t,n){return Q.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(l){return{name:l.name,query:Yb(l.bundledQuery),readTime:li(l.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this.overlays=new ee(ht.comparator),this.Qr=new Map}getOverlay(t,n){return Q.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Os();return Q.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((l,c)=>{this.St(t,n,c)}),Q.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.Qr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(s)),Q.resolve()}getOverlaysForCollection(t,n,s){const l=Os(),c=n.length+1,d=new ht(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,v=p.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return Q.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new ee((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let A=c.get(v.largestBatchId);A===null&&(A=Os(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=Os(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=l)););return Q.resolve(g)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Qr.get(l.largestBatchId).delete(s.key);this.Qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new wb(n,s));let c=this.Qr.get(n);c===void 0&&(c=Nt(),this.Qr.set(n,c)),this.Qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return Q.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this.$r=new we(Me.Ur),this.Kr=new we(Me.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const s=new Me(t,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.zr(new Me(t,n))}jr(t,n){t.forEach(s=>this.removeReference(s,n))}Hr(t){const n=new ht(new Zt([])),s=new Me(n,t),l=new Me(n,t+1),c=[];return this.Kr.forEachInRange([s,l],d=>{this.zr(d),c.push(d.key)}),c}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new ht(new Zt([])),s=new Me(n,t),l=new Me(n,t+1);let c=Nt();return this.Kr.forEachInRange([s,l],d=>{c=c.add(d.key)}),c}containsKey(t){const n=new Me(t,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Me{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return ht.comparator(t.key,n.key)||Rt(t.Zr,n.Zr)}static Wr(t,n){return Rt(t.Zr,n.Zr)||ht.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new we(Me.Ur)}checkEmpty(t){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new bb(c,n,s,l);this.mutationQueue.push(d);for(const g of l)this.Xr=this.Xr.add(new Me(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(t,n){return Q.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.ti(s),c=l<0?0:l;return Q.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?cm:this.nr-1)}getAllMutationBatches(t){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Me(n,0),l=new Me(n,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([s,l],d=>{const g=this.ei(d.Zr);c.push(g)}),Q.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new we(Rt);return n.forEach(l=>{const c=new Me(l,0),d=new Me(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,d],g=>{s=s.add(g.Zr)})}),Q.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;ht.isDocumentKey(c)||(c=c.child(""));const d=new Me(new ht(c),0);let g=new we(Rt);return this.Xr.forEachWhile(p=>{const v=p.key.path;return!!s.isPrefixOf(v)&&(v.length===l&&(g=g.add(p.Zr)),!0)},d),Q.resolve(this.ni(g))}ni(t){const n=[];return t.forEach(s=>{const l=this.ei(s);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){Ft(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return Q.forEach(n.mutations,l=>{const c=new Me(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,n){const s=new Me(n,0),l=this.Xr.firstAfterOrEqual(s);return Q.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Q.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t){this.ii=t,this.docs=function(){return new ee(ht.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,d=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Q.resolve(s?s.document.mutableCopy():Qe.newInvalidDocument(n))}getEntries(t,n){let s=Gi();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Qe.newInvalidDocument(l))}),Q.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=Gi();const d=n.path,g=new ht(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:v,value:{document:A}}=p.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||LS(US(A),s)<=0||(l.has(A.key)||Zc(n,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Q.resolve(c)}getAllFromCollectionGroup(t,n,s,l){dt(9500)}si(t,n){return Q.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new cw(this)}getSize(t){return Q.resolve(this.size)}}class cw extends nw{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Br.addEntry(t,l)):this.Br.removeEntry(s)}),Q.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t){this.persistence=t,this.oi=new Bs(n=>dm(n),mm),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this._i=0,this.ai=new Em,this.targetCount=0,this.ui=Ga.cr()}forEachTarget(t,n){return this.oi.forEach((s,l)=>n(l)),Q.resolve()}getLastRemoteSnapshotVersion(t){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Q.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),Q.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new Ga(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,Q.resolve()}updateTargetData(t,n){return this.Tr(n),Q.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.oi.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),Q.waitFor(c).next(()=>l)}getTargetCount(t){return Q.resolve(this.targetCount)}getTargetData(t,n){const s=this.oi.get(n)||null;return Q.resolve(s)}addMatchingKeys(t,n,s){return this.ai.Gr(n,s),Q.resolve()}removeMatchingKeys(t,n,s){this.ai.jr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),Q.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),Q.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ai.Yr(n);return Q.resolve(s)}containsKey(t,n){return Q.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(t,n){this.ci={},this.overlays={},this.li=new Qc(0),this.hi=!1,this.hi=!0,this.Pi=new ow,this.referenceDelegate=t(this),this.Ti=new hw(this),this.indexManager=new Xb,this.remoteDocumentCache=function(l){return new uw(l)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new Kb(n),this.Ei=new sw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new aw,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ci[t.toKey()];return s||(s=new lw(n,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,s){nt("MemoryPersistence","Starting transaction:",t);const l=new fw(this.li.next());return this.referenceDelegate.di(),s(l).next(c=>this.referenceDelegate.Ai(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ri(t,n){return Q.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,n)))}}class fw extends BS{constructor(t){super(),this.currentSequenceNumber=t}}class Tm{constructor(t){this.persistence=t,this.Vi=new Em,this.mi=null}static fi(t){return new Tm(t)}get gi(){if(this.mi)return this.mi;throw dt(60996)}addReference(t,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),Q.resolve()}removeReference(t,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),Q.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(l=>this.gi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.gi.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.gi,s=>{const l=ht.fromPath(s);return this.pi(t,l).next(c=>{c||n.removeEntry(l,yt.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return Q.or([()=>Q.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Mc{constructor(t,n){this.persistence=t,this.yi=new Bs(s=>qS(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=ew(this,n)}static fi(t,n){return new Mc(t,n)}di(){}Ai(t){return Q.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(l=>s+l))}br(t){let n=0;return this.yr(t,s=>{n++}).next(()=>n)}yr(t,n){return Q.forEach(this.yi,(s,l)=>this.Dr(t,s,l).next(c=>c?Q.resolve():n(l)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.si(t,d=>this.Dr(t,d,n).next(g=>{g||(s++,c.removeEntry(d,yt.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),Q.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),Q.resolve()}removeReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),Q.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),Q.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=mc(t.data.value)),n}Dr(t,n,s){return Q.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.yi.get(n);return Q.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.ds=s,this.As=l}static Rs(t,n){let s=Nt(),l=Nt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Am(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return uA()?8:jS(Ke())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.ws(t,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.bs(t,n,l,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new dw;return this.Ss(t,n,d).next(g=>{if(c.result=g,this.fs)return this.Ds(t,n,d,g.size)})}).next(()=>c.result)}Ds(t,n,s,l){return s.documentReadCount<this.gs?(Va()<=Ot.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Ma(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Q.resolve()):(Va()<=Ot.DEBUG&&nt("QueryEngine","Query:",Ma(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ps*l?(Va()<=Ot.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Ma(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,oi(n))):Q.resolve())}ws(t,n){if(z_(n))return Q.resolve(null);let s=oi(n);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Hd(n,null,"F"),s=oi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const d=Nt(...c);return this.ys.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const v=this.vs(n,g);return this.Cs(n,v,d,p.readTime)?this.ws(t,Hd(n,null,"F")):this.Fs(t,v,n,p)}))})))}bs(t,n,s,l){return z_(n)||l.isEqual(yt.min())?Q.resolve(null):this.ys.getDocuments(t,s).next(c=>{const d=this.vs(n,c);return this.Cs(n,d,s,l)?Q.resolve(null):(Va()<=Ot.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ma(n)),this.Fs(t,d,n,PS(l,El)).next(g=>g))})}vs(t,n){let s=new we(C0(t));return n.forEach((l,c)=>{Zc(t,c)&&(s=s.add(c))}),s}Cs(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,n,s){return Va()<=Ot.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Ma(n)),this.ys.getDocumentsMatchingQuery(t,n,Hr.min(),s)}Fs(t,n,s,l){return this.ys.getDocumentsMatchingQuery(t,s,l).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="LocalStore",gw=3e8;class pw{constructor(t,n,s,l){this.persistence=t,this.Ms=n,this.serializer=l,this.xs=new ee(Rt),this.Os=new Bs(c=>dm(c),mm),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new rw(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function yw(r,t,n,s){return new pw(r,t,n,s)}async function Z0(r,t){const n=Et(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.Ls(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let p=Nt();for(const v of l){d.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}for(const v of c){g.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}return n.localDocuments.getDocuments(s,p).next(v=>({ks:v,removedBatchIds:d,addedBatchIds:g}))})})}function _w(r,t){const n=Et(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=n.Bs.newChangeBuffer({trackRemovals:!0});return function(g,p,v,A){const I=v.batch,D=I.keys();let z=Q.resolve();return D.forEach(F=>{z=z.next(()=>A.getEntry(p,F)).next(W=>{const $=v.docVersions.get(F);Ft($!==null,48541),W.version.compareTo($)<0&&(I.applyToRemoteDocument(W,v),W.isValidDocument()&&(W.setReadTime(v.commitVersion),A.addEntry(W)))})}),z.next(()=>g.mutationQueue.removeMutationBatch(p,I))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Nt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(p=p.add(g.batch.mutations[v].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,l))})}function W0(r){const t=Et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function vw(r,t){const n=Et(r),s=t.snapshotVersion;let l=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.Bs.newChangeBuffer({trackRemovals:!0});l=n.xs;const g=[];t.targetChanges.forEach((A,I)=>{const D=l.get(I);if(!D)return;g.push(n.Ti.removeMatchingKeys(c,A.removedDocuments,I).next(()=>n.Ti.addMatchingKeys(c,A.addedDocuments,I)));let z=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(I)!==null?z=z.withResumeToken(Be.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(A.resumeToken,s)),l=l.insert(I,z),function(W,$,Tt){return W.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=gw?!0:Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0}(D,z,A)&&g.push(n.Ti.updateTargetData(c,z))});let p=Gi(),v=Nt();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(Ew(c,d,t.documentUpdates).next(A=>{p=A.qs,v=A.Qs})),!s.isEqual(yt.min())){const A=n.Ti.getLastRemoteSnapshotVersion(c).next(I=>n.Ti.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(A)}return Q.waitFor(g).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,v)).next(()=>p)}).then(c=>(n.xs=l,c))}function Ew(r,t,n){let s=Nt(),l=Nt();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let d=Gi();return n.forEach((g,p)=>{const v=c.get(g);p.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(yt.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):nt(Sm,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",p.version)}),{qs:d,Qs:l}})}function Tw(r,t){const n=Et(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=cm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function Aw(r,t){const n=Et(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Ti.getTargetData(s,t).next(c=>c?(l=c,Q.resolve(l)):n.Ti.allocateTargetId(s).next(d=>(l=new kr(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.xs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(t,s.targetId)),s})}async function Kd(r,t,n){const s=Et(r),l=s.xs.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Ja(d))throw d;nt(Sm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.xs=s.xs.remove(t),s.Os.delete(l.target)}function W_(r,t,n){const s=Et(r);let l=yt.min(),c=Nt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,v,A){const I=Et(p),D=I.Os.get(A);return D!==void 0?Q.resolve(I.xs.get(D)):I.Ti.getTargetData(v,A)}(s,d,oi(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(d,t,n?l:yt.min(),n?c:Nt())).next(g=>(Sw(s,ub(t),g),{documents:g,$s:c})))}function Sw(r,t,n){let s=r.Ns.get(t)||yt.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Ns.set(t,s)}class J_{constructor(){this.activeTargetIds=gb()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class bw{constructor(){this.xo=new J_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,s){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new J_,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="ConnectivityMonitor";class ev{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){nt(tv,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){nt(tv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc=null;function Yd(){return uc===null?uc=function(){return 268435456+Math.round(2147483648*Math.random())}():uc++,"0x"+uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="RestConnection",Rw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Iw{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${s}/databases/${l}`,this.Go=this.databaseId.database===Rc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}zo(t,n,s,l,c){const d=Yd(),g=this.jo(t,n.toUriEncodedString());nt(wd,`Sending RPC '${t}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,l,c);const{host:v}=new URL(g),A=Xa(v);return this.Jo(t,g,p,s,A).then(I=>(nt(wd,`Received RPC '${t}' ${d}: `,I),I),I=>{throw ja(wd,`RPC '${t}' ${d} failed with error: `,I,"url: ",g,"request:",s),I})}Yo(t,n,s,l,c,d){return this.zo(t,n,s,l,c)}Ho(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Za}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}jo(t,n){const s=Rw[t];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class Dw extends Iw{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,l,c){const d=Yd();return new Promise((g,p)=>{const v=new e0;v.setWithCredentials(!0),v.listenOnce(n0.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case dc.NO_ERROR:const I=v.getResponseJson();nt(Fe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(I)),g(I);break;case dc.TIMEOUT:nt(Fe,`RPC '${t}' ${d} timed out`),p(new ut(Y.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:const D=v.getStatus();if(nt(Fe,`RPC '${t}' ${d} failed with status:`,D,"response text:",v.getResponseText()),D>0){let z=v.getResponseJson();Array.isArray(z)&&(z=z[0]);const F=z==null?void 0:z.error;if(F&&F.status&&F.message){const W=function(Tt){const ot=Tt.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(ot)>=0?ot:Y.UNKNOWN}(F.status);p(new ut(W,F.message))}else p(new ut(Y.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new ut(Y.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{h_:t,streamId:d,P_:v.getLastErrorCode(),T_:v.getLastError()})}}finally{nt(Fe,`RPC '${t}' ${d} completed.`)}});const A=JSON.stringify(l);nt(Fe,`RPC '${t}' ${d} sending request:`,l),v.send(n,"POST",A,s,15)})}I_(t,n,s){const l=Yd(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=s0(),g=r0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const A=c.join("");nt(Fe,`Creating RPC '${t}' stream ${l}: ${A}`,p);const I=d.createWebChannel(A,p);this.E_(I);let D=!1,z=!1;const F=new Cw({Zo:$=>{z?nt(Fe,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(D||(nt(Fe,`Opening RPC '${t}' stream ${l} transport.`),I.open(),D=!0),nt(Fe,`RPC '${t}' stream ${l} sending:`,$),I.send($))},Xo:()=>I.close()}),W=($,Tt,ot)=>{$.listen(Tt,mt=>{try{ot(mt)}catch(Ut){setTimeout(()=>{throw Ut},0)}})};return W(I,cl.EventType.OPEN,()=>{z||(nt(Fe,`RPC '${t}' stream ${l} transport opened.`),F.__())}),W(I,cl.EventType.CLOSE,()=>{z||(z=!0,nt(Fe,`RPC '${t}' stream ${l} transport closed`),F.u_(),this.d_(I))}),W(I,cl.EventType.ERROR,$=>{z||(z=!0,ja(Fe,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),F.u_(new ut(Y.UNAVAILABLE,"The operation could not be completed")))}),W(I,cl.EventType.MESSAGE,$=>{var Tt;if(!z){const ot=$.data[0];Ft(!!ot,16349);const mt=ot,Ut=(mt==null?void 0:mt.error)||((Tt=mt[0])===null||Tt===void 0?void 0:Tt.error);if(Ut){nt(Fe,`RPC '${t}' stream ${l} received error:`,Ut);const _t=Ut.status;let Dt=function(S){const C=ge[S];if(C!==void 0)return z0(C)}(_t),x=Ut.message;Dt===void 0&&(Dt=Y.INTERNAL,x="Unknown error status: "+_t+" with message "+Ut.message),z=!0,F.u_(new ut(Dt,x)),I.close()}else nt(Fe,`RPC '${t}' stream ${l} received:`,ot),F.c_(ot)}}),W(g,i0.STAT_EVENT,$=>{$.stat===Pd.PROXY?nt(Fe,`RPC '${t}' stream ${l} detected buffering proxy`):$.stat===Pd.NOPROXY&&nt(Fe,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{F.a_()},0),F}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function Rd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(r){return new Mb(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(t,n,s=1e3,l=1.5,c=6e4){this.xi=t,this.timerId=n,this.A_=s,this.R_=l,this.V_=c,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),l=Math.max(0,n-s);l>0&&nt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="PersistentStream";class tE{constructor(t,n,s,l,c,d,g,p){this.xi=t,this.S_=s,this.D_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new J0(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Fi(n.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.v_===n&&this.z_(s,l)},s=>{t(()=>{const l=new ut(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(l)})})}z_(t,n){const s=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{s(()=>this.j_(l))}),this.stream.onMessage(l=>{s(()=>++this.M_==1?this.J_(l):this.onNext(l))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return nt(nv,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(nt(nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ow extends tE{constructor(t,n,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=Pb(this.serializer,t),s=function(c){if(!("targetChange"in c))return yt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?li(d.readTime):yt.min()}(t);return this.listener.Y_(n,s)}Z_(t){const n={};n.database=Qd(this.serializer),n.addTarget=function(c,d){let g;const p=d.target;if(g=jd(p)?{documents:zb(c,p)}:{query:Bb(c,p).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=H0(c,d.resumeToken);const v=qd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(yt.min())>0){g.readTime=Vc(c,d.snapshotVersion.toTimestamp());const v=qd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,t);const s=Hb(this.serializer,t);s&&(n.labels=s),this.Q_(n)}X_(t){const n={};n.database=Qd(this.serializer),n.removeTarget=t,this.Q_(n)}}class Nw extends tE{constructor(t,n,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=Lb(t.writeResults,t.commitTime),s=li(t.commitTime);return this.listener.ra(s,n)}ia(){const t={};t.database=Qd(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>Ub(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{}class Mw extends Vw{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.sa=!1}oa(){if(this.sa)throw new ut(Y.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,s,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.zo(t,Fd(n,s),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(Y.UNKNOWN,c.toString())})}Yo(t,n,s,l,c){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(t,Fd(n,s),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(Y.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class xw{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Fi(n),this.ua=!1):nt("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="RemoteStore";class kw{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=c,this.Ra.No(d=>{s.enqueueAndForget(async()=>{js(this)&&(nt(Us,"Restarting streams for network reachability change."),await async function(p){const v=Et(p);v.da.add(4),await Nl(v),v.Va.set("Unknown"),v.da.delete(4),await nh(v)}(this))})}),this.Va=new xw(s,l)}}async function nh(r){if(js(r))for(const t of r.Aa)await t(!0)}async function Nl(r){for(const t of r.Aa)await t(!1)}function eE(r,t){const n=Et(r);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Im(n)?Rm(n):to(n).N_()&&wm(n,t))}function bm(r,t){const n=Et(r),s=to(n);n.Ea.delete(t),s.N_()&&nE(n,t),n.Ea.size===0&&(s.N_()?s.k_():js(n)&&n.Va.set("Unknown"))}function wm(r,t){if(r.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}to(r).Z_(t)}function nE(r,t){r.ma.Ke(t),to(r).X_(t)}function Rm(r){r.ma=new Db({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r.Ea.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),to(r).start(),r.Va.ca()}function Im(r){return js(r)&&!to(r).O_()&&r.Ea.size>0}function js(r){return Et(r).da.size===0}function iE(r){r.ma=void 0}async function Pw(r){r.Va.set("Online")}async function Uw(r){r.Ea.forEach((t,n)=>{wm(r,t)})}async function Lw(r,t){iE(r),Im(r)?(r.Va.Pa(t),Rm(r)):r.Va.set("Unknown")}async function zw(r,t,n){if(r.Va.set("Online"),t instanceof j0&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ea.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ea.delete(g),l.ma.removeTarget(g))}(r,t)}catch(s){nt(Us,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await xc(r,s)}else if(t instanceof yc?r.ma.Xe(t):t instanceof B0?r.ma.ot(t):r.ma.nt(t),!n.isEqual(yt.min()))try{const s=await W0(r.localStore);n.compareTo(s)>=0&&await function(c,d){const g=c.ma.It(d);return g.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const A=c.Ea.get(v);A&&c.Ea.set(v,A.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,v)=>{const A=c.Ea.get(p);if(!A)return;c.Ea.set(p,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),nE(c,p);const I=new kr(A.target,p,v,A.sequenceNumber);wm(c,I)}),c.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){nt(Us,"Failed to raise snapshot:",s),await xc(r,s)}}async function xc(r,t,n){if(!Ja(t))throw t;r.da.add(1),await Nl(r),r.Va.set("Offline"),n||(n=()=>W0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{nt(Us,"Retrying IndexedDB access"),await n(),r.da.delete(1),await nh(r)})}function rE(r,t){return t().catch(n=>xc(r,n,t))}async function ih(r){const t=Et(r),n=Qr(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:cm;for(;Bw(t);)try{const l=await Tw(t.localStore,s);if(l===null){t.Ia.length===0&&n.k_();break}s=l.batchId,jw(t,l)}catch(l){await xc(t,l)}sE(t)&&aE(t)}function Bw(r){return js(r)&&r.Ia.length<10}function jw(r,t){r.Ia.push(t);const n=Qr(r);n.N_()&&n.ea&&n.ta(t.mutations)}function sE(r){return js(r)&&!Qr(r).O_()&&r.Ia.length>0}function aE(r){Qr(r).start()}async function Hw(r){Qr(r).ia()}async function qw(r){const t=Qr(r);for(const n of r.Ia)t.ta(n.mutations)}async function Fw(r,t,n){const s=r.Ia.shift(),l=ym.from(s,t,n);await rE(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await ih(r)}async function Gw(r,t){t&&Qr(r).ea&&await async function(s,l){if(function(d){return Ib(d)&&d!==Y.ABORTED}(l.code)){const c=s.Ia.shift();Qr(s).L_(),await rE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await ih(s)}}(r,t),sE(r)&&aE(r)}async function iv(r,t){const n=Et(r);n.asyncQueue.verifyOperationInProgress(),nt(Us,"RemoteStore received new credentials");const s=js(n);n.da.add(3),await Nl(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await nh(n)}async function Qw(r,t){const n=Et(r);t?(n.da.delete(2),await nh(n)):t||(n.da.add(2),await Nl(n),n.Va.set("Unknown"))}function to(r){return r.fa||(r.fa=function(n,s,l){const c=Et(n);return c.oa(),new Ow(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:Pw.bind(null,r),n_:Uw.bind(null,r),i_:Lw.bind(null,r),Y_:zw.bind(null,r)}),r.Aa.push(async t=>{t?(r.fa.L_(),Im(r)?Rm(r):r.Va.set("Unknown")):(await r.fa.stop(),iE(r))})),r.fa}function Qr(r){return r.ga||(r.ga=function(n,s,l){const c=Et(n);return c.oa(),new Nw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:Hw.bind(null,r),i_:Gw.bind(null,r),na:qw.bind(null,r),ra:Fw.bind(null,r)}),r.Aa.push(async t=>{t?(r.ga.L_(),await ih(r)):(await r.ga.stop(),r.Ia.length>0&&(nt(Us,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const d=Date.now()+s,g=new Cm(t,n,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dm(r,t){if(Fi("AsyncQueue",`${t}: ${r}`),Ja(r))return new ut(Y.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{static emptySet(t){return new Pa(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ht.comparator(n.key,s.key):(n,s)=>ht.comparator(n.key,s.key),this.keyedMap=hl(),this.sortedSet=new ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Pa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Pa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.pa=new ee(ht.comparator)}track(t){const n=t.doc.key,s=this.pa.get(n);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(n,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(n):t.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):dt(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,s)=>{t.push(s)}),t}}class Qa{constructor(t,n,s,l,c,d,g,p,v){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(t,n,s,l,c){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new Qa(t,n,Pa.emptySet(n),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$c(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class Yw{constructor(){this.queries=sv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Et(n),c=l.queries;l.queries=sv(),c.forEach((d,g)=>{for(const p of g.Sa)p.onError(s)})})(this,new ut(Y.ABORTED,"Firestore shutting down"))}}function sv(){return new Bs(r=>I0(r),$c)}async function Xw(r,t){const n=Et(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.Da()&&t.va()&&(s=2):(c=new Kw,s=t.va()?0:1);try{switch(s){case 0:c.ba=await n.onListen(l,!0);break;case 1:c.ba=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=Dm(d,`Initialization of query '${Ma(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,c),c.Sa.push(t),t.Fa(n.onlineState),c.ba&&t.Ma(c.ba)&&Om(n)}async function $w(r,t){const n=Et(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.va()?0:1:!c.Da()&&t.va()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Zw(r,t){const n=Et(r);let s=!1;for(const l of t){const c=l.query,d=n.queries.get(c);if(d){for(const g of d.Sa)g.Ma(l)&&(s=!0);d.ba=l}}s&&Om(n)}function Ww(r,t,n){const s=Et(r),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(n);s.queries.delete(t)}function Om(r){r.Ca.forEach(t=>{t.next()})}var Xd,av;(av=Xd||(Xd={})).xa="default",av.Cache="cache";class Jw{constructor(t,n,s){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Qa(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=Qa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Xd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(t){this.key=t}}class lE{constructor(t){this.key=t}}class tR{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Nt(),this.mutatedKeys=Nt(),this.Za=C0(t),this.Xa=new Pa(this.Za)}get eu(){return this.Ha}tu(t,n){const s=n?n.nu:new rv,l=n?n.Xa:this.Xa;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,I)=>{const D=l.get(A),z=Zc(this.query,I)?I:null,F=!!D&&this.mutatedKeys.has(D.key),W=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let $=!1;D&&z?D.data.isEqual(z.data)?F!==W&&(s.track({type:3,doc:z}),$=!0):this.ru(D,z)||(s.track({type:2,doc:z}),$=!0,(p&&this.Za(z,p)>0||v&&this.Za(z,v)<0)&&(g=!0)):!D&&z?(s.track({type:0,doc:z}),$=!0):D&&!z&&(s.track({type:1,doc:D}),$=!0,(p||v)&&(g=!0)),$&&(z?(d=d.add(z),c=W?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{Xa:d,nu:s,Cs:g,mutatedKeys:c}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const d=t.nu.wa();d.sort((A,I)=>function(z,F){const W=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:$})}};return W(z)-W(F)}(A.type,I.type)||this.Za(A.doc,I.doc)),this.iu(s),l=l!=null&&l;const g=n&&!l?this.su():[],p=this.Ya.size===0&&this.current&&!l?1:0,v=p!==this.Ja;return this.Ja=p,d.length!==0||v?{snapshot:new Qa(this.query,t.Xa,c,d,t.mutatedKeys,p===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new rv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Nt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return t.forEach(s=>{this.Ya.has(s)||n.push(new lE(s))}),this.Ya.forEach(s=>{t.has(s)||n.push(new oE(s))}),n}au(t){this.Ha=t.$s,this.Ya=Nt();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return Qa.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Nm="SyncEngine";class eR{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class nR{constructor(t){this.key=t,this.cu=!1}}class iR{constructor(t,n,s,l,c,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new Bs(g=>I0(g),$c),this.Pu=new Map,this.Tu=new Set,this.Iu=new ee(ht.comparator),this.Eu=new Map,this.du=new Em,this.Au={},this.Ru=new Map,this.Vu=Ga.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function rR(r,t,n=!0){const s=mE(r);let l;const c=s.hu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.uu()):l=await uE(s,t,n,!0),l}async function sR(r,t){const n=mE(r);await uE(n,t,!0,!1)}async function uE(r,t,n,s){const l=await Aw(r.localStore,oi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await aR(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&eE(r.remoteStore,l),g}async function aR(r,t,n,s,l){r.fu=(I,D,z)=>async function(W,$,Tt,ot){let mt=$.view.tu(Tt);mt.Cs&&(mt=await W_(W.localStore,$.query,!1).then(({documents:x})=>$.view.tu(x,mt)));const Ut=ot&&ot.targetChanges.get($.targetId),_t=ot&&ot.targetMismatches.get($.targetId)!=null,Dt=$.view.applyChanges(mt,W.isPrimaryClient,Ut,_t);return lv(W,$.targetId,Dt.ou),Dt.snapshot}(r,I,D,z);const c=await W_(r.localStore,t,!0),d=new tR(t,c.$s),g=d.tu(c.documents),p=Ol.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),v=d.applyChanges(g,r.isPrimaryClient,p);lv(r,n,v.ou);const A=new eR(t,n,d);return r.hu.set(t,A),r.Pu.has(n)?r.Pu.get(n).push(t):r.Pu.set(n,[t]),v.snapshot}async function oR(r,t,n){const s=Et(r),l=s.hu.get(t),c=s.Pu.get(l.targetId);if(c.length>1)return s.Pu.set(l.targetId,c.filter(d=>!$c(d,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Kd(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&bm(s.remoteStore,l.targetId),$d(s,l.targetId)}).catch(Wa)):($d(s,l.targetId),await Kd(s.localStore,l.targetId,!0))}async function lR(r,t){const n=Et(r),s=n.hu.get(t),l=n.Pu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),bm(n.remoteStore,s.targetId))}async function uR(r,t,n){const s=pR(r);try{const l=await function(d,g){const p=Et(d),v=be.now(),A=g.reduce((z,F)=>z.add(F.key),Nt());let I,D;return p.persistence.runTransaction("Locally write mutations","readwrite",z=>{let F=Gi(),W=Nt();return p.Bs.getEntries(z,A).next($=>{F=$,F.forEach((Tt,ot)=>{ot.isValidDocument()||(W=W.add(Tt))})}).next(()=>p.localDocuments.getOverlayedDocuments(z,F)).next($=>{I=$;const Tt=[];for(const ot of g){const mt=Ab(ot,I.get(ot.key).overlayedDocument);mt!=null&&Tt.push(new Xr(ot.key,mt,v0(mt.value.mapValue),Hn.exists(!0)))}return p.mutationQueue.addMutationBatch(z,v,Tt,g)}).next($=>{D=$;const Tt=$.applyToLocalDocumentSet(I,W);return p.documentOverlayCache.saveOverlays(z,$.batchId,Tt)})}).then(()=>({batchId:D.batchId,changes:O0(I)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(d,g,p){let v=d.Au[d.currentUser.toKey()];v||(v=new ee(Rt)),v=v.insert(g,p),d.Au[d.currentUser.toKey()]=v}(s,l.batchId,n),await Vl(s,l.changes),await ih(s.remoteStore)}catch(l){const c=Dm(l,"Failed to persist write");n.reject(c)}}async function cE(r,t){const n=Et(r);try{const s=await vw(n.localStore,t);t.targetChanges.forEach((l,c)=>{const d=n.Eu.get(c);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.cu=!0:l.modifiedDocuments.size>0?Ft(d.cu,14607):l.removedDocuments.size>0&&(Ft(d.cu,42227),d.cu=!1))}),await Vl(n,s,t)}catch(s){await Wa(s)}}function ov(r,t,n){const s=Et(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.hu.forEach((c,d)=>{const g=d.view.Fa(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=Et(d);p.onlineState=g;let v=!1;p.queries.forEach((A,I)=>{for(const D of I.Sa)D.Fa(g)&&(v=!0)}),v&&Om(p)}(s.eventManager,t),l.length&&s.lu.Y_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function cR(r,t,n){const s=Et(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Eu.get(t),c=l&&l.key;if(c){let d=new ee(ht.comparator);d=d.insert(c,Qe.newNoDocument(c,yt.min()));const g=Nt().add(c),p=new th(yt.min(),new Map,new ee(Rt),d,g);await cE(s,p),s.Iu=s.Iu.remove(c),s.Eu.delete(t),Vm(s)}else await Kd(s.localStore,t,!1).then(()=>$d(s,t,n)).catch(Wa)}async function hR(r,t){const n=Et(r),s=t.batch.batchId;try{const l=await _w(n.localStore,t);fE(n,s,null),hE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Vl(n,l)}catch(l){await Wa(l)}}async function fR(r,t,n){const s=Et(r);try{const l=await function(d,g){const p=Et(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return p.mutationQueue.lookupMutationBatch(v,g).next(I=>(Ft(I!==null,37113),A=I.keys(),p.mutationQueue.removeMutationBatch(v,I))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>p.localDocuments.getDocuments(v,A))})}(s.localStore,t);fE(s,t,n),hE(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Vl(s,l)}catch(l){await Wa(l)}}function hE(r,t){(r.Ru.get(t)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(t)}function fE(r,t,n){const s=Et(r);let l=s.Au[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.Au[s.currentUser.toKey()]=l}}function $d(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Pu.get(t))r.hu.delete(s),n&&r.lu.gu(s,n);r.Pu.delete(t),r.isPrimaryClient&&r.du.Hr(t).forEach(s=>{r.du.containsKey(s)||dE(r,s)})}function dE(r,t){r.Tu.delete(t.path.canonicalString());const n=r.Iu.get(t);n!==null&&(bm(r.remoteStore,n),r.Iu=r.Iu.remove(t),r.Eu.delete(n),Vm(r))}function lv(r,t,n){for(const s of n)s instanceof oE?(r.du.addReference(s.key,t),dR(r,s)):s instanceof lE?(nt(Nm,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,t),r.du.containsKey(s.key)||dE(r,s.key)):dt(19791,{pu:s})}function dR(r,t){const n=t.key,s=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(s)||(nt(Nm,"New document in limbo: "+n),r.Tu.add(s),Vm(r))}function Vm(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const t=r.Tu.values().next().value;r.Tu.delete(t);const n=new ht(Zt.fromString(t)),s=r.Vu.next();r.Eu.set(s,new nR(n)),r.Iu=r.Iu.insert(n,s),eE(r.remoteStore,new kr(oi(R0(n.path)),s,"TargetPurposeLimboResolution",Qc.le))}}async function Vl(r,t,n){const s=Et(r),l=[],c=[],d=[];s.hu.isEmpty()||(s.hu.forEach((g,p)=>{d.push(s.fu(p,t,n).then(v=>{var A;if((v||n)&&s.isPrimaryClient){const I=v?!v.fromCache:(A=n==null?void 0:n.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(v){l.push(v);const I=Am.Rs(p.targetId,v);c.push(I)}}))}),await Promise.all(d),s.lu.Y_(l),await async function(p,v){const A=Et(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Q.forEach(v,D=>Q.forEach(D.ds,z=>A.persistence.referenceDelegate.addReference(I,D.targetId,z)).next(()=>Q.forEach(D.As,z=>A.persistence.referenceDelegate.removeReference(I,D.targetId,z)))))}catch(I){if(!Ja(I))throw I;nt(Sm,"Failed to update sequence numbers: "+I)}for(const I of v){const D=I.targetId;if(!I.fromCache){const z=A.xs.get(D),F=z.snapshotVersion,W=z.withLastLimboFreeSnapshotVersion(F);A.xs=A.xs.insert(D,W)}}}(s.localStore,c))}async function mR(r,t){const n=Et(r);if(!n.currentUser.isEqual(t)){nt(Nm,"User change. New user:",t.toKey());const s=await Z0(n.localStore,t);n.currentUser=t,function(c,d){c.Ru.forEach(g=>{g.forEach(p=>{p.reject(new ut(Y.CANCELLED,d))})}),c.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Vl(n,s.ks)}}function gR(r,t){const n=Et(r),s=n.Eu.get(t);if(s&&s.cu)return Nt().add(s.key);{let l=Nt();const c=n.Pu.get(t);if(!c)return l;for(const d of c){const g=n.hu.get(d);l=l.unionWith(g.view.eu)}return l}}function mE(r){const t=Et(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=cE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cR.bind(null,t),t.lu.Y_=Zw.bind(null,t.eventManager),t.lu.gu=Ww.bind(null,t.eventManager),t}function pR(r){const t=Et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fR.bind(null,t),t}class kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=eh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return yw(this.persistence,new mw,t.initialUser,this.serializer)}Su(t){return new $0(Tm.fi,this.serializer)}bu(t){return new bw}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kc.provider={build:()=>new kc};class yR extends kc{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){Ft(this.persistence.referenceDelegate instanceof Mc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Jb(s,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new $0(s=>Mc.fi(s,n),this.serializer)}}class Zd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ov(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=mR.bind(null,this.syncEngine),await Qw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Yw}()}createDatastore(t){const n=eh(t.databaseInfo.databaseId),s=function(c){return new Dw(c)}(t.databaseInfo);return function(c,d,g,p){return new Mw(c,d,g,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,l,c,d,g){return new kw(s,l,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,n=>ov(this.syncEngine,n,0),function(){return ev.C()?new ev:new ww}())}createSyncEngine(t,n){return function(l,c,d,g,p,v,A){const I=new iR(l,c,d,g,p,v);return A&&(I.mu=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const c=Et(l);nt(Us,"RemoteStore shutting down."),c.da.add(5),await Nl(c),c.Ra.shutdown(),c.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Zd.provider={build:()=>new Zd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Fi("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="FirestoreClient";class vR{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Ge.UNAUTHENTICATED,this.clientId=u0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{nt(Kr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(nt(Kr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Dm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Id(r,t){r.asyncQueue.verifyOperationInProgress(),nt(Kr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await Z0(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function uv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await ER(r);nt(Kr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>iv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>iv(t.remoteStore,l)),r._onlineComponents=t}async function ER(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){nt(Kr,"Using user provided OfflineComponentProvider");try{await Id(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;ja("Error using user provided cache. Falling back to memory cache: "+n),await Id(r,new kc)}}else nt(Kr,"Using default OfflineComponentProvider"),await Id(r,new yR(void 0));return r._offlineComponents}async function gE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(nt(Kr,"Using user provided OnlineComponentProvider"),await uv(r,r._uninitializedComponentsProvider._online)):(nt(Kr,"Using default OnlineComponentProvider"),await uv(r,new Zd))),r._onlineComponents}function TR(r){return gE(r).then(t=>t.syncEngine)}async function AR(r){const t=await gE(r),n=t.eventManager;return n.onListen=rR.bind(null,t.syncEngine),n.onUnlisten=oR.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=sR.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=lR.bind(null,t.syncEngine),n}function SR(r,t,n={}){const s=new Br;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,v){const A=new _R({next:D=>{A.xu(),d.enqueueAndForget(()=>$w(c,I)),D.fromCache&&p.source==="server"?v.reject(new ut(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(D)},error:D=>v.reject(D)}),I=new Jw(g,A,{includeMetadataChanges:!0,Qa:!0});return Xw(c,I)}(await AR(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(r,t,n){if(!n)throw new ut(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function bR(r,t,n,s){if(t===!0&&s===!0)throw new ut(Y.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function hv(r){if(!ht.isDocumentKey(r))throw new ut(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function fv(r){if(ht.isDocumentKey(r))throw new ut(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Mm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":dt(12329,{type:typeof r})}function Ls(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ut(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mm(r);throw new ut(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="firestore.googleapis.com",dv=!0;class mv{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ut(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_E,this.ssl=dv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:dv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=X0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Zb)throw new ut(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}bR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ut(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ut(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ut(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class rh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new IS;switch(s.type){case"firstParty":return new NS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=cv.get(n);s&&(nt("ComponentProvider","Removing Datastore"),cv.delete(n),s.terminate())}(this),Promise.resolve()}}function wR(r,t,n,s={}){var l;r=Ls(r,rh);const c=Xa(t),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;c&&(Qv(`https://${p}`),Kv("Firestore",!0)),d.host!==_E&&d.host!==p&&ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:p,ssl:c,emulatorOptions:s});if(!xs(v,g)&&(r._setSettings(v),s.mockUserToken)){let A,I;if(typeof s.mockUserToken=="string")A=s.mockUserToken,I=Ge.MOCK_USER;else{A=tA(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new ut(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new Ge(D)}r._authCredentials=new CS(new o0(A,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new sh(this.firestore,t,this._query)}}class Mn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Mn(this.firestore,t,this._key)}}class jr extends sh{constructor(t,n,s){super(t,n,R0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Mn(this.firestore,null,new ht(t))}withConverter(t){return new jr(this.firestore,t,this._path)}}function gv(r,t,...n){if(r=en(r),yE("collection","path",t),r instanceof rh){const s=Zt.fromString(t,...n);return fv(s),new jr(r,null,s)}{if(!(r instanceof Mn||r instanceof jr))throw new ut(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(t,...n));return fv(s),new jr(r.firestore,null,s)}}function Wd(r,t,...n){if(r=en(r),arguments.length===1&&(t=u0.newId()),yE("doc","path",t),r instanceof rh){const s=Zt.fromString(t,...n);return hv(s),new Mn(r,null,new ht(s))}{if(!(r instanceof Mn||r instanceof jr))throw new ut(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(t,...n));return hv(s),new Mn(r.firestore,r instanceof jr?r.converter:null,new ht(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="AsyncQueue";class yv{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new J0(this,"async_queue_retry"),this.rc=()=>{const s=Rd();s&&nt(pv,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const n=Rd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=Rd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Br;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!Ja(t))throw t;nt(pv,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,Fi("INTERNAL UNHANDLED ERROR: ",_v(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(t,n,s){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const l=Cm.createAndSchedule(this,t,n,s,c=>this.uc(c));return this.Zu.push(l),l}oc(){this.Xu&&dt(47125,{cc:_v(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function _v(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Ml extends rh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new yv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new yv(t),this._firestoreClient=void 0,await t}}}function RR(r,t){const n=typeof r=="object"?r:Zv(),s=typeof r=="string"?r:Rc,l=lm(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=W1("firestore");c&&wR(l,...c)}return l}function vE(r){if(r._terminated)throw new ut(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||IR(r),r._firestoreClient}function IR(r){var t,n,s;const l=r._freezeSettings(),c=function(g,p,v,A){return new QS(g,p,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,pE(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new vR(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ka(Be.fromBase64String(t))}catch(n){throw new ut(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ka(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ut(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ut(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ut(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Rt(this._lat,t._lat)||Rt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=/^__.*__$/;class DR{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Xr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Dl(t,this.data,n,this.fieldTransforms)}}class EE{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Xr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function TE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{Ic:r})}}class Um{constructor(t,n,s,l,c,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Ec(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Um(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.dc({path:s,Rc:!1});return l.Vc(t),l}mc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.dc({path:s,Rc:!1});return l.Ec(),l}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Pc(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(TE(this.Ic)&&CR.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class OR{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||eh(t)}bc(t,n,s,l=!1){return new Um({Ic:t,methodName:n,wc:s,path:ze.emptyPath(),Rc:!1,yc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function AE(r){const t=r._freezeSettings(),n=eh(r._databaseId);return new OR(r._databaseId,!!t.ignoreUndefinedProperties,n)}function NR(r,t,n,s,l,c={}){const d=r.bc(c.merge||c.mergeFields?2:0,t,n,l);Lm("Data must be an object, but it was:",d,s);const g=SE(s,d);let p,v;if(c.merge)p=new gn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const I of c.mergeFields){const D=Jd(t,I,n);if(!d.contains(D))throw new ut(Y.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);wE(A,D)||A.push(D)}p=new gn(A),v=d.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,v=d.fieldTransforms;return new DR(new on(g),p,v)}class oh extends xm{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof oh}}function VR(r,t,n,s){const l=r.bc(1,t,n);Lm("Data must be an object, but it was:",l,s);const c=[],d=on.empty();Yr(s,(p,v)=>{const A=zm(t,p,n);v=en(v);const I=l.mc(A);if(v instanceof oh)c.push(A);else{const D=lh(v,I);D!=null&&(c.push(A),d.set(A,D))}});const g=new gn(c);return new EE(d,g,l.fieldTransforms)}function MR(r,t,n,s,l,c){const d=r.bc(1,t,n),g=[Jd(t,s,n)],p=[l];if(c.length%2!=0)throw new ut(Y.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)g.push(Jd(t,c[D])),p.push(c[D+1]);const v=[],A=on.empty();for(let D=g.length-1;D>=0;--D)if(!wE(v,g[D])){const z=g[D];let F=p[D];F=en(F);const W=d.mc(z);if(F instanceof oh)v.push(z);else{const $=lh(F,W);$!=null&&(v.push(z),A.set(z,$))}}const I=new gn(v);return new EE(A,I,d.fieldTransforms)}function lh(r,t){if(bE(r=en(r)))return Lm("Unsupported field value:",t,r),SE(r,t);if(r instanceof xm)return function(s,l){if(!TE(l.Ic))throw l.gc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.gc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,l){const c=[];let d=0;for(const g of s){let p=lh(g,l.fc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=en(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return pb(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=be.fromDate(s);return{timestampValue:Vc(l.serializer,c)}}if(s instanceof be){const c=new be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Vc(l.serializer,c)}}if(s instanceof km)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ka)return{bytesValue:H0(l.serializer,s._byteString)};if(s instanceof Mn){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:vm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Pm)return function(d,g){return{mapValue:{fields:{[y0]:{stringValue:_0},[Ic]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.gc("VectorValues must only contain numeric values.");return gm(g.serializer,v)})}}}}}}(s,l);throw l.gc(`Unsupported field value: ${Mm(s)}`)}(r,t)}function SE(r,t){const n={};return h0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yr(r,(s,l)=>{const c=lh(l,t.Ac(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function bE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof be||r instanceof km||r instanceof Ka||r instanceof Mn||r instanceof xm||r instanceof Pm)}function Lm(r,t,n){if(!bE(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const s=Mm(n);throw s==="an object"?t.gc(r+" a custom object"):t.gc(r+" "+s)}}function Jd(r,t,n){if((t=en(t))instanceof ah)return t._internalPath;if(typeof t=="string")return zm(r,t);throw Pc("Field path arguments must be of type string or ",r,!1,void 0,n)}const xR=new RegExp("[~\\*/\\[\\]]");function zm(r,t,n){if(t.search(xR)>=0)throw Pc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ah(...t.split("."))._internalPath}catch{throw Pc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Pc(r,t,n,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${l}`),p+=")"),new ut(Y.INVALID_ARGUMENT,g+r+p)}function wE(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new kR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(IE("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kR extends RE{data(){return super.data()}}function IE(r,t){return typeof t=="string"?zm(r,t):t instanceof ah?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UR{convertValue(t,n="none"){switch(Gr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ue(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Fr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw dt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Yr(t,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,l;const c=(l=(s=(n=t.fields)===null||n===void 0?void 0:n[Ic].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>ue(d.doubleValue));return new Pm(c)}convertGeoPoint(t){return new km(ue(t.latitude),ue(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Yc(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Tl(t));default:return null}}convertTimestamp(t){const n=qr(t);return new be(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Zt.fromString(t);Ft(Y0(s),9688,{name:t});const l=new Al(s.get(1),s.get(3)),c=new ht(s.popFirst(5));return l.isEqual(n)||Fi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class zR extends RE{constructor(t,n,s,l,c,d){super(t,n,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new _c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(IE("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class _c extends zR{data(t={}){return super.data(t)}}class BR{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new cc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new _c(this._firestore,this._userDataWriter,s.key,s,new cc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ut(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const p=new _c(l._firestore,l._userDataWriter,g.doc.key,g.doc,new cc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new _c(l._firestore,l._userDataWriter,g.doc.key,g.doc,new cc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:jR(g.type),doc:p,oldIndex:v,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:r})}}class HR extends UR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ka(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Mn(this.firestore,null,n)}}function qR(r){r=Ls(r,sh);const t=Ls(r.firestore,Ml),n=vE(t),s=new HR(t);return PR(r._query),SR(n,r._query).then(l=>new BR(t,s,r,l))}function FR(r,t,n,...s){r=Ls(r,Mn);const l=Ls(r.firestore,Ml),c=AE(l);let d;return d=typeof(t=en(t))=="string"||t instanceof ah?MR(c,"updateDoc",r._key,t,n,s):VR(c,"updateDoc",r._key,t),Bm(l,[d.toMutation(r._key,Hn.exists(!0))])}function GR(r){return Bm(Ls(r.firestore,Ml),[new pm(r._key,Hn.none())])}function QR(r,t){const n=Ls(r.firestore,Ml),s=Wd(r),l=LR(r.converter,t);return Bm(n,[NR(AE(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Hn.exists(!1))]).then(()=>s)}function Bm(r,t){return function(s,l){const c=new Br;return s.asyncQueue.enqueueAndForget(async()=>uR(await TR(s),l,c)),c.promise}(vE(r),t)}(function(t,n=!0){(function(l){Za=l})($a),Ba(new ks("firestore",(s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Ml(new DS(s.getProvider("auth-internal")),new VS(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ut(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Al(v.options.projectId,A)}(d,l),d);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Lr(A_,S_,t),Lr(A_,S_,"esm2017")})();var KR="firebase",YR="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr(KR,YR,"app");function jm(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function CE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XR=CE,DE=new Il("auth","Firebase",CE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new am("@firebase/auth");function $R(r,...t){Uc.logLevel<=Ot.WARN&&Uc.warn(`Auth (${$a}): ${r}`,...t)}function vc(r,...t){Uc.logLevel<=Ot.ERROR&&Uc.error(`Auth (${$a}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(r,...t){throw qm(r,...t)}function qn(r,...t){return qm(r,...t)}function Hm(r,t,n){const s=Object.assign(Object.assign({},XR()),{[t]:n});return new Il("auth","Firebase",s).create(t,{appName:r.name})}function Ms(r){return Hm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZR(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&fi(r,"argument-error"),Hm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return DE.create(r,...t)}function pt(r,t,...n){if(!r)throw qm(t,...n)}function ji(r){const t="INTERNAL ASSERTION FAILED: "+r;throw vc(t),new Error(t)}function Qi(r,t){r||ji(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function WR(){return vv()==="http:"||vv()==="https:"}function vv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WR()||aA()||"connection"in navigator)?navigator.onLine:!0}function t2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Qi(n>t,"Short delay should be less than long delay!"),this.isMobile=iA()||oA()}get(){return JR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(r,t){Qi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],i2=new xl(3e4,6e4);function Gm(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function eo(r,t,n,s,l={}){return NE(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=Cl(Object.assign({key:r.config.apiKey},d)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const v=Object.assign({method:t,headers:p},c);return sA()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&Xa(r.emulatorConfig.host)&&(v.credentials="include"),OE.fetch()(await VE(r,r.config.apiHost,n,g),v)})}async function NE(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},e2),t);try{const l=new s2(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw hc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,v]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw hc(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw hc(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw hc(r,"user-disabled",d);const A=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Hm(r,A,v);fi(r,A)}}catch(l){if(l instanceof Ki)throw l;fi(r,"network-request-failed",{message:String(l)})}}async function r2(r,t,n,s,l={}){const c=await eo(r,t,n,s,l);return"mfaPendingCredential"in c&&fi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function VE(r,t,n,s){const l=`${t}${n}?${s}`,c=r,d=c.config.emulator?Fm(r.config,l):`${r.config.apiScheme}://${l}`;return n2.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class s2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(qn(this.auth,"network-request-failed")),i2.get())})}}function hc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=qn(r,t,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(r,t){return eo(r,"POST","/v1/accounts:delete",t)}async function Lc(r,t){return eo(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function o2(r,t=!1){const n=en(r),s=await n.getIdToken(t),l=Qm(s);pt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:_l(Cd(l.auth_time)),issuedAtTime:_l(Cd(l.iat)),expirationTime:_l(Cd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Cd(r){return Number(r)*1e3}function Qm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return vc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Hv(n);return l?JSON.parse(l):(vc("Failed to decode base64 JWT payload"),null)}catch(l){return vc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Ev(r){const t=Qm(r);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Ki&&l2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function l2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_l(this.lastLoginAt),this.creationTime=_l(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(r){var t;const n=r.auth,s=await r.getIdToken(),l=await Rl(r,Lc(n,{idToken:s}));pt(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?ME(c.providerUserInfo):[],g=h2(r.providerData,d),p=r.isAnonymous,v=!(r.email&&c.passwordHash)&&!(g!=null&&g.length),A=p?v:!1,I={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new em(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(r,I)}async function c2(r){const t=en(r);await zc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function h2(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function ME(r){return r.map(t=>{var{providerId:n}=t,s=jm(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(r,t){const n=await NE(r,{},async()=>{const s=Cl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await VE(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return r.emulatorConfig&&Xa(r.emulatorConfig.host)&&(p.credentials="include"),OE.fetch()(d,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function d2(r,t){return eo(r,"POST","/v2/accounts:revokeToken",Gm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Ev(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const n=Ev(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await f2(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,d=new Ua;return s&&(pt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ua,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(r,t){pt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class jn{constructor(t){var{uid:n,auth:s,stsTokenManager:l}=t,c=jm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new u2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new em(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await Rl(this,this.stsTokenManager.getToken(this.auth,t));return pt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return o2(this,t)}reload(){return c2(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new jn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await zc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(Ms(this.auth));const t=await this.getIdToken();return await Rl(this,a2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,l,c,d,g,p,v,A;const I=(s=n.displayName)!==null&&s!==void 0?s:void 0,D=(l=n.email)!==null&&l!==void 0?l:void 0,z=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,F=(d=n.photoURL)!==null&&d!==void 0?d:void 0,W=(g=n.tenantId)!==null&&g!==void 0?g:void 0,$=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Tt=(v=n.createdAt)!==null&&v!==void 0?v:void 0,ot=(A=n.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:mt,emailVerified:Ut,isAnonymous:_t,providerData:Dt,stsTokenManager:x}=n;pt(mt&&x,t,"internal-error");const w=Ua.fromJSON(this.name,x);pt(typeof mt=="string",t,"internal-error"),Nr(I,t.name),Nr(D,t.name),pt(typeof Ut=="boolean",t,"internal-error"),pt(typeof _t=="boolean",t,"internal-error"),Nr(z,t.name),Nr(F,t.name),Nr(W,t.name),Nr($,t.name),Nr(Tt,t.name),Nr(ot,t.name);const S=new jn({uid:mt,auth:t,email:D,emailVerified:Ut,displayName:I,isAnonymous:_t,photoURL:F,phoneNumber:z,tenantId:W,stsTokenManager:w,createdAt:Tt,lastLoginAt:ot});return Dt&&Array.isArray(Dt)&&(S.providerData=Dt.map(C=>Object.assign({},C))),$&&(S._redirectEventId=$),S}static async _fromIdTokenResponse(t,n,s=!1){const l=new Ua;l.updateFromServerResponse(n);const c=new jn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await zc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?ME(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Ua;g.updateFromIdToken(s);const p=new jn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new em(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,v),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=new Map;function Hi(r){Qi(r instanceof Function,"Expected a class definition");let t=Tv.get(r);return t?(Qi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Tv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}xE.type="NONE";const Av=xE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(r,t,n){return`firebase:${r}:${t}:${n}`}class La{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Ec(this.userKey,l.apiKey,c),this.fullPersistenceKey=Ec("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Lc(this.auth,{idToken:t}).catch(()=>{});return n?jn._fromGetAccountInfoResponse(this.auth,n,t):null}return jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new La(Hi(Av),t,s);const l=(await Promise.all(n.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||Hi(Av);const d=Ec(s,t.config.apiKey,t.name);let g=null;for(const v of n)try{const A=await v._get(d);if(A){let I;if(typeof A=="string"){const D=await Lc(t,{idToken:A}).catch(()=>{});if(!D)break;I=await jn._fromGetAccountInfoResponse(t,D,A)}else I=jn._fromJSON(t,A);v!==c&&(g=I),c=v;break}}catch{}const p=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new La(c,t,s):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(n.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new La(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(LE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(kE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(BE(t))return"Blackberry";if(jE(t))return"Webos";if(PE(t))return"Safari";if((t.includes("chrome/")||UE(t))&&!t.includes("edge/"))return"Chrome";if(zE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function kE(r=Ke()){return/firefox\//i.test(r)}function PE(r=Ke()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function UE(r=Ke()){return/crios\//i.test(r)}function LE(r=Ke()){return/iemobile/i.test(r)}function zE(r=Ke()){return/android/i.test(r)}function BE(r=Ke()){return/blackberry/i.test(r)}function jE(r=Ke()){return/webos/i.test(r)}function Km(r=Ke()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function m2(r=Ke()){var t;return Km(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function g2(){return lA()&&document.documentMode===10}function HE(r=Ke()){return Km(r)||zE(r)||jE(r)||BE(r)||/windows phone/i.test(r)||LE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(r,t=[]){let n;switch(r){case"Browser":n=Sv(Ke());break;case"Worker":n=`${Sv(Ke())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${$a}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y2(r,t={}){return eo(r,"GET","/v2/passwordPolicy",Gm(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=6;class v2{constructor(t){var n,s,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:_2,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,l,c,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bv(this),this.idTokenSubscription=new bv(this),this.beforeStateQueue=new p2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Hi(n)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await La.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Lc(this,{idToken:t}),s=await jn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Bn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await zc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=t2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Bn(this.app))return Promise.reject(Ms(this));const n=t?en(t):null;return n&&pt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(Ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Bn(this.app)?Promise.reject(Ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await y2(this),n=new v2(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Il("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await d2(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Hi(t)||this._popupRedirectResolver;pt(n,this,"argument-error"),this.redirectPersistenceManager=await La.create(this,[Hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,l);return()=>{d=!0,p()}}else{const p=t.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=qE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var t;if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&$R(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function uh(r){return en(r)}class bv{constructor(t){this.auth=t,this.observer=null,this.addObserver=pA(n=>this.observer=n)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ym={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function T2(r){Ym=r}function A2(r){return Ym.loadJS(r)}function S2(){return Ym.gapiScript}function b2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(r,t){const n=lm(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(xs(c,t??{}))return l;fi(l,"already-initialized")}return n.initialize({options:t})}function R2(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Hi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function I2(r,t,n){const s=uh(r);pt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=FE(t),{host:d,port:g}=C2(t),p=g===null?"":`:${g}`,v={url:`${c}//${d}${p}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){pt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),pt(xs(v,s.config.emulator)&&xs(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,Xa(d)?(Qv(`${c}//${d}${p}`),Kv("Auth",!0)):D2()}function FE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function C2(r){const t=FE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:wv(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:wv(d)}}}function wv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function D2(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ji("not implemented")}_getIdTokenResponse(t){return ji("not implemented")}_linkToIdToken(t,n){return ji("not implemented")}_getReauthenticationResolver(t){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(r,t){return r2(r,"POST","/v1/accounts:signInWithIdp",Gm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="http://localhost";class zs extends GE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new zs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=n,c=jm(n,["providerId","signInMethod"]);if(!s||!l)return null;const d=new zs(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return za(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,za(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,za(t,n)}buildRequest(){const t={requestUri:O2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Cl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends Xm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends kl{constructor(){super("facebook.com")}static credential(t){return zs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Vr.credentialFromTaggedObject(t)}static credentialFromError(t){return Vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Vr.credential(t.oauthAccessToken)}catch{return null}}}Vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return zs._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Bi.credentialFromTaggedObject(t)}static credentialFromError(t){return Bi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Bi.credential(n,s)}catch{return null}}}Bi.GOOGLE_SIGN_IN_METHOD="google.com";Bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends kl{constructor(){super("github.com")}static credential(t){return zs._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Mr.credential(t.oauthAccessToken)}catch{return null}}}Mr.GITHUB_SIGN_IN_METHOD="github.com";Mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends kl{constructor(){super("twitter.com")}static credential(t,n){return zs._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return xr.credential(n,s)}catch{return null}}}xr.TWITTER_SIGN_IN_METHOD="twitter.com";xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await jn._fromIdTokenResponse(t,s,l),d=Rv(s);return new Ya({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=Rv(s);return new Ya({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function Rv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends Ki{constructor(t,n,s,l){var c;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Bc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new Bc(t,n,s,l)}}function QE(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Bc._fromErrorAndOperation(r,c,t,s):c})}async function N2(r,t,n=!1){const s=await Rl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ya._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(r,t,n=!1){const{auth:s}=r;if(Bn(s.app))return Promise.reject(Ms(s));const l="reauthenticate";try{const c=await Rl(r,QE(s,l,t,r),n);pt(c.idToken,s,"internal-error");const d=Qm(c.idToken);pt(d,s,"internal-error");const{sub:g}=d;return pt(r.uid===g,s,"user-mismatch"),Ya._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&fi(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(r,t,n=!1){if(Bn(r.app))return Promise.reject(Ms(r));const s="signIn",l=await QE(r,s,t),c=await Ya._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}function x2(r,t,n,s){return en(r).onIdTokenChanged(t,n,s)}function k2(r,t,n){return en(r).beforeAuthStateChanged(t,n)}function P2(r){return en(r).signOut()}const jc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jc,"1"),this.storage.removeItem(jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=1e3,L2=10;class YE extends KE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);g2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,L2):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},U2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}YE.type="LOCAL";const z2=YE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE extends KE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}XE.type="SESSION";const $E=XE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new ch(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async v=>v(n.origin,c)),p=await B2(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const v=$m("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(I){const D=I;if(D.data.eventId===v)switch(D.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(D.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return window}function H2(r){ui().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(){return typeof ui().WorkerGlobalScope<"u"&&typeof ui().importScripts=="function"}async function q2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F2(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function G2(){return ZE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="firebaseLocalStorageDb",Q2=1,Hc="firebaseLocalStorage",JE="fbase_key";class Pl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hh(r,t){return r.transaction([Hc],t?"readwrite":"readonly").objectStore(Hc)}function K2(){const r=indexedDB.deleteDatabase(WE);return new Pl(r).toPromise()}function nm(){const r=indexedDB.open(WE,Q2);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Hc,{keyPath:JE})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Hc)?t(s):(s.close(),await K2(),t(await nm()))})})}async function Iv(r,t,n){const s=hh(r,!0).put({[JE]:t,value:n});return new Pl(s).toPromise()}async function Y2(r,t){const n=hh(r,!1).get(t),s=await new Pl(n).toPromise();return s===void 0?null:s.value}function Cv(r,t){const n=hh(r,!0).delete(t);return new Pl(n).toPromise()}const X2=800,$2=3;class tT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>$2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(G2()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await q2(),!this.activeServiceWorker)return;this.sender=new j2(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||F2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await nm();return await Iv(t,jc,"1"),await Cv(t,jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Iv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>Y2(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Cv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=hh(l,!1).getAll();return new Pl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),X2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tT.type="LOCAL";const Z2=tT;new xl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(r,t){return t?Hi(t):(pt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm extends GE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return za(t,this._buildIdpRequest())}_linkToIdToken(t,n){return za(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return za(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function W2(r){return M2(r.auth,new Zm(r),r.bypassAuthState)}function J2(r){const{auth:t,user:n}=r;return pt(n,t,"internal-error"),V2(n,new Zm(r),r.bypassAuthState)}async function tI(r){const{auth:t,user:n}=r;return pt(n,t,"internal-error"),N2(n,new Zm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return W2;case"linkViaPopup":case"linkViaRedirect":return tI;case"reauthViaPopup":case"reauthViaRedirect":return J2;default:fi(this.auth,"internal-error")}}resolve(t){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=new xl(2e3,1e4);async function nI(r,t,n){if(Bn(r.app))return Promise.reject(qn(r,"operation-not-supported-in-this-environment"));const s=uh(r);ZR(r,t,Xm);const l=eT(s,n);return new Ns(s,"signInViaPopup",t,l).executeNotNull()}class Ns extends nT{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ns.currentPopupAction&&Ns.currentPopupAction.cancel(),Ns.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){Qi(this.filter.length===1,"Popup operations only handle one event");const t=$m();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ns.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,eI.get())};t()}}Ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="pendingRedirect",Tc=new Map;class rI extends nT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Tc.get(this.auth._key());if(!t){try{const s=await sI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Tc.set(this.auth._key(),t)}return this.bypassAuthState||Tc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sI(r,t){const n=lI(t),s=oI(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function aI(r,t){Tc.set(r._key(),t)}function oI(r){return Hi(r._redirectPersistence)}function lI(r){return Ec(iI,r.config.apiKey,r.name)}async function uI(r,t,n=!1){if(Bn(r.app))return Promise.reject(Ms(r));const s=uh(r),l=eT(s,t),d=await new rI(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=10*60*1e3;class hI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!fI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!iT(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(qn(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=cI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dv(t))}saveEventToCache(t){this.cachedEventUids.add(Dv(t)),this.lastProcessedEventTime=Date.now()}}function Dv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function iT({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function fI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(r,t={}){return eo(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gI=/^https?/;async function pI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await dI(r);for(const n of t)try{if(yI(n))return}catch{}fi(r,"unauthorized-domain")}function yI(r){const t=tm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!gI.test(n))return!1;if(mI.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=new xl(3e4,6e4);function Ov(){const r=ui().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function vI(r){return new Promise((t,n)=>{var s,l,c;function d(){Ov(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ov(),n(qn(r,"network-request-failed"))},timeout:_I.get()})}if(!((l=(s=ui().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=ui().gapi)===null||c===void 0)&&c.load)d();else{const g=b2("iframefcb");return ui()[g]=()=>{gapi.load?d():n(qn(r,"network-request-failed"))},A2(`${S2()}?onload=${g}`).catch(p=>n(p))}}).catch(t=>{throw Ac=null,t})}let Ac=null;function EI(r){return Ac=Ac||vI(r),Ac}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=new xl(5e3,15e3),AI="__/auth/iframe",SI="emulator/auth/iframe",bI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RI(r){const t=r.config;pt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Fm(t,SI):`https://${r.config.authDomain}/${AI}`,s={apiKey:t.apiKey,appName:r.name,v:$a},l=wI.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Cl(s).slice(1)}`}async function II(r){const t=await EI(r),n=ui().gapi;return pt(n,r,"internal-error"),t.open({where:document.body,url:RI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bI,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=qn(r,"network-request-failed"),g=ui().setTimeout(()=>{c(d)},TI.get());function p(){ui().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DI=500,OI=600,NI="_blank",VI="http://localhost";class Nv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MI(r,t,n,s=DI,l=OI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},CI),{width:s.toString(),height:l.toString(),top:c,left:d}),v=Ke().toLowerCase();n&&(g=UE(v)?NI:n),kE(v)&&(t=t||VI,p.scrollbars="yes");const A=Object.entries(p).reduce((D,[z,F])=>`${D}${z}=${F},`,"");if(m2(v)&&g!=="_self")return xI(t||"",g),new Nv(null);const I=window.open(t||"",g,A);pt(I,r,"popup-blocked");try{I.focus()}catch{}return new Nv(I)}function xI(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="__/auth/handler",PI="emulator/auth/handler",UI=encodeURIComponent("fac");async function Vv(r,t,n,s,l,c){pt(r.config.authDomain,r,"auth-domain-config-required"),pt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:$a,eventId:l};if(t instanceof Xm){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",gA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,I]of Object.entries({}))d[A]=I}if(t instanceof kl){const A=t.getScopes().filter(I=>I!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const p=await r._getAppCheckToken(),v=p?`#${UI}=${encodeURIComponent(p)}`:"";return`${LI(r)}?${Cl(g).slice(1)}${v}`}function LI({config:r}){return r.emulator?Fm(r,PI):`https://${r.authDomain}/${kI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="webStorageSupport";class zI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$E,this._completeRedirectFn=uI,this._overrideRedirectResult=aI}async _openPopup(t,n,s,l){var c;Qi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await Vv(t,n,s,tm(),l);return MI(t,d,$m())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await Vv(t,n,s,tm(),l);return H2(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Qi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await II(t),s=new hI(t);return n.register("authEvent",l=>(pt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Dd,{type:Dd},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Dd];d!==void 0&&n(!!d),fi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pI(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return HE()||PE()||Km()}}const BI=zI;var Mv="@firebase/auth",xv="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qI(r){Ba(new ks("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qE(r)},v=new E2(s,l,c,p);return R2(v,n),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ba(new ks("auth-internal",t=>{const n=uh(t.getProvider("auth").getImmediate());return(s=>new jI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(Mv,xv,HI(r)),Lr(Mv,xv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=5*60,GI=Gv("authIdTokenMaxAge")||FI;let kv=null;const QI=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>GI)return;const l=n==null?void 0:n.token;kv!==l&&(kv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function KI(r=Zv()){const t=lm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=w2(r,{popupRedirectResolver:BI,persistence:[Z2,z2,$E]}),s=Gv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=QI(c.toString());k2(n,d,()=>d(n.currentUser)),x2(n,g=>d(g))}}const l=qv("auth");return l&&I2(n,`http://${l}`),n}function YI(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}T2({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=qn("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",YI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qI("Browser");const XI={apiKey:"AIzaSyDv6WQFGWN-sxzYu5jgZK_1C_4G7Qo5sBc",authDomain:"todo-app-44b71.firebaseapp.com",projectId:"todo-app-44b71",storageBucket:"todo-app-44b71.appspot.com",messagingSenderId:"470583226907",appId:"1:470583226907:web:87f3e0ceee662492123ebe",measurementId:"G-3QY3GBTZ4N"},rT=$v(XI),sT=KI(rT),$I=new Bi,fc=RR(rT);var Od={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Pv;function ZI(){return Pv||(Pv=1,function(r){(function(){var t={}.hasOwnProperty;function n(){for(var c="",d=0;d<arguments.length;d++){var g=arguments[d];g&&(c=l(c,s(g)))}return c}function s(c){if(typeof c=="string"||typeof c=="number")return c;if(typeof c!="object")return"";if(Array.isArray(c))return n.apply(null,c);if(c.toString!==Object.prototype.toString&&!c.toString.toString().includes("[native code]"))return c.toString();var d="";for(var g in c)t.call(c,g)&&c[g]&&(d=l(d,g));return d}function l(c,d){return d?c?c+" "+d:c+d:c}r.exports?(n.default=n,r.exports=n):window.classNames=n})()}(Od)),Od.exports}var WI=ZI();const fh=zv(WI),JI=["xxl","xl","lg","md","sm","xs"],tC="xs",dh=tn.createContext({prefixes:{},breakpoints:JI,minBreakpoint:tC}),{Consumer:TC,Provider:AC}=dh;function Wm(r,t){const{prefixes:n}=tn.useContext(dh);return r||n[t]||t}function aT(){const{breakpoints:r}=tn.useContext(dh);return r}function oT(){const{minBreakpoint:r}=tn.useContext(dh);return r}const im=tn.forwardRef(({bsPrefix:r,fluid:t=!1,as:n="div",className:s,...l},c)=>{const d=Wm(r,"container"),g=typeof t=="string"?`-${t}`:"-fluid";return st.jsx(n,{ref:c,...l,className:fh(s,t?`${d}${g}`:d)})});im.displayName="Container";const rm=tn.forwardRef(({bsPrefix:r,className:t,as:n="div",...s},l)=>{const c=Wm(r,"row"),d=aT(),g=oT(),p=`${c}-cols`,v=[];return d.forEach(A=>{const I=s[A];delete s[A];let D;I!=null&&typeof I=="object"?{cols:D}=I:D=I;const z=A!==g?`-${A}`:"";D!=null&&v.push(`${p}${z}-${D}`)}),st.jsx(n,{ref:l,...s,className:fh(t,c,...v)})});rm.displayName="Row";function eC({as:r,bsPrefix:t,className:n,...s}){t=Wm(t,"col");const l=aT(),c=oT(),d=[],g=[];return l.forEach(p=>{const v=s[p];delete s[p];let A,I,D;typeof v=="object"&&v!=null?{span:A,offset:I,order:D}=v:A=v;const z=p!==c?`-${p}`:"";A&&d.push(A===!0?`${t}${z}`:`${t}${z}-${A}`),D!=null&&g.push(`order${z}-${D}`),I!=null&&g.push(`offset${z}-${I}`)}),[{...s,className:fh(n,...d,...g)},{as:r,bsPrefix:t,spans:d}]}const Ds=tn.forwardRef((r,t)=>{const[{className:n,...s},{as:l="div",bsPrefix:c,spans:d}]=eC(r);return st.jsx(l,{...s,ref:t,className:fh(n,!d.length&&c)})});Ds.displayName="Col";var lT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Uv=Vs.createContext&&Vs.createContext(lT),nC=["attr","size","title"];function iC(r,t){if(r==null)return{};var n=rC(r,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function rC(r,t){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}function qc(){return qc=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},qc.apply(this,arguments)}function Lv(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),n.push.apply(n,s)}return n}function Fc(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lv(Object(n),!0).forEach(function(s){sC(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Lv(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function sC(r,t,n){return t=aC(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function aC(r){var t=oC(r,"string");return typeof t=="symbol"?t:t+""}function oC(r,t){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function uT(r){return r&&r.map((t,n)=>Vs.createElement(t.tag,Fc({key:n},t.attr),uT(t.child)))}function Ul(r){return t=>Vs.createElement(lC,qc({attr:Fc({},r.attr)},t),uT(r.child))}function lC(r){var t=n=>{var{attr:s,size:l,title:c}=r,d=iC(r,nC),g=l||n.size||"1em",p;return n.className&&(p=n.className),r.className&&(p=(p?p+" ":"")+r.className),Vs.createElement("svg",qc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,d,{className:p,style:Fc(Fc({color:r.color||n.color},n.style),r.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),c&&Vs.createElement("title",null,c),r.children)};return Uv!==void 0?Vs.createElement(Uv.Consumer,null,n=>t(n)):t(lT)}function uC(r){return Ul({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"5",width:"6",height:"6",rx:"1"},child:[]},{tag:"path",attr:{d:"m3 17 2 2 4-4"},child:[]},{tag:"path",attr:{d:"M13 6h8"},child:[]},{tag:"path",attr:{d:"M13 12h8"},child:[]},{tag:"path",attr:{d:"M13 18h8"},child:[]}]})(r)}function cC(r){return Ul({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 21h14a2 2 0 0 0 2-2V8a1 1 0 0 0-.29-.71l-4-4A1 1 0 0 0 16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2zm10-2H9v-5h6zM13 7h-2V5h2zM5 5h2v4h8V5h.59L19 8.41V19h-2v-5a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v5H5z"},child:[]}]})(r)}function hC(r){return Ul({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m18.988 2.012 3 3L19.701 7.3l-3-3zM8 16h3l7.287-7.287-3-3L8 13z"},child:[]},{tag:"path",attr:{d:"M19 19H8.158c-.026 0-.053.01-.079.01-.033 0-.066-.009-.1-.01H5V5h6.847l2-2H5c-1.103 0-2 .896-2 2v14c0 1.104.897 2 2 2h14a2 2 0 0 0 2-2v-8.668l-2 2V19z"},child:[]}]})(r)}function fC(r){return Ul({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"},child:[]}]})(r)}function dC({user:r}){const[t,n]=tn.useState(""),[s,l]=tn.useState([]),[c,d]=tn.useState(null),[g,p]=tn.useState("");tn.useEffect(()=>{if(!r)return;(async()=>{try{const W=(await qR(gv(fc,`users/${r.uid}/todos`))).docs.map($=>({id:$.id,text:$.data().text}));l(W)}catch(F){console.error("Error fetching tasks:",F)}})()},[r]);async function v(){if(!(t.trim()===""||!r))try{const z={text:t},F=await QR(gv(fc,`users/${r.uid}/todos`),z);l([...s,{id:F.id,text:t}]),n("")}catch(z){console.error("Error adding task:",z)}}async function A(z){if(r)try{await GR(Wd(fc,`users/${r.uid}/todos`,z)),l(s.filter(F=>F.id!==z))}catch(F){console.error("Error deleting task:",F)}}function I(z){const F=s.find(W=>W.id===z);d(z),p(F.text)}async function D(z){if(r)try{await FR(Wd(fc,`users/${r.uid}/todos`,z),{text:g}),l(s.map(F=>F.id===z?{...F,text:g}:F)),d(null),p("")}catch(F){console.error("Error updating task:",F)}}return st.jsx(st.Fragment,{children:st.jsx("div",{className:"body",children:st.jsxs("div",{style:{backgroundColor:"#2C2C2C",padding:"30px",borderRadius:"10px"},children:[st.jsxs("div",{children:[st.jsx(im,{className:"d-flex justify-content-center",children:st.jsxs(rm,{className:"d-flex justify-content-center align-items-center ",style:{width:"600px"},children:[st.jsx(Ds,{className:"d-flex justify-content-end ",children:st.jsx("hr",{style:{width:"50px",color:"white",height:"1px"}})}),st.jsx(Ds,{className:"todoText",style:{fontSize:"xx-large"},children:"TO-DO NOW"}),st.jsx(Ds,{className:"d-flex justify-content-start ",children:st.jsx("hr",{style:{width:"50px",color:"white",height:"1px"}})})]})}),st.jsx(im,{className:"d-flex justify-content-center mb-3",children:st.jsxs(rm,{className:"d-flex justify-content-center align-items-center",children:[st.jsx(Ds,{className:"d-flex justify-content-start ",children:st.jsx("hr",{style:{width:"150px",color:"white",height:"1px"}})}),st.jsx(Ds,{children:st.jsx(uC,{style:{color:"white",width:"24px",height:"24px"}})}),st.jsx(Ds,{className:"d-flex justify-content-start ",children:st.jsx("hr",{style:{width:"150px",color:"white",height:"1px"}})})]})}),st.jsxs("div",{className:"input",children:[st.jsx("input",{style:{borderRadius:"10px",backgroundColor:"#D9D9D9"},className:"text_input",type:"text",placeholder:"  add task...",value:t,onChange:z=>n(z.target.value)}),st.jsx("button",{className:"add_button",onClick:v,children:"Add task"})]})]}),st.jsx("div",{className:"d-flex justify-content-center",style:{marginLeft:"25px",marginBottom:"30px"},children:st.jsx("hr",{style:{width:"570px"}})}),st.jsx("div",{className:"main",children:s.map(z=>st.jsx("div",{className:"div_parent_task",children:st.jsxs("div",{className:"task_div",children:[c===z.id?st.jsx("input",{className:"text_input",value:g,onChange:F=>p(F.target.value)}):st.jsx("span",{className:"text_task",children:z.text}),st.jsxs("div",{className:"two_buttons",children:[st.jsxs("button",{className:"btn",onClick:()=>A(z.id),children:[st.jsx(fC,{className:"taskBtn",style:{borderRadius:"5px",width:"24px",height:"23px"}})," "]}),c===z.id?st.jsx("button",{className:"btn",onClick:()=>D(z.id),children:st.jsx(cC,{className:"taskBtn",style:{borderRadius:"5px",width:"24px",height:"23px"}})}):st.jsx("button",{className:"btn",onClick:()=>I(z.id),children:st.jsx(hC,{className:"taskBtn",style:{borderRadius:"5px",width:"24px",height:"23px"}})})]})]})},z.id))})]})})})}const mC="/assets/01-inN8ilkM.png",gC="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20384%20512'%3e%3c!--!Font%20Awesome%20Free%206.7.2%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202025%20Fonticons,%20Inc.--%3e%3cpath%20fill='%23ffffff'%20d='M192%200c-41.8%200-77.4%2026.7-90.5%2064L64%2064C28.7%2064%200%2092.7%200%20128L0%20448c0%2035.3%2028.7%2064%2064%2064l256%200c35.3%200%2064-28.7%2064-64l0-320c0-35.3-28.7-64-64-64l-37.5%200C269.4%2026.7%20233.8%200%20192%200zm0%2064a32%2032%200%201%201%200%2064%2032%2032%200%201%201%200-64zM305%20273L177%20401c-9.4%209.4-24.6%209.4-33.9%200L79%20337c-9.4-9.4-9.4-24.6%200-33.9s24.6-9.4%2033.9%200l47%2047L271%20239c9.4-9.4%2024.6-9.4%2033.9%200s9.4%2024.6%200%2033.9z'/%3e%3c/svg%3e";function pC(r){return Ul({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(r)}function yC({setUser:r}){const t=async()=>{try{const s=(await nI(sT,$I)).user;console.log("Logged in:",s.displayName),r(s)}catch(n){console.error("login failed:",n.message)}};return st.jsxs("div",{className:"d-flex justify-content-center align-content-center",children:[st.jsxs("div",{className:"rightSide",children:[st.jsx("img",{style:{width:"25px",marginBottom:"80px"},src:gC,alt:""}),st.jsx("h1",{className:"todoheader",style:{color:"white"},children:" TODO LIST FOR YOU "}),st.jsx("p",{className:"superP",style:{color:"white"},children:"Super easy to use"}),st.jsxs("button",{className:"singBtn",onClick:t,children:["Sign in with Google ",st.jsx(pC,{style:{width:"24px"}})," "]})]}),st.jsx("div",{className:"leftSide",style:{backgroundImage:`url(${mC})`,backgroundSize:"cover"}})]})}function _C(){const[r,t]=tn.useState(null),n=async()=>{try{await P2(sT),t(null)}catch(s){console.error("Error signing out:",s)}};return st.jsx(st.Fragment,{children:r?st.jsxs(st.Fragment,{children:[st.jsxs("div",{className:"bodyApp ",style:{},children:[st.jsxs("h2",{className:"helloName",children:["Hello, ",r.displayName]}),st.jsx("button",{className:"logoutBtn",style:{borderRadius:"10px",padding:"5px"},onClick:n,children:"Logout"})]}),st.jsx(dC,{user:r})]}):st.jsx(yC,{setUser:t})})}q1.createRoot(document.getElementById("root")).render(st.jsx(tn.StrictMode,{children:st.jsx(_C,{})}));
